(function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)})({0:function(t,e,n){t.exports=n("56d7")},"02cc":function(t,e,n){e=t.exports=n("53a3"),e.version=n("205b").version},"041b":function(t,e,n){(function(e,n){t.exports=n()})(0,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";function i(){var t=document.documentElement;return"requestFullscreen"in t||"mozRequestFullScreen"in t&&document.mozFullScreenEnabled||"msRequestFullscreen"in t&&document.msFullscreenEnabled||"webkitRequestFullScreen"in t}function r(){return!!(document.fullscreen||document.mozFullScreen||document.fullscreenElement||document.msFullscreenElement||document.webkitIsFullScreen)}function o(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():console.log("Fullscreen API is not supported.")}function a(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():console.log("Fullscreen API is not supported.")}function s(t){document.addEventListener("fullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("MSFullscreenChange",t),document.addEventListener("webkitfullscreenchange",t)}function l(t){document.removeEventListener("fullscreenchange",t),document.removeEventListener("mozfullscreenchange",t),document.removeEventListener("MSFullscreenChange",t),document.removeEventListener("webkitfullscreenchange",t)}function c(){var t={},e=!1,n=0,i=arguments.length;function r(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e&&"[object Object]"===Object.prototype.toString.call(n[i])?t[i]=c(!0,t[i],n[i]):t[i]=n[i])}for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],n++);n<i;n++){var o=arguments[n];r(o)}return t}e["b"]=i,e["c"]=r,e["g"]=o,e["d"]=a,e["f"]=s,e["e"]=l,e["a"]=c},function(t,e,n){"use strict";var i=n(0),r={wrap:!0,background:"#333",callback:function(){},fullscreenClass:"fullscreen"},o=n.i(i["b"])();function a(){return n.i(i["c"])()}function s(t,e,n){o&&(void 0===n?a()?c():l(t,e):n?l(t,e):c())}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,e=arguments[1];if(o&&!a()){e=n.i(i["a"])(!0,{},r,e);var s=t,l=void 0;e.wrap&&(l=document.createElement("div"),l.style["overflow-y"]="auto",l.style["background"]=e.background,l.style["width"]="100%",l.style["height"]="100%",s.parentNode.insertBefore(l,s),l.appendChild(s),l.addEventListener("click",function(t){t.target===this&&n.i(i["d"])()})),s.classList.add(e.fullscreenClass),n.i(i["f"])(c),n.i(i["g"])(e.wrap?l:s)}function c(){var t=a();t||(n.i(i["e"])(c),s.classList.remove(e.fullscreenClass),e.wrap&&(l.parentNode.insertBefore(s,l),l.parentNode.removeChild(l))),e.callback&&e.callback(t)}}function c(){o&&a()&&n.i(i["d"])()}e["a"]={getState:a,toggle:s,enter:l,exit:c}},function(t,e,n){var i=n(5)(n(4),n(6),null,null);i.options.__file="D:\\Workspaces\\Web\\Git\\vue-fullscreen\\src\\component.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] component.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n.n(i),o=n(1),a=n(0);e["default"]={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.name||"fullscreen";t.component(i,n.i(a["a"])(r.a,{name:i})),t.prototype["$"+i]=o["a"]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);e["default"]={props:{background:{type:String,default:"#333"},fullscreenClass:{type:String,default:"fullscreen"},fullscreen:{type:Boolean,default:!1}},data:function(){return{supportFullScreen:!1,isFullscreen:!1}},computed:{wrapperStyle:function(){return{background:this.background,"overflow-y":"auto",width:"100%",height:"100%"}}},methods:{toggle:function(t){void 0===t?n.i(i["c"])()?this.exit():this.enter():t?this.enter():this.exit()},enter:function(){this.supportFullScreen&&(n.i(i["f"])(this.fullScreenCallback),n.i(i["g"])(this.$el))},exit:function(){this.supportFullScreen&&n.i(i["d"])()},getState:function(){return n.i(i["c"])()},shadeClick:function(t){t.target===this.$el&&this.exit()},fullScreenCallback:function(){this.isFullscreen=n.i(i["c"])(),this.isFullscreen||n.i(i["e"])(this.fullScreenCallback),this.$emit("change",this.isFullscreen),this.$emit("update:fullscreen",this.isFullscreen)}},watch:{fullscreen:function(t){t!==n.i(i["c"])()&&(t?this.enter():this.exit())}},created:function(){this.supportFullScreen=n.i(i["b"])()}}},function(t,e){t.exports=function(t,e,n,i){var r,o=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(r=t,o=t.default);var s="function"===typeof o?o.options:o;if(e&&(s.render=e.render,s.staticRenderFns=e.staticRenderFns),n&&(s._scopeId=n),i){var l=Object.create(s.computed||null);Object.keys(i).forEach(function(t){var e=i[t];l[t]=function(){return e}}),s.computed=l}return{esModule:r,exports:o,options:s}}},function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.isFullscreen?[t.fullscreenClass]:[],style:t.isFullscreen?[t.wrapperStyle]:[],on:{click:function(e){t.shadeClick(e)}}},[t._t("default")],2)},staticRenderFns:[]},t.exports.render._withStripped=!0}])})},"044b":function(t,e){function n(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function i(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&n(t.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||i(t)||!!t._isBuffer)}},"051a":function(t,e,n){var i=s(n("64b2")),r=l(i);e.XML=p(i,r);var o=s(n("f0f2")),a=l(o);function s(t){return Object.keys(t).sort().reduce(function(e,n){return e[t[n]]="&"+n+";",e},{})}function l(t){var e=[],n=[];return Object.keys(t).forEach(function(t){1===t.length?e.push("\\"+t):n.push(t)}),n.unshift("["+e.join("")+"]"),new RegExp(n.join("|"),"g")}e.HTML=p(o,a);var c=/[^\0-\x7F]/g,u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function h(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"}function f(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=1024*(e-55296)+n-56320+65536;return"&#x"+i.toString(16).toUpperCase()+";"}function p(t,e){function n(e){return t[e]}return function(t){return t.replace(e,n).replace(u,f).replace(c,h)}}var d=l(i);function g(t){return t.replace(d,h).replace(u,f).replace(c,h)}e.escape=g},"061b":function(t,e,n){var i=n("2241"),r=i.hasAttrib,o=i.getAttributeValue,a=n("99e4").falseFunc,s=/[-[\]{}()*+?.,\\^$|#\s]/g,l={__proto__:null,equals:function(t,e){var n=e.name,i=e.value;return e.ignoreCase?(i=i.toLowerCase(),function(e){var r=o(e,n);return null!=r&&r.toLowerCase()===i&&t(e)}):function(e){return o(e,n)===i&&t(e)}},hyphen:function(t,e){var n=e.name,i=e.value,r=i.length;return e.ignoreCase?(i=i.toLowerCase(),function(e){var a=o(e,n);return null!=a&&(a.length===r||"-"===a.charAt(r))&&a.substr(0,r).toLowerCase()===i&&t(e)}):function(e){var a=o(e,n);return null!=a&&a.substr(0,r)===i&&(a.length===r||"-"===a.charAt(r))&&t(e)}},element:function(t,e){var n=e.name,i=e.value;if(/\s/.test(i))return a;i=i.replace(s,"\\$&");var r="(?:^|\\s)"+i+"(?:$|\\s)",l=e.ignoreCase?"i":"",c=new RegExp(r,l);return function(e){var i=o(e,n);return null!=i&&c.test(i)&&t(e)}},exists:function(t,e){var n=e.name;return function(e){return r(e,n)&&t(e)}},start:function(t,e){var n=e.name,i=e.value,r=i.length;return 0===r?a:e.ignoreCase?(i=i.toLowerCase(),function(e){var a=o(e,n);return null!=a&&a.substr(0,r).toLowerCase()===i&&t(e)}):function(e){var a=o(e,n);return null!=a&&a.substr(0,r)===i&&t(e)}},end:function(t,e){var n=e.name,i=e.value,r=-i.length;return 0===r?a:e.ignoreCase?(i=i.toLowerCase(),function(e){var a=o(e,n);return null!=a&&a.substr(r).toLowerCase()===i&&t(e)}):function(e){var a=o(e,n);return null!=a&&a.substr(r)===i&&t(e)}},any:function(t,e){var n=e.name,i=e.value;if(""===i)return a;if(e.ignoreCase){var r=new RegExp(i.replace(s,"\\$&"),"i");return function(e){var i=o(e,n);return null!=i&&r.test(i)&&t(e)}}return function(e){var r=o(e,n);return null!=r&&r.indexOf(i)>=0&&t(e)}},not:function(t,e){var n=e.name,i=e.value;return""===i?function(e){return!!o(e,n)&&t(e)}:e.ignoreCase?(i=i.toLowerCase(),function(e){var r=o(e,n);return null!=r&&r.toLowerCase()!==i&&t(e)}):function(e){return o(e,n)!==i&&t(e)}}};t.exports={compile:function(t,e,n){if(n&&n.strict&&(e.ignoreCase||"not"===e.action))throw SyntaxError("Unsupported attribute selector");return l[e.action](t,e)},rules:l}},"0a06":function(t,e,n){"use strict";var i=n("2444"),r=n("c532"),o=n("f6b4"),a=n("5270");function s(t){this.defaults=t,this.interceptors={request:new o,response:new o}}s.prototype.request=function(t){"string"===typeof t&&(t=r.merge({url:arguments[0]},arguments[1])),t=r.merge(i,{method:"get"},this.defaults,t),t.method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});while(e.length)n=n.then(e.shift(),e.shift());return n},r.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}}),r.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,n,i){return this.request(r.merge(i||{},{method:t,url:e,data:n}))}}),t.exports=s},"0b13":function(t){t.exports={universal:50,tag:30,attribute:1,pseudo:0,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1}},"0b32":function(t,e,n){t.exports=vt;var i=n("7073"),r=n("f0f2"),o=n("9166"),a=n("64b2"),s=0,l=s++,c=s++,u=s++,h=s++,f=s++,p=s++,d=s++,g=s++,v=s++,m=s++,y=s++,_=s++,w=s++,b=s++,x=s++,T=s++,S=s++,E=s++,C=s++,P=s++,k=s++,A=s++,O=s++,R=s++,L=s++,N=s++,I=s++,M=s++,D=s++,j=s++,B=s++,H=s++,F=s++,z=s++,U=s++,q=s++,$=s++,V=s++,W=s++,G=s++,Z=s++,X=s++,Y=s++,K=s++,J=s++,Q=s++,tt=s++,et=s++,nt=s++,it=s++,rt=s++,ot=s++,at=s++,st=s++,lt=s++,ct=0,ut=ct++,ht=ct++,ft=ct++;function pt(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function dt(t,e,n){var i=t.toLowerCase();return t===i?function(t){t===i?this._state=e:(this._state=n,this._index--)}:function(r){r===i||r===t?this._state=e:(this._state=n,this._index--)}}function gt(t,e){var n=t.toLowerCase();return function(i){i===n||i===t?this._state=e:(this._state=u,this._index--)}}function vt(t,e){this._state=l,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=l,this._special=ut,this._cbs=e,this._running=!0,this._ended=!1,this._xmlMode=!(!t||!t.xmlMode),this._decodeEntities=!(!t||!t.decodeEntities)}vt.prototype._stateText=function(t){"<"===t?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=c,this._sectionStart=this._index):this._decodeEntities&&this._special===ut&&"&"===t&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=l,this._state=rt,this._sectionStart=this._index)},vt.prototype._stateBeforeTagName=function(t){"/"===t?this._state=f:"<"===t?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===t||this._special!==ut||pt(t)?this._state=l:"!"===t?(this._state=x,this._sectionStart=this._index+1):"?"===t?(this._state=S,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==t&&"S"!==t?u:B,this._sectionStart=this._index)},vt.prototype._stateInTagName=function(t){("/"===t||">"===t||pt(t))&&(this._emitToken("onopentagname"),this._state=g,this._index--)},vt.prototype._stateBeforeCloseingTagName=function(t){pt(t)||(">"===t?this._state=l:this._special!==ut?"s"===t||"S"===t?this._state=H:(this._state=l,this._index--):(this._state=p,this._sectionStart=this._index))},vt.prototype._stateInCloseingTagName=function(t){(">"===t||pt(t))&&(this._emitToken("onclosetag"),this._state=d,this._index--)},vt.prototype._stateAfterCloseingTagName=function(t){">"===t&&(this._state=l,this._sectionStart=this._index+1)},vt.prototype._stateBeforeAttributeName=function(t){">"===t?(this._cbs.onopentagend(),this._state=l,this._sectionStart=this._index+1):"/"===t?this._state=h:pt(t)||(this._state=v,this._sectionStart=this._index)},vt.prototype._stateInSelfClosingTag=function(t){">"===t?(this._cbs.onselfclosingtag(),this._state=l,this._sectionStart=this._index+1):pt(t)||(this._state=g,this._index--)},vt.prototype._stateInAttributeName=function(t){("="===t||"/"===t||">"===t||pt(t))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=m,this._index--)},vt.prototype._stateAfterAttributeName=function(t){"="===t?this._state=y:"/"===t||">"===t?(this._cbs.onattribend(),this._state=g,this._index--):pt(t)||(this._cbs.onattribend(),this._state=v,this._sectionStart=this._index)},vt.prototype._stateBeforeAttributeValue=function(t){'"'===t?(this._state=_,this._sectionStart=this._index+1):"'"===t?(this._state=w,this._sectionStart=this._index+1):pt(t)||(this._state=b,this._sectionStart=this._index,this._index--)},vt.prototype._stateInAttributeValueDoubleQuotes=function(t){'"'===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=g):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=rt,this._sectionStart=this._index)},vt.prototype._stateInAttributeValueSingleQuotes=function(t){"'"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=g):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=rt,this._sectionStart=this._index)},vt.prototype._stateInAttributeValueNoQuotes=function(t){pt(t)||">"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=g,this._index--):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=rt,this._sectionStart=this._index)},vt.prototype._stateBeforeDeclaration=function(t){this._state="["===t?A:"-"===t?E:T},vt.prototype._stateInDeclaration=function(t){">"===t&&(this._cbs.ondeclaration(this._getSection()),this._state=l,this._sectionStart=this._index+1)},vt.prototype._stateInProcessingInstruction=function(t){">"===t&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=l,this._sectionStart=this._index+1)},vt.prototype._stateBeforeComment=function(t){"-"===t?(this._state=C,this._sectionStart=this._index+1):this._state=T},vt.prototype._stateInComment=function(t){"-"===t&&(this._state=P)},vt.prototype._stateAfterComment1=function(t){this._state="-"===t?k:C},vt.prototype._stateAfterComment2=function(t){">"===t?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"-"!==t&&(this._state=C)},vt.prototype._stateBeforeCdata1=dt("C",O,T),vt.prototype._stateBeforeCdata2=dt("D",R,T),vt.prototype._stateBeforeCdata3=dt("A",L,T),vt.prototype._stateBeforeCdata4=dt("T",N,T),vt.prototype._stateBeforeCdata5=dt("A",I,T),vt.prototype._stateBeforeCdata6=function(t){"["===t?(this._state=M,this._sectionStart=this._index+1):(this._state=T,this._index--)},vt.prototype._stateInCdata=function(t){"]"===t&&(this._state=D)},vt.prototype._stateAfterCdata1=function(t){this._state="]"===t?j:M},vt.prototype._stateAfterCdata2=function(t){">"===t?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"]"!==t&&(this._state=M)},vt.prototype._stateBeforeSpecial=function(t){"c"===t||"C"===t?this._state=F:"t"===t||"T"===t?this._state=Y:(this._state=u,this._index--)},vt.prototype._stateBeforeSpecialEnd=function(t){this._special!==ht||"c"!==t&&"C"!==t?this._special!==ft||"t"!==t&&"T"!==t?this._state=l:this._state=tt:this._state=V},vt.prototype._stateBeforeScript1=gt("R",z),vt.prototype._stateBeforeScript2=gt("I",U),vt.prototype._stateBeforeScript3=gt("P",q),vt.prototype._stateBeforeScript4=gt("T",$),vt.prototype._stateBeforeScript5=function(t){("/"===t||">"===t||pt(t))&&(this._special=ht),this._state=u,this._index--},vt.prototype._stateAfterScript1=dt("R",W,l),vt.prototype._stateAfterScript2=dt("I",G,l),vt.prototype._stateAfterScript3=dt("P",Z,l),vt.prototype._stateAfterScript4=dt("T",X,l),vt.prototype._stateAfterScript5=function(t){">"===t||pt(t)?(this._special=ut,this._state=p,this._sectionStart=this._index-6,this._index--):this._state=l},vt.prototype._stateBeforeStyle1=gt("Y",K),vt.prototype._stateBeforeStyle2=gt("L",J),vt.prototype._stateBeforeStyle3=gt("E",Q),vt.prototype._stateBeforeStyle4=function(t){("/"===t||">"===t||pt(t))&&(this._special=ft),this._state=u,this._index--},vt.prototype._stateAfterStyle1=dt("Y",et,l),vt.prototype._stateAfterStyle2=dt("L",nt,l),vt.prototype._stateAfterStyle3=dt("E",it,l),vt.prototype._stateAfterStyle4=function(t){">"===t||pt(t)?(this._special=ut,this._state=p,this._sectionStart=this._index-5,this._index--):this._state=l},vt.prototype._stateBeforeEntity=dt("#",ot,at),vt.prototype._stateBeforeNumericEntity=dt("X",lt,st),vt.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var t=this._buffer.substring(this._sectionStart+1,this._index),e=this._xmlMode?a:r;e.hasOwnProperty(t)&&(this._emitPartial(e[t]),this._sectionStart=this._index+1)}},vt.prototype._parseLegacyEntity=function(){var t=this._sectionStart+1,e=this._index-t;e>6&&(e=6);while(e>=2){var n=this._buffer.substr(t,e);if(o.hasOwnProperty(n))return this._emitPartial(o[n]),void(this._sectionStart+=e+1);e--}},vt.prototype._stateInNamedEntity=function(t){";"===t?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(t<"a"||t>"z")&&(t<"A"||t>"Z")&&(t<"0"||t>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==l?"="!==t&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},vt.prototype._decodeNumericEntity=function(t,e){var n=this._sectionStart+t;if(n!==this._index){var r=this._buffer.substring(n,this._index),o=parseInt(r,e);this._emitPartial(i(o)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},vt.prototype._stateInNumericEntity=function(t){";"===t?(this._decodeNumericEntity(2,10),this._sectionStart++):(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},vt.prototype._stateInHexEntity=function(t){";"===t?(this._decodeNumericEntity(3,16),this._sectionStart++):(t<"a"||t>"f")&&(t<"A"||t>"F")&&(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},vt.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===l?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},vt.prototype.write=function(t){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=t,this._parse()},vt.prototype._parse=function(){while(this._index<this._buffer.length&&this._running){var t=this._buffer.charAt(this._index);this._state===l?this._stateText(t):this._state===c?this._stateBeforeTagName(t):this._state===u?this._stateInTagName(t):this._state===f?this._stateBeforeCloseingTagName(t):this._state===p?this._stateInCloseingTagName(t):this._state===d?this._stateAfterCloseingTagName(t):this._state===h?this._stateInSelfClosingTag(t):this._state===g?this._stateBeforeAttributeName(t):this._state===v?this._stateInAttributeName(t):this._state===m?this._stateAfterAttributeName(t):this._state===y?this._stateBeforeAttributeValue(t):this._state===_?this._stateInAttributeValueDoubleQuotes(t):this._state===w?this._stateInAttributeValueSingleQuotes(t):this._state===b?this._stateInAttributeValueNoQuotes(t):this._state===x?this._stateBeforeDeclaration(t):this._state===T?this._stateInDeclaration(t):this._state===S?this._stateInProcessingInstruction(t):this._state===E?this._stateBeforeComment(t):this._state===C?this._stateInComment(t):this._state===P?this._stateAfterComment1(t):this._state===k?this._stateAfterComment2(t):this._state===A?this._stateBeforeCdata1(t):this._state===O?this._stateBeforeCdata2(t):this._state===R?this._stateBeforeCdata3(t):this._state===L?this._stateBeforeCdata4(t):this._state===N?this._stateBeforeCdata5(t):this._state===I?this._stateBeforeCdata6(t):this._state===M?this._stateInCdata(t):this._state===D?this._stateAfterCdata1(t):this._state===j?this._stateAfterCdata2(t):this._state===B?this._stateBeforeSpecial(t):this._state===H?this._stateBeforeSpecialEnd(t):this._state===F?this._stateBeforeScript1(t):this._state===z?this._stateBeforeScript2(t):this._state===U?this._stateBeforeScript3(t):this._state===q?this._stateBeforeScript4(t):this._state===$?this._stateBeforeScript5(t):this._state===V?this._stateAfterScript1(t):this._state===W?this._stateAfterScript2(t):this._state===G?this._stateAfterScript3(t):this._state===Z?this._stateAfterScript4(t):this._state===X?this._stateAfterScript5(t):this._state===Y?this._stateBeforeStyle1(t):this._state===K?this._stateBeforeStyle2(t):this._state===J?this._stateBeforeStyle3(t):this._state===Q?this._stateBeforeStyle4(t):this._state===tt?this._stateAfterStyle1(t):this._state===et?this._stateAfterStyle2(t):this._state===nt?this._stateAfterStyle3(t):this._state===it?this._stateAfterStyle4(t):this._state===rt?this._stateBeforeEntity(t):this._state===ot?this._stateBeforeNumericEntity(t):this._state===at?this._stateInNamedEntity(t):this._state===st?this._stateInNumericEntity(t):this._state===lt?this._stateInHexEntity(t):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},vt.prototype.pause=function(){this._running=!1},vt.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},vt.prototype.end=function(t){this._ended&&this._cbs.onerror(Error(".end() after done!")),t&&this.write(t),this._ended=!0,this._running&&this._finish()},vt.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},vt.prototype._handleTrailingData=function(){var t=this._buffer.substr(this._sectionStart);this._state===M||this._state===D||this._state===j?this._cbs.oncdata(t):this._state===C||this._state===P||this._state===k?this._cbs.oncomment(t):this._state!==at||this._xmlMode?this._state!==st||this._xmlMode?this._state!==lt||this._xmlMode?this._state!==u&&this._state!==g&&this._state!==y&&this._state!==m&&this._state!==v&&this._state!==w&&this._state!==_&&this._state!==b&&this._state!==p&&this._cbs.ontext(t):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},vt.prototype.reset=function(){vt.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},vt.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},vt.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},vt.prototype._emitToken=function(t){this._cbs[t](this._getSection()),this._sectionStart=-1},vt.prototype._emitPartial=function(t){this._baseState!==l?this._cbs.onattribdata(t):this._cbs.ontext(t)}},"0db4":function(t,e,n){(function(t,n){var i=200,r="Expected a function",o="__lodash_hash_undefined__",a=1,s=2,l=1/0,c=9007199254740991,u="[object Arguments]",h="[object Array]",f="[object Boolean]",p="[object Date]",d="[object Error]",g="[object Function]",v="[object GeneratorFunction]",m="[object Map]",y="[object Number]",_="[object Object]",w="[object Promise]",b="[object RegExp]",x="[object Set]",T="[object String]",S="[object Symbol]",E="[object WeakMap]",C="[object ArrayBuffer]",P="[object DataView]",k="[object Float32Array]",A="[object Float64Array]",O="[object Int8Array]",R="[object Int16Array]",L="[object Int32Array]",N="[object Uint8Array]",I="[object Uint8ClampedArray]",M="[object Uint16Array]",D="[object Uint32Array]",j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B=/^\w*$/,H=/^\./,F=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z=/[\\^$.*+?()[\]{}|]/g,U=/\\(\\)?/g,q=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,V={};V[k]=V[A]=V[O]=V[R]=V[L]=V[N]=V[I]=V[M]=V[D]=!0,V[u]=V[h]=V[C]=V[f]=V[P]=V[p]=V[d]=V[g]=V[m]=V[y]=V[_]=V[b]=V[x]=V[T]=V[E]=!1;var W="object"==typeof t&&t&&t.Object===Object&&t,G="object"==typeof self&&self&&self.Object===Object&&self,Z=W||G||Function("return this")(),X=e&&!e.nodeType&&e,Y=X&&"object"==typeof n&&n&&!n.nodeType&&n,K=Y&&Y.exports===X,J=K&&W.process,Q=function(){try{return J&&J.binding("util")}catch(t){}}(),tt=Q&&Q.isTypedArray;function et(t,e){var n=-1,i=t?t.length:0,r=0,o=[];while(++n<i){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function nt(t,e){var n=-1,i=t?t.length:0;while(++n<i)if(e(t[n],n,t))return!0;return!1}function it(t){return function(e){return null==e?void 0:e[t]}}function rt(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}function ot(t){return function(e){return t(e)}}function at(t,e){return null==t?void 0:t[e]}function st(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function lt(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function ct(t,e){return function(n){return t(e(n))}}function ut(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var ht=Array.prototype,ft=Function.prototype,pt=Object.prototype,dt=Z["__core-js_shared__"],gt=function(){var t=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),vt=ft.toString,mt=pt.hasOwnProperty,yt=pt.toString,_t=RegExp("^"+vt.call(mt).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=Z.Symbol,bt=Z.Uint8Array,xt=pt.propertyIsEnumerable,Tt=ht.splice,St=ct(Object.keys,Object),Et=Fe(Z,"DataView"),Ct=Fe(Z,"Map"),Pt=Fe(Z,"Promise"),kt=Fe(Z,"Set"),At=Fe(Z,"WeakMap"),Ot=Fe(Object,"create"),Rt=Je(Et),Lt=Je(Ct),Nt=Je(Pt),It=Je(kt),Mt=Je(At),Dt=wt?wt.prototype:void 0,jt=Dt?Dt.valueOf:void 0,Bt=Dt?Dt.toString:void 0;function Ht(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Ft(){this.__data__=Ot?Ot(null):{}}function zt(t){return this.has(t)&&delete this.__data__[t]}function Ut(t){var e=this.__data__;if(Ot){var n=e[t];return n===o?void 0:n}return mt.call(e,t)?e[t]:void 0}function qt(t){var e=this.__data__;return Ot?void 0!==e[t]:mt.call(e,t)}function $t(t,e){var n=this.__data__;return n[t]=Ot&&void 0===e?o:e,this}function Vt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Wt(){this.__data__=[]}function Gt(t){var e=this.__data__,n=pe(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Tt.call(e,n,1),!0}function Zt(t){var e=this.__data__,n=pe(e,t);return n<0?void 0:e[n][1]}function Xt(t){return pe(this.__data__,t)>-1}function Yt(t,e){var n=this.__data__,i=pe(n,t);return i<0?n.push([t,e]):n[i][1]=e,this}function Kt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Jt(){this.__data__={hash:new Ht,map:new(Ct||Vt),string:new Ht}}function Qt(t){return Be(this,t)["delete"](t)}function te(t){return Be(this,t).get(t)}function ee(t){return Be(this,t).has(t)}function ne(t,e){return Be(this,t).set(t,e),this}function ie(t){var e=-1,n=t?t.length:0;this.__data__=new Kt;while(++e<n)this.add(t[e])}function re(t){return this.__data__.set(t,o),this}function oe(t){return this.__data__.has(t)}function ae(t){this.__data__=new Vt(t)}function se(){this.__data__=new Vt}function le(t){return this.__data__["delete"](t)}function ce(t){return this.__data__.get(t)}function ue(t){return this.__data__.has(t)}function he(t,e){var n=this.__data__;if(n instanceof Vt){var r=n.__data__;if(!Ct||r.length<i-1)return r.push([t,e]),this;n=this.__data__=new Kt(r)}return n.set(t,e),this}function fe(t,e){var n=on(t)||rn(t)?rt(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!mt.call(t,o)||r&&("length"==o||qe(o,i))||n.push(o);return n}function pe(t,e){var n=t.length;while(n--)if(nn(t[n][0],e))return n;return-1}Ht.prototype.clear=Ft,Ht.prototype["delete"]=zt,Ht.prototype.get=Ut,Ht.prototype.has=qt,Ht.prototype.set=$t,Vt.prototype.clear=Wt,Vt.prototype["delete"]=Gt,Vt.prototype.get=Zt,Vt.prototype.has=Xt,Vt.prototype.set=Yt,Kt.prototype.clear=Jt,Kt.prototype["delete"]=Qt,Kt.prototype.get=te,Kt.prototype.has=ee,Kt.prototype.set=ne,ie.prototype.add=ie.prototype.push=re,ie.prototype.has=oe,ae.prototype.clear=se,ae.prototype["delete"]=le,ae.prototype.get=ce,ae.prototype.has=ue,ae.prototype.set=he;var de=Ne(me);function ge(t,e){var n=[];return de(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}var ve=Ie();function me(t,e){return t&&ve(t,e,mn)}function ye(t,e){e=$e(e,t)?[e]:Le(e);var n=0,i=e.length;while(null!=t&&n<i)t=t[Ke(e[n++])];return n&&n==i?t:void 0}function _e(t){return yt.call(t)}function we(t,e){return null!=t&&e in Object(t)}function be(t,e,n,i,r){return t===e||(null==t||null==e||!un(t)&&!hn(e)?t!==t&&e!==e:xe(t,e,be,n,i,r))}function xe(t,e,n,i,r,o){var a=on(t),l=on(e),c=h,f=h;a||(c=ze(t),c=c==u?_:c),l||(f=ze(e),f=f==u?_:f);var p=c==_&&!st(t),d=f==_&&!st(e),g=c==f;if(g&&!p)return o||(o=new ae),a||pn(t)?Me(t,e,n,i,r,o):De(t,e,c,n,i,r,o);if(!(r&s)){var v=p&&mt.call(t,"__wrapped__"),m=d&&mt.call(e,"__wrapped__");if(v||m){var y=v?t.value():t,w=m?e.value():e;return o||(o=new ae),n(y,w,i,r,o)}}return!!g&&(o||(o=new ae),je(t,e,n,i,r,o))}function Te(t,e,n,i){var r=n.length,o=r,l=!i;if(null==t)return!o;t=Object(t);while(r--){var c=n[r];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}while(++r<o){c=n[r];var u=c[0],h=t[u],f=c[1];if(l&&c[2]){if(void 0===h&&!(u in t))return!1}else{var p=new ae;if(i)var d=i(h,f,u,t,e,p);if(!(void 0===d?be(f,h,i,a|s,p):d))return!1}}return!0}function Se(t){if(!un(t)||We(t))return!1;var e=ln(t)||st(t)?_t:q;return e.test(Je(t))}function Ee(t){return hn(t)&&cn(t.length)&&!!V[yt.call(t)]}function Ce(t){return"function"==typeof t?t:null==t?yn:"object"==typeof t?on(t)?Ae(t[0],t[1]):ke(t):_n(t)}function Pe(t){if(!Ge(t))return St(t);var e=[];for(var n in Object(t))mt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ke(t){var e=He(t);return 1==e.length&&e[0][2]?Xe(e[0][0],e[0][1]):function(n){return n===t||Te(n,t,e)}}function Ae(t,e){return $e(t)&&Ze(e)?Xe(Ke(t),e):function(n){var i=gn(n,t);return void 0===i&&i===e?vn(n,t):be(e,i,void 0,a|s)}}function Oe(t){return function(e){return ye(e,t)}}function Re(t){if("string"==typeof t)return t;if(fn(t))return Bt?Bt.call(t):"";var e=t+"";return"0"==e&&1/t==-l?"-0":e}function Le(t){return on(t)?t:Ye(t)}function Ne(t,e){return function(n,i){if(null==n)return n;if(!an(n))return t(n,i);var r=n.length,o=e?r:-1,a=Object(n);while(e?o--:++o<r)if(!1===i(a[o],o,a))break;return n}}function Ie(t){return function(e,n,i){var r=-1,o=Object(e),a=i(e),s=a.length;while(s--){var l=a[t?s:++r];if(!1===n(o[l],l,o))break}return e}}function Me(t,e,n,i,r,o){var l=r&s,c=t.length,u=e.length;if(c!=u&&!(l&&u>c))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var f=-1,p=!0,d=r&a?new ie:void 0;o.set(t,e),o.set(e,t);while(++f<c){var g=t[f],v=e[f];if(i)var m=l?i(v,g,f,e,t,o):i(g,v,f,t,e,o);if(void 0!==m){if(m)continue;p=!1;break}if(d){if(!nt(e,function(t,e){if(!d.has(e)&&(g===t||n(g,t,i,r,o)))return d.add(e)})){p=!1;break}}else if(g!==v&&!n(g,v,i,r,o)){p=!1;break}}return o["delete"](t),o["delete"](e),p}function De(t,e,n,i,r,o,l){switch(n){case P:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case C:return!(t.byteLength!=e.byteLength||!i(new bt(t),new bt(e)));case f:case p:case y:return nn(+t,+e);case d:return t.name==e.name&&t.message==e.message;case b:case T:return t==e+"";case m:var c=lt;case x:var u=o&s;if(c||(c=ut),t.size!=e.size&&!u)return!1;var h=l.get(t);if(h)return h==e;o|=a,l.set(t,e);var g=Me(c(t),c(e),i,r,o,l);return l["delete"](t),g;case S:if(jt)return jt.call(t)==jt.call(e)}return!1}function je(t,e,n,i,r,o){var a=r&s,l=mn(t),c=l.length,u=mn(e),h=u.length;if(c!=h&&!a)return!1;var f=c;while(f--){var p=l[f];if(!(a?p in e:mt.call(e,p)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var g=!0;o.set(t,e),o.set(e,t);var v=a;while(++f<c){p=l[f];var m=t[p],y=e[p];if(i)var _=a?i(y,m,p,e,t,o):i(m,y,p,t,e,o);if(!(void 0===_?m===y||n(m,y,i,r,o):_)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var w=t.constructor,b=e.constructor;w!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b)&&(g=!1)}return o["delete"](t),o["delete"](e),g}function Be(t,e){var n=t.__data__;return Ve(e)?n["string"==typeof e?"string":"hash"]:n.map}function He(t){var e=mn(t),n=e.length;while(n--){var i=e[n],r=t[i];e[n]=[i,r,Ze(r)]}return e}function Fe(t,e){var n=at(t,e);return Se(n)?n:void 0}var ze=_e;function Ue(t,e,n){e=$e(e,t)?[e]:Le(e);var i,r=-1,o=e.length;while(++r<o){var a=Ke(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}if(i)return i;o=t?t.length:0;return!!o&&cn(o)&&qe(a,o)&&(on(t)||rn(t))}function qe(t,e){return e=null==e?c:e,!!e&&("number"==typeof t||$.test(t))&&t>-1&&t%1==0&&t<e}function $e(t,e){if(on(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!fn(t))||(B.test(t)||!j.test(t)||null!=e&&t in Object(e))}function Ve(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function We(t){return!!gt&&gt in t}function Ge(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||pt;return t===n}function Ze(t){return t===t&&!un(t)}function Xe(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(Et&&ze(new Et(new ArrayBuffer(1)))!=P||Ct&&ze(new Ct)!=m||Pt&&ze(Pt.resolve())!=w||kt&&ze(new kt)!=x||At&&ze(new At)!=E)&&(ze=function(t){var e=yt.call(t),n=e==_?t.constructor:void 0,i=n?Je(n):void 0;if(i)switch(i){case Rt:return P;case Lt:return m;case Nt:return w;case It:return x;case Mt:return E}return e});var Ye=tn(function(t){t=dn(t);var e=[];return H.test(t)&&e.push(""),t.replace(F,function(t,n,i,r){e.push(i?r.replace(U,"$1"):n||t)}),e});function Ke(t){if("string"==typeof t||fn(t))return t;var e=t+"";return"0"==e&&1/t==-l?"-0":e}function Je(t){if(null!=t){try{return vt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Qe(t,e){var n=on(t)?et:ge;return n(t,en(Ce(e,3)))}function tn(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new(tn.Cache||Kt),n}function en(t){if("function"!=typeof t)throw new TypeError(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function nn(t,e){return t===e||t!==t&&e!==e}function rn(t){return sn(t)&&mt.call(t,"callee")&&(!xt.call(t,"callee")||yt.call(t)==u)}tn.Cache=Kt;var on=Array.isArray;function an(t){return null!=t&&cn(t.length)&&!ln(t)}function sn(t){return hn(t)&&an(t)}function ln(t){var e=un(t)?yt.call(t):"";return e==g||e==v}function cn(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function un(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function hn(t){return!!t&&"object"==typeof t}function fn(t){return"symbol"==typeof t||hn(t)&&yt.call(t)==S}var pn=tt?ot(tt):Ee;function dn(t){return null==t?"":Re(t)}function gn(t,e,n){var i=null==t?void 0:ye(t,e);return void 0===i?n:i}function vn(t,e){return null!=t&&Ue(t,e,we)}function mn(t){return an(t)?fe(t):Pe(t)}function yn(t){return t}function _n(t){return $e(t)?it(Ke(t)):Oe(t)}n.exports=Qe}).call(this,n("c8ba"),n("62e4")(t))},"0df6":function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},1:function(t,e){},"13ca":function(t,e){var n=9007199254740991,i="[object Arguments]",r="[object Function]",o="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;function s(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function l(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}var c=Object.prototype,u=c.hasOwnProperty,h=c.toString,f=c.propertyIsEnumerable,p=Math.max;function d(t,e){var n=P(t)||C(t)?l(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!u.call(t,o)||r&&("length"==o||b(o,i))||n.push(o);return n}function g(t,e,n,i){return void 0===t||E(t,c[n])&&!u.call(i,n)?e:t}function v(t,e,n){var i=t[e];u.call(t,e)&&E(i,n)&&(void 0!==n||e in t)||(t[e]=n)}function m(t){if(!L(t))return S(t);var e=T(t),n=[];for(var i in t)("constructor"!=i||!e&&u.call(t,i))&&n.push(i);return n}function y(t,e){return e=p(void 0===e?t.length-1:e,0),function(){var n=arguments,i=-1,r=p(n.length-e,0),o=Array(r);while(++i<r)o[i]=n[e+i];i=-1;var a=Array(e+1);while(++i<e)a[i]=n[i];return a[e]=o,s(t,this,a)}}function _(t,e,n,i){n||(n={});var r=-1,o=e.length;while(++r<o){var a=e[r],s=i?i(n[a],t[a],a,n,t):void 0;v(n,a,void 0===s?t[a]:s)}return n}function w(t){return y(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;o=t.length>3&&"function"==typeof o?(r--,o):void 0,a&&x(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),e=Object(e);while(++i<r){var s=n[i];s&&t(e,s,i,o)}return e})}function b(t,e){return e=null==e?n:e,!!e&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<e}function x(t,e,n){if(!L(n))return!1;var i=typeof e;return!!("number"==i?k(n)&&b(e,n.length):"string"==i&&e in n)&&E(n[e],t)}function T(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||c;return t===n}function S(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}function E(t,e){return t===e||t!==t&&e!==e}function C(t){return A(t)&&u.call(t,"callee")&&(!f.call(t,"callee")||h.call(t)==i)}var P=Array.isArray;function k(t){return null!=t&&R(t.length)&&!O(t)}function A(t){return N(t)&&k(t)}function O(t){var e=L(t)?h.call(t):"";return e==r||e==o}function R(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}function L(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function N(t){return!!t&&"object"==typeof t}var I=w(function(t,e,n,i){_(e,D(e),t,i)}),M=y(function(t){return t.push(void 0,g),s(I,void 0,t)});function D(t){return k(t)?d(t,!0):m(t)}t.exports=M},1880:function(t,e,n){var i=n("e972"),r=n("e282"),o={__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},a={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};function s(t,e){if(t){var n,i="";for(var a in t)n=t[a],i&&(i+=" "),!n&&o[a]?i+=a:i+=a+'="'+(e.decodeEntities?r.encodeXML(n):n)+'"';return i}}var l={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},c=t.exports=function(t,e){Array.isArray(t)||t.cheerio||(t=[t]),e=e||{};for(var n="",r=0;r<t.length;r++){var o=t[r];"root"===o.type?n+=c(o.children,e):i.isTag(o)?n+=u(o,e):o.type===i.Directive?n+=h(o):o.type===i.Comment?n+=d(o):o.type===i.CDATA?n+=p(o):n+=f(o,e)}return n};function u(t,e){"svg"===t.name&&(e={decodeEntities:e.decodeEntities,xmlMode:!0});var n="<"+t.name,i=s(t.attribs,e);return i&&(n+=" "+i),!e.xmlMode||t.children&&0!==t.children.length?(n+=">",t.children&&(n+=c(t.children,e)),l[t.name]&&!e.xmlMode||(n+="</"+t.name+">")):n+="/>",n}function h(t){return"<"+t.data+">"}function f(t,e){var n=t.data||"";return!e.decodeEntities||t.parent&&t.parent.name in a||(n=r.encodeXML(n)),n}function p(t){return"<![CDATA["+t.children[0].data+"]]>"}function d(t){return"\x3c!--"+t.data+"--\x3e"}},"1d2b":function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},"1d65":function(t,e,n){var i=n("54d4"),r=t.exports=Object.create(i),o={tagName:"name"};Object.keys(o).forEach(function(t){var e=o[t];Object.defineProperty(r,t,{get:function(){return this[e]||null},set:function(t){return this[e]=t,t}})})},"1fb5":function(t,e,n){"use strict";e.byteLength=u,e.toByteArray=f,e.fromByteArray=g;for(var i=[],r=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var i=n===e?0:4-n%4;return[n,i]}function u(t){var e=c(t),n=e[0],i=e[1];return 3*(n+i)/4-i}function h(t,e,n){return 3*(e+n)/4-n}function f(t){for(var e,n=c(t),i=n[0],a=n[1],s=new o(h(t,i,a)),l=0,u=a>0?i-4:i,f=0;f<u;f+=4)e=r[t.charCodeAt(f)]<<18|r[t.charCodeAt(f+1)]<<12|r[t.charCodeAt(f+2)]<<6|r[t.charCodeAt(f+3)],s[l++]=e>>16&255,s[l++]=e>>8&255,s[l++]=255&e;return 2===a&&(e=r[t.charCodeAt(f)]<<2|r[t.charCodeAt(f+1)]>>4,s[l++]=255&e),1===a&&(e=r[t.charCodeAt(f)]<<10|r[t.charCodeAt(f+1)]<<4|r[t.charCodeAt(f+2)]>>2,s[l++]=e>>8&255,s[l++]=255&e),s}function p(t){return i[t>>18&63]+i[t>>12&63]+i[t>>6&63]+i[63&t]}function d(t,e,n){for(var i,r=[],o=e;o<n;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),r.push(p(i));return r.join("")}function g(t){for(var e,n=t.length,r=n%3,o=[],a=16383,s=0,l=n-r;s<l;s+=a)o.push(d(t,s,s+a>l?l:s+a));return 1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"=")),o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},2015:function(t,e,n){t.exports=a;var i=n("99e4"),r=i.trueFunc,o=i.falseFunc;function a(t){var e=t[0],n=t[1]-1;if(n<0&&e<=0)return o;if(-1===e)return function(t){return t<=n};if(0===e)return function(t){return t===n};if(1===e)return n<0?r:function(t){return t>=n};var i=n%e;return i<0&&(i+=e),e>1?function(t){return t>=n&&t%e===i}:(e*=-1,function(t){return t<=n&&t%e===i})}},"205b":function(t){t.exports={_args:[["cheerio@0.22.0","/Users/doneill/Desktop/iiif-annotation"]],_from:"cheerio@0.22.0",_id:"cheerio@0.22.0",_inBundle:!1,_integrity:"sha1-qbqoYKP5tZWmuBsahocxIe06Jp4=",_location:"/cheerio",_phantomChildren:{boolbase:"1.0.0","css-what":"2.1.2","dom-serializer":"0.1.0",domelementtype:"1.2.1",entities:"1.1.2",inherits:"2.0.3","nth-check":"1.0.2",string_decoder:"1.1.1","util-deprecate":"1.0.2"},_requested:{type:"version",registry:!0,raw:"cheerio@0.22.0",name:"cheerio",escapedName:"cheerio",rawSpec:"0.22.0",saveSpec:null,fetchSpec:"0.22.0"},_requiredBy:["/truncate-html"],_resolved:"http://registry.npmjs.org/cheerio/-/cheerio-0.22.0.tgz",_spec:"0.22.0",_where:"/Users/doneill/Desktop/iiif-annotation",author:{name:"Matt Mueller",email:"mattmuelle@gmail.com",url:"mat.io"},bugs:{url:"https://github.com/cheeriojs/cheerio/issues"},dependencies:{"css-select":"~1.2.0","dom-serializer":"~0.1.0",entities:"~1.1.1",htmlparser2:"^3.9.1","lodash.assignin":"^4.0.9","lodash.bind":"^4.1.4","lodash.defaults":"^4.0.1","lodash.filter":"^4.4.0","lodash.flatten":"^4.2.0","lodash.foreach":"^4.3.0","lodash.map":"^4.4.0","lodash.merge":"^4.4.0","lodash.pick":"^4.2.1","lodash.reduce":"^4.4.0","lodash.reject":"^4.4.0","lodash.some":"^4.4.0"},description:"Tiny, fast, and elegant implementation of core jQuery designed specifically for the server",devDependencies:{benchmark:"^2.1.0",coveralls:"^2.11.9","expect.js":"~0.3.1",istanbul:"^0.4.3",jquery:"^3.0.0",jsdom:"^9.2.1",jshint:"^2.9.2",mocha:"^2.5.3",xyz:"~0.5.0"},engines:{node:">= 0.6"},files:["index.js","lib"],homepage:"https://github.com/cheeriojs/cheerio#readme",keywords:["htmlparser","jquery","selector","scraper","parser","html"],license:"MIT",main:"./index.js",name:"cheerio",repository:{type:"git",url:"git://github.com/cheeriojs/cheerio.git"},scripts:{test:"make test"},version:"0.22.0"}},"213a":function(t,e,n){t.exports=f,t.exports.compileUnsafe=d,t.exports.compileToken=b;var i=n("5bfe"),r=n("2241"),o=r.isTag,a=n("7eb9"),s=n("6a53"),l=n("99e4"),c=l.trueFunc,u=l.falseFunc,h=n("0b13");function f(t,e,n){var i=d(t,e,n);return p(i)}function p(t){return function(e){return o(e)&&t(e)}}function d(t,e,n){var r=i(t,e);return b(r,e,n)}function g(t){return"pseudo"===t.type&&("scope"===t.name||Array.isArray(t.data)&&t.data.some(function(t){return t.some(g)}))}var v={type:"descendant"},m={type:"pseudo",name:"scope"},y={},_=r.getParent;function w(t,e){var n=!!e&&!!e.length&&e.every(function(t){return t===y||!!_(t)});t.forEach(function(t){if(t.length>0&&x(t[0])&&"descendant"!==t[0].type);else{if(!n||g(t))return;t.unshift(v)}t.unshift(m)})}function b(t,e,n){t=t.filter(function(t){return t.length>0}),t.forEach(s);var i=Array.isArray(n);return n=e&&e.context||n,n&&!i&&(n=[n]),w(t,n),t.map(function(t){return T(t,e,n,i)}).reduce(S,u)}function x(t){return h[t.type]<0}function T(t,e,n,i){var r=i&&"scope"===t[0].name&&"descendant"===t[1].type;return t.reduce(function(t,i,o){return t===u?t:a[i.type](t,i,e,n,r&&1===o)},e&&e.rootFunc||c)}function S(t,e){return e===u||t===c?t:t===u||e===c?e:function(n){return t(n)||e(n)}}var E=n("99bc"),C=E.filters,P=r.existsOne,k=(o=r.isTag,r.getChildren);function A(t){return t.some(x)}C.not=function(t,e,n,i){var r={xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict)};if(r.strict&&(e.length>1||e.some(A)))throw new SyntaxError("complex selectors in :not aren't allowed in strict mode");var o=b(e,r,i);return o===u?t:o===c?u:function(e){return!o(e)&&t(e)}},C.has=function(t,e,n){var i={xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict)},r=e.some(A)?[y]:null,a=b(e,i,r);return a===u?u:a===c?function(e){return k(e).some(o)&&t(e)}:(a=p(a),r?function(e){return t(e)&&(r[0]=e,P(a,k(e)))}:function(e){return t(e)&&P(a,k(e))})},C.matches=function(t,e,n,i){var r={xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict),rootFunc:t};return b(e,r,i)}},2241:function(t,e,n){var i=t.exports;[n("baea"),n("9133"),n("9282"),n("286c"),n("a95b"),n("a611")].forEach(function(t){Object.keys(t).forEach(function(e){i[e]=t[e].bind(i)})})},2444:function(t,e,n){"use strict";(function(e){var i=n("c532"),r=n("c8af"),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function s(){var t;return"undefined"!==typeof XMLHttpRequest?t=n("b50d"):"undefined"!==typeof e&&(t=n("b50d")),t}var l={adapter:s(),transformRequest:[function(t,e){return r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(t){l.headers[t]={}}),i.forEach(["post","put","patch"],function(t){l.headers[t]=i.merge(o)}),t.exports=l}).call(this,n("4362"))},"25e8":function(t,e,n){t.exports=r;var i=n("bcc5");function r(t){i.call(this,new o(this),t)}function o(t){this.scope=t}n("3fb5")(r,i),r.prototype.readable=!0;var a=n("d2de").EVENTS;Object.keys(a).forEach(function(t){if(0===a[t])o.prototype["on"+t]=function(){this.scope.emit(t)};else if(1===a[t])o.prototype["on"+t]=function(e){this.scope.emit(t,e)};else{if(2!==a[t])throw Error("wrong number of arguments!");o.prototype["on"+t]=function(e,n){this.scope.emit(t,e,n)}}})},"286c":function(t,e,n){var i=n("4d1e").isTag;function r(t,e,n,i){return Array.isArray(e)||(e=[e]),"number"===typeof i&&isFinite(i)||(i=1/0),o(t,e,!1!==n,i)}function o(t,e,n,i){for(var r,a=[],s=0,l=e.length;s<l;s++){if(t(e[s])&&(a.push(e[s]),--i<=0))break;if(r=e[s].children,n&&r&&r.length>0&&(r=o(t,r,n,i),a=a.concat(r),i-=r.length,i<=0))break}return a}function a(t,e){for(var n=0,i=e.length;n<i;n++)if(t(e[n]))return e[n];return null}function s(t,e){for(var n=null,r=0,o=e.length;r<o&&!n;r++)i(e[r])&&(t(e[r])?n=e[r]:e[r].children.length>0&&(n=s(t,e[r].children)));return n}function l(t,e){for(var n=0,r=e.length;n<r;n++)if(i(e[n])&&(t(e[n])||e[n].children.length>0&&l(t,e[n].children)))return!0;return!1}function c(t,e){for(var n=[],r=0,o=e.length;r<o;r++)i(e[r])&&(t(e[r])&&n.push(e[r]),e[r].children.length>0&&(n=n.concat(c(t,e[r].children))));return n}t.exports={filter:r,find:o,findOneChild:a,findOne:s,existsOne:l,findAll:c}},"289e":function(t,e){
/*! (C) Andrea Giammarchi - @WebReflection - ISC Style License */
!function(t,e){"use strict";function n(){var t=P.splice(0,P.length);for(Kt=0;t.length;)t.shift().call(null,t.shift())}function i(t,e){for(var n=0,i=t.length;n<i;n++)v(t[n],e)}function r(t){for(var e,n=0,i=t.length;n<i;n++)e=t[n],I(e,ot[a(e)])}function o(t){return function(e){jt(e)&&(v(e,t),at.length&&i(e.querySelectorAll(at),t))}}function a(t){var e=Ut.call(t,"is"),n=t.nodeName.toUpperCase(),i=lt.call(rt,e?et+e.toUpperCase():tt+n);return e&&-1<i&&!s(n,e)?-1:i}function s(t,e){return-1<at.indexOf(t+'[is="'+e+'"]')}function l(t){var e=t.currentTarget,n=t.attrChange,i=t.attrName,r=t.target,o=t[X]||2,a=t[Y]||3;!ie||r&&r!==e||!e[q]||"style"===i||t.prevValue===t.newValue&&(""!==t.newValue||n!==o&&n!==a)||e[q](i,n===o?null:t.prevValue,n===a?null:t.newValue)}function c(t){var e=o(t);return function(t){P.push(e,t.target),Kt&&clearTimeout(Kt),Kt=setTimeout(n,1)}}function u(t){ne&&(ne=!1,t.currentTarget.removeEventListener(J,u)),at.length&&i((t.target||S).querySelectorAll(at),t.detail===z?z:H),Mt&&d()}function h(t,e){var n=this;Vt.call(n,t,e),k.call(n,{target:n})}function f(t,e,n){var i=e.apply(t,n),o=a(i);return-1<o&&I(i,ot[o]),n.pop()&&at.length&&r(i.querySelectorAll(at)),i}function p(t,e){Rt(t,e),R?R.observe(t,Xt):(ee&&(t.setAttribute=h,t[j]=O(t),t[B](Q,k)),t[B](K,l)),t[G]&&ie&&(t.created=!0,t[G](),t.created=!1)}function d(){for(var t,e=0,n=Bt.length;e<n;e++)t=Bt[e],st.contains(t)||(n--,Bt.splice(e--,1),v(t,z))}function g(t){throw new Error("A "+t+" type is already registered")}function v(t,e){var n,i,r=a(t);-1<r&&(N(t,ot[r]),r=0,e!==H||t[H]?e!==z||t[z]||(t[H]=!1,t[z]=!0,i="disconnected",r=1):(t[z]=!1,t[H]=!0,i="connected",r=1,Mt&&lt.call(Bt,t)<0&&Bt.push(t)),r&&(n=t[e+F]||t[i+F])&&n.call(t))}function m(){}function y(t,e,n){var i=n&&n[U]||"",r=e.prototype,o=Ot(r),a=e.observedAttributes||pt,s={prototype:o};Dt(o,G,{value:function(){if(Et)Et=!1;else if(!this[_t]){this[_t]=!0,new e(this),r[G]&&r[G].call(this);var t=Ct[kt.get(e)];(!bt||t.create.length>1)&&b(this)}}}),Dt(o,q,{value:function(t){-1<lt.call(a,t)&&r[q]&&r[q].apply(this,arguments)}}),r[V]&&Dt(o,$,{value:r[V]}),r[W]&&Dt(o,Z,{value:r[W]}),i&&(s[U]=i),t=t.toUpperCase(),Ct[t]={constructor:e,create:i?[i,At(t)]:[t]},kt.set(e,t),S[D](t.toLowerCase(),s),x(t),Pt[t].r()}function _(t){var e=Ct[t.toUpperCase()];return e&&e.constructor}function w(t){return"string"==typeof t?t:t&&t.is||""}function b(t){for(var e,n=t[q],i=n?t.attributes:pt,r=i.length;r--;)e=i[r],n.call(t,e.name||e.nodeName,null,e.value||e.nodeValue)}function x(t){return t=t.toUpperCase(),t in Pt||(Pt[t]={},Pt[t].p=new St(function(e){Pt[t].r=e})),Pt[t].p}function T(){wt&&delete t.customElements,ft(t,"customElements",{configurable:!0,value:new m}),ft(t,"CustomElementRegistry",{configurable:!0,value:m});for(var e=C.get(/^HTML[A-Z]*[a-z]/),n=e.length;n--;function(e){var n=t[e];if(n){t[e]=function(t){var e,i;return t||(t=this),t[_t]||(Et=!0,e=Ct[kt.get(t.constructor)],i=bt&&1===e.create.length,t=i?Reflect.construct(n,pt,e.constructor):S.createElement.apply(S,e.create),t[_t]=!0,Et=!1,i||b(t)),t},t[e].prototype=n.prototype;try{n.prototype.constructor=t[e]}catch(i){!0,ft(n,_t,{value:t[e]})}}}(e[n]));S.createElement=function(t,e){var n=w(e);return n?Zt.call(this,t,At(n)):Zt.call(this,t)},Jt||(te=!0,S[D](""))}var S=t.document,E=t.Object,C=function(t){var e,n,i,r,o=/^[A-Z]+[a-z]/,a=function(t){var e,n=[];for(e in l)t.test(e)&&n.push(e);return n},s=function(t,e){(e=e.toLowerCase())in l||(l[t]=(l[t]||[]).concat(e),l[e]=l[e.toUpperCase()]=t)},l=(E.create||E)(null),c={};for(n in t)for(r in t[n])for(i=t[n][r],l[r]=i,e=0;e<i.length;e++)l[i[e].toLowerCase()]=l[i[e].toUpperCase()]=r;return c.get=function(t){return"string"==typeof t?l[t]||(o.test(t)?[]:""):a(t)},c.set=function(t,e){return o.test(t)?s(t,e):s(e,t),c},c}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=typeof e&&(e={type:e||"auto"});var P,k,A,O,R,L,N,I,M,D="registerElement",j="__"+D+(1e5*t.Math.random()>>0),B="addEventListener",H="attached",F="Callback",z="detached",U="extends",q="attributeChanged"+F,$=H+F,V="connected"+F,W="disconnected"+F,G="created"+F,Z=z+F,X="ADDITION",Y="REMOVAL",K="DOMAttrModified",J="DOMContentLoaded",Q="DOMSubtreeModified",tt="<",et="=",nt=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,it=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],rt=[],ot=[],at="",st=S.documentElement,lt=rt.indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},ct=E.prototype,ut=ct.hasOwnProperty,ht=ct.isPrototypeOf,ft=E.defineProperty,pt=[],dt=E.getOwnPropertyDescriptor,gt=E.getOwnPropertyNames,vt=E.getPrototypeOf,mt=E.setPrototypeOf,yt=!!E.__proto__,_t="__dreCEv1",wt=t.customElements,bt=!/^force/.test(e.type)&&!!(wt&&wt.define&&wt.get&&wt.whenDefined),xt=E.create||E,Tt=t.Map||function(){var t,e=[],n=[];return{get:function(t){return n[lt.call(e,t)]},set:function(i,r){t=lt.call(e,i),t<0?n[e.push(i)-1]=r:n[t]=r}}},St=t.Promise||function(t){function e(t){for(i=!0;n.length;)n.shift()(t)}var n=[],i=!1,r={catch:function(){return r},then:function(t){return n.push(t),i&&setTimeout(e,1),r}};return t(e),r},Et=!1,Ct=xt(null),Pt=xt(null),kt=new Tt,At=function(t){return t.toLowerCase()},Ot=E.create||function t(e){return e?(t.prototype=e,new t):this},Rt=mt||(yt?function(t,e){return t.__proto__=e,t}:gt&&dt?function(){function t(t,e){for(var n,i=gt(e),r=0,o=i.length;r<o;r++)n=i[r],ut.call(t,n)||ft(t,n,dt(e,n))}return function(e,n){do{t(e,n)}while((n=vt(n))&&!ht.call(n,e));return e}}():function(t,e){for(var n in e)t[n]=e[n];return t}),Lt=t.MutationObserver||t.WebKitMutationObserver,Nt=t.HTMLAnchorElement,It=(t.HTMLElement||t.Element||t.Node).prototype,Mt=!ht.call(It,st),Dt=Mt?function(t,e,n){return t[e]=n.value,t}:ft,jt=Mt?function(t){return 1===t.nodeType}:function(t){return ht.call(It,t)},Bt=Mt&&[],Ht=It.attachShadow,Ft=It.cloneNode,zt=It.dispatchEvent,Ut=It.getAttribute,qt=It.hasAttribute,$t=It.removeAttribute,Vt=It.setAttribute,Wt=S.createElement,Gt=S.importNode,Zt=Wt,Xt=Lt&&{attributes:!0,characterData:!0,attributeOldValue:!0},Yt=Lt||function(t){ee=!1,st.removeEventListener(K,Yt)},Kt=0,Jt=D in S&&!/^force-all/.test(e.type),Qt=!0,te=!1,ee=!0,ne=!0,ie=!0;if(Lt&&(M=S.createElement("div"),M.innerHTML="<div><div></div></div>",new Lt(function(t,e){if(t[0]&&"childList"==t[0].type&&!t[0].removedNodes[0].childNodes.length){M=dt(It,"innerHTML");var n=M&&M.set;n&&ft(It,"innerHTML",{set:function(t){for(;this.lastChild;)this.removeChild(this.lastChild);n.call(this,t)}})}e.disconnect(),M=null}).observe(M,{childList:!0,subtree:!0}),M.innerHTML=""),Jt||(mt||yt?(N=function(t,e){ht.call(e,t)||p(t,e)},I=p):(N=function(t,e){t[j]||(t[j]=E(!0),p(t,e))},I=N),Mt?(ee=!1,function(){var t=dt(It,B),e=t.value,n=function(t){var e=new CustomEvent(K,{bubbles:!0});e.attrName=t,e.prevValue=Ut.call(this,t),e.newValue=null,e[Y]=e.attrChange=2,$t.call(this,t),zt.call(this,e)},i=function(t,e){var n=qt.call(this,t),i=n&&Ut.call(this,t),r=new CustomEvent(K,{bubbles:!0});Vt.call(this,t,e),r.attrName=t,r.prevValue=n?i:null,r.newValue=e,n?r.MODIFICATION=r.attrChange=1:r[X]=r.attrChange=0,zt.call(this,r)},r=function(t){var e,n=t.currentTarget,i=n[j],r=t.propertyName;i.hasOwnProperty(r)&&(i=i[r],e=new CustomEvent(K,{bubbles:!0}),e.attrName=i.name,e.prevValue=i.value||null,e.newValue=i.value=n[r]||null,null==e.prevValue?e[X]=e.attrChange=0:e.MODIFICATION=e.attrChange=1,zt.call(n,e))};t.value=function(t,o,a){t===K&&this[q]&&this.setAttribute!==i&&(this[j]={className:{name:"class",value:this.className}},this.setAttribute=i,this.removeAttribute=n,e.call(this,"propertychange",r)),e.call(this,t,o,a)},ft(It,B,t)}()):Lt||(st[B](K,Yt),st.setAttribute(j,1),st.removeAttribute(j),ee&&(k=function(t){var e,n,i,r=this;if(r===t.target){for(i in e=r[j],r[j]=n=O(r),n){if(!(i in e))return A(0,r,i,e[i],n[i],X);if(n[i]!==e[i])return A(1,r,i,e[i],n[i],"MODIFICATION")}for(i in e)if(!(i in n))return A(2,r,i,e[i],n[i],Y)}},A=function(t,e,n,i,r,o){var a={attrChange:t,currentTarget:e,attrName:n,prevValue:i,newValue:r};a[o]=t,l(a)},O=function(t){for(var e,n,i={},r=t.attributes,o=0,a=r.length;o<a;o++)e=r[o],"setAttribute"!==(n=e.name)&&(i[n]=e.value);return i})),S[D]=function(t,e){if(n=t.toUpperCase(),Qt&&(Qt=!1,Lt?(R=function(t,e){function n(t,e){for(var n=0,i=t.length;n<i;e(t[n++]));}return new Lt(function(i){for(var r,o,a,s=0,l=i.length;s<l;s++)r=i[s],"childList"===r.type?(n(r.addedNodes,t),n(r.removedNodes,e)):(o=r.target,ie&&o[q]&&"style"!==r.attributeName&&(a=Ut.call(o,r.attributeName))!==r.oldValue&&o[q](r.attributeName,r.oldValue,a))})}(o(H),o(z)),L=function(t){return R.observe(t,{childList:!0,subtree:!0}),t},L(S),Ht&&(It.attachShadow=function(){return L(Ht.apply(this,arguments))})):(P=[],S[B]("DOMNodeInserted",c(H)),S[B]("DOMNodeRemoved",c(z))),S[B](J,u),S[B]("readystatechange",u),S.importNode=function(t,e){switch(t.nodeType){case 1:return f(S,Gt,[t,!!e]);case 11:for(var n=S.createDocumentFragment(),i=t.childNodes,r=i.length,o=0;o<r;o++)n.appendChild(S.importNode(i[o],!!e));return n;default:return Ft.call(t,!!e)}},It.cloneNode=function(t){return f(this,Ft,[!!t])}),te)return te=!1;if(-2<lt.call(rt,et+n)+lt.call(rt,tt+n)&&g(t),!nt.test(n)||-1<lt.call(it,n))throw new Error("The type "+t+" is invalid");var n,r,a=function(){return l?S.createElement(h,n):S.createElement(h)},s=e||ct,l=ut.call(s,U),h=l?e[U].toUpperCase():n;return l&&-1<lt.call(rt,tt+h)&&g(h),r=rt.push((l?et:tt)+n)-1,at=at.concat(at.length?",":"",l?h+'[is="'+t.toLowerCase()+'"]':h),a.prototype=ot[r]=ut.call(s,"prototype")?s.prototype:Ot(It),at.length&&i(S.querySelectorAll(at),H),a},S.createElement=Zt=function(t,e){var n=w(e),i=n?Wt.call(S,t,At(n)):Wt.call(S,t),r=""+t,o=lt.call(rt,(n?et:tt)+(n||r).toUpperCase()),a=-1<o;return n&&(i.setAttribute("is",n=n.toLowerCase()),a&&(a=s(r.toUpperCase(),n))),ie=!S.createElement.innerHTMLHelper,a&&I(i,ot[o]),i}),m.prototype={constructor:m,define:bt?function(t,e,n){if(n)y(t,e,n);else{var i=t.toUpperCase();Ct[i]={constructor:e,create:[i]},kt.set(e,i),wt.define(t,e)}}:y,get:bt?function(t){return wt.get(t)||_(t)}:_,whenDefined:bt?function(t){return St.race([wt.whenDefined(t),x(t)])}:x},!wt||/^force/.test(e.type))T();else if(!e.noBuiltIn)try{!function(e,n,i){var r=new RegExp("^<a\\s+is=('|\")"+i+"\\1></a>$");if(n[U]="a",e.prototype=Ot(Nt.prototype),e.prototype.constructor=e,t.customElements.define(i,e,n),!r.test(S.createElement("a",{is:i}).outerHTML)||!r.test((new e).outerHTML))throw n}(function t(){return Reflect.construct(Nt,[],t)},{},"document-register-element-a")}catch(re){T()}if(!e.noBuiltIn)try{if(Wt.call(S,"a","a").outerHTML.indexOf("is")<0)throw{}}catch(oe){At=function(t){return{is:t.toLowerCase()}}}}(window)},"2b0e":function(t,e,n){"use strict";(function(t){
/*!
 * Vue.js v2.5.21
 * (c) 2014-2018 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function i(t){return void 0===t||null===t}function r(t){return void 0!==t&&null!==t}function o(t){return!0===t}function a(t){return!1===t}function s(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function l(t){return null!==t&&"object"===typeof t}var c=Object.prototype.toString;function u(t){return"[object Object]"===c.call(t)}function h(t){return"[object RegExp]"===c.call(t)}function f(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function p(t){return null==t?"":"object"===typeof t?JSON.stringify(t,null,2):String(t)}function d(t){var e=parseFloat(t);return isNaN(e)?t:e}function g(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}g("slot,component",!0);var v=g("key,ref,slot,slot-scope,is");function m(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var y=Object.prototype.hasOwnProperty;function _(t,e){return y.call(t,e)}function w(t){var e=Object.create(null);return function(n){var i=e[n];return i||(e[n]=t(n))}}var b=/-(\w)/g,x=w(function(t){return t.replace(b,function(t,e){return e?e.toUpperCase():""})}),T=w(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),S=/\B([A-Z])/g,E=w(function(t){return t.replace(S,"-$1").toLowerCase()});function C(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function P(t,e){return t.bind(e)}var k=Function.prototype.bind?P:C;function A(t,e){e=e||0;var n=t.length-e,i=new Array(n);while(n--)i[n]=t[n+e];return i}function O(t,e){for(var n in e)t[n]=e[n];return t}function R(t){for(var e={},n=0;n<t.length;n++)t[n]&&O(e,t[n]);return e}function L(t,e,n){}var N=function(t,e,n){return!1},I=function(t){return t};function M(t,e){if(t===e)return!0;var n=l(t),i=l(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var r=Array.isArray(t),o=Array.isArray(e);if(r&&o)return t.length===e.length&&t.every(function(t,n){return M(t,e[n])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(r||o)return!1;var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every(function(n){return M(t[n],e[n])})}catch(c){return!1}}function D(t,e){for(var n=0;n<t.length;n++)if(M(t[n],e))return n;return-1}function j(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var B="data-server-rendered",H=["component","directive","filter"],F=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],z={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:N,isReservedAttr:N,isUnknownElement:N,getTagNamespace:L,parsePlatformTagName:I,mustUseProp:N,async:!0,_lifecycleHooks:F};function U(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function q(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var $=/[^\w.$]/;function V(t){if(!$.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var W,G="__proto__"in{},Z="undefined"!==typeof window,X="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Y=X&&WXEnvironment.platform.toLowerCase(),K=Z&&window.navigator.userAgent.toLowerCase(),J=K&&/msie|trident/.test(K),Q=K&&K.indexOf("msie 9.0")>0,tt=K&&K.indexOf("edge/")>0,et=(K&&K.indexOf("android"),K&&/iphone|ipad|ipod|ios/.test(K)||"ios"===Y),nt=(K&&/chrome\/\d+/.test(K),{}.watch),it=!1;if(Z)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){it=!0}}),window.addEventListener("test-passive",null,rt)}catch(sa){}var ot=function(){return void 0===W&&(W=!Z&&!X&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),W},at=Z&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function st(t){return"function"===typeof t&&/native code/.test(t.toString())}var lt,ct="undefined"!==typeof Symbol&&st(Symbol)&&"undefined"!==typeof Reflect&&st(Reflect.ownKeys);lt="undefined"!==typeof Set&&st(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ut=L,ht=0,ft=function(){this.id=ht++,this.subs=[]};ft.prototype.addSub=function(t){this.subs.push(t)},ft.prototype.removeSub=function(t){m(this.subs,t)},ft.prototype.depend=function(){ft.target&&ft.target.addDep(this)},ft.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},ft.target=null;var pt=[];function dt(t){pt.push(t),ft.target=t}function gt(){pt.pop(),ft.target=pt[pt.length-1]}var vt=function(t,e,n,i,r,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},mt={child:{configurable:!0}};mt.child.get=function(){return this.componentInstance},Object.defineProperties(vt.prototype,mt);var yt=function(t){void 0===t&&(t="");var e=new vt;return e.text=t,e.isComment=!0,e};function _t(t){return new vt(void 0,void 0,void 0,String(t))}function wt(t){var e=new vt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var bt=Array.prototype,xt=Object.create(bt),Tt=["push","pop","shift","unshift","splice","sort","reverse"];Tt.forEach(function(t){var e=bt[t];q(xt,t,function(){var n=[],i=arguments.length;while(i--)n[i]=arguments[i];var r,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2);break}return r&&a.observeArray(r),a.dep.notify(),o})});var St=Object.getOwnPropertyNames(xt),Et=!0;function Ct(t){Et=t}var Pt=function(t){this.value=t,this.dep=new ft,this.vmCount=0,q(t,"__ob__",this),Array.isArray(t)?(G?kt(t,xt):At(t,xt,St),this.observeArray(t)):this.walk(t)};function kt(t,e){t.__proto__=e}function At(t,e,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];q(t,o,e[o])}}function Ot(t,e){var n;if(l(t)&&!(t instanceof vt))return _(t,"__ob__")&&t.__ob__ instanceof Pt?n=t.__ob__:Et&&!ot()&&(Array.isArray(t)||u(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Pt(t)),e&&n&&n.vmCount++,n}function Rt(t,e,n,i,r){var o=new ft,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,l=a&&a.set;s&&!l||2!==arguments.length||(n=t[e]);var c=!r&&Ot(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return ft.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(e)&&It(e))),e},set:function(e){var i=s?s.call(t):n;e===i||e!==e&&i!==i||s&&!l||(l?l.call(t,e):n=e,c=!r&&Ot(e),o.notify())}})}}function Lt(t,e,n){if(Array.isArray(t)&&f(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var i=t.__ob__;return t._isVue||i&&i.vmCount?n:i?(Rt(i.value,e,n),i.dep.notify(),n):(t[e]=n,n)}function Nt(t,e){if(Array.isArray(t)&&f(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||_(t,e)&&(delete t[e],n&&n.dep.notify())}}function It(t){for(var e=void 0,n=0,i=t.length;n<i;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&It(e)}Pt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Rt(t,e[n])},Pt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Ot(t[e])};var Mt=z.optionMergeStrategies;function Dt(t,e){if(!e)return t;for(var n,i,r,o=Object.keys(e),a=0;a<o.length;a++)n=o[a],i=t[n],r=e[n],_(t,n)?i!==r&&u(i)&&u(r)&&Dt(i,r):Lt(t,n,r);return t}function jt(t,e,n){return n?function(){var i="function"===typeof e?e.call(n,n):e,r="function"===typeof t?t.call(n,n):t;return i?Dt(i,r):r}:e?t?function(){return Dt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function Bt(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function Ht(t,e,n,i){var r=Object.create(t||null);return e?O(r,e):r}Mt.data=function(t,e,n){return n?jt(t,e,n):e&&"function"!==typeof e?t:jt(t,e)},F.forEach(function(t){Mt[t]=Bt}),H.forEach(function(t){Mt[t+"s"]=Ht}),Mt.watch=function(t,e,n,i){if(t===nt&&(t=void 0),e===nt&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var o in O(r,t),e){var a=r[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),r[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return r},Mt.props=Mt.methods=Mt.inject=Mt.computed=function(t,e,n,i){if(!t)return e;var r=Object.create(null);return O(r,t),e&&O(r,e),r},Mt.provide=jt;var Ft=function(t,e){return void 0===e?t:e};function zt(t,e){var n=t.props;if(n){var i,r,o,a={};if(Array.isArray(n)){i=n.length;while(i--)r=n[i],"string"===typeof r&&(o=x(r),a[o]={type:null})}else if(u(n))for(var s in n)r=n[s],o=x(s),a[o]=u(r)?r:{type:r};else 0;t.props=a}}function Ut(t,e){var n=t.inject;if(n){var i=t.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(u(n))for(var o in n){var a=n[o];i[o]=u(a)?O({from:o},a):{from:a}}else 0}}function qt(t){var e=t.directives;if(e)for(var n in e){var i=e[n];"function"===typeof i&&(e[n]={bind:i,update:i})}}function $t(t,e,n){if("function"===typeof e&&(e=e.options),zt(e,n),Ut(e,n),qt(e),!e._base&&(e.extends&&(t=$t(t,e.extends,n)),e.mixins))for(var i=0,r=e.mixins.length;i<r;i++)t=$t(t,e.mixins[i],n);var o,a={};for(o in t)s(o);for(o in e)_(t,o)||s(o);function s(i){var r=Mt[i]||Ft;a[i]=r(t[i],e[i],n,i)}return a}function Vt(t,e,n,i){if("string"===typeof n){var r=t[e];if(_(r,n))return r[n];var o=x(n);if(_(r,o))return r[o];var a=T(o);if(_(r,a))return r[a];var s=r[n]||r[o]||r[a];return s}}function Wt(t,e,n,i){var r=e[t],o=!_(n,t),a=n[t],s=Yt(Boolean,r.type);if(s>-1)if(o&&!_(r,"default"))a=!1;else if(""===a||a===E(t)){var l=Yt(String,r.type);(l<0||s<l)&&(a=!0)}if(void 0===a){a=Gt(i,r,t);var c=Et;Ct(!0),Ot(a),Ct(c)}return a}function Gt(t,e,n){if(_(e,"default")){var i=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"===typeof i&&"Function"!==Zt(e.type)?i.call(t):i}}function Zt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Xt(t,e){return Zt(t)===Zt(e)}function Yt(t,e){if(!Array.isArray(e))return Xt(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(Xt(e[n],t))return n;return-1}function Kt(t,e,n){if(e){var i=e;while(i=i.$parent){var r=i.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{var a=!1===r[o].call(i,t,e,n);if(a)return}catch(sa){Jt(sa,i,"errorCaptured hook")}}}Jt(t,e,n)}function Jt(t,e,n){if(z.errorHandler)try{return z.errorHandler.call(null,t,e,n)}catch(sa){Qt(sa,null,"config.errorHandler")}Qt(t,e,n)}function Qt(t,e,n){if(!Z&&!X||"undefined"===typeof console)throw t;console.error(t)}var te,ee,ne=[],ie=!1;function re(){ie=!1;var t=ne.slice(0);ne.length=0;for(var e=0;e<t.length;e++)t[e]()}var oe=!1;if("undefined"!==typeof setImmediate&&st(setImmediate))ee=function(){setImmediate(re)};else if("undefined"===typeof MessageChannel||!st(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())ee=function(){setTimeout(re,0)};else{var ae=new MessageChannel,se=ae.port2;ae.port1.onmessage=re,ee=function(){se.postMessage(1)}}if("undefined"!==typeof Promise&&st(Promise)){var le=Promise.resolve();te=function(){le.then(re),et&&setTimeout(L)}}else te=ee;function ce(t){return t._withTask||(t._withTask=function(){oe=!0;try{return t.apply(null,arguments)}finally{oe=!1}})}function ue(t,e){var n;if(ne.push(function(){if(t)try{t.call(e)}catch(sa){Kt(sa,e,"nextTick")}else n&&n(e)}),ie||(ie=!0,oe?ee():te()),!t&&"undefined"!==typeof Promise)return new Promise(function(t){n=t})}var he=new lt;function fe(t){pe(t,he),he.clear()}function pe(t,e){var n,i,r=Array.isArray(t);if(!(!r&&!l(t)||Object.isFrozen(t)||t instanceof vt)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(r){n=t.length;while(n--)pe(t[n],e)}else{i=Object.keys(t),n=i.length;while(n--)pe(t[i[n]],e)}}}var de,ge=w(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var i="!"===t.charAt(0);return t=i?t.slice(1):t,{name:t,once:n,capture:i,passive:e}});function ve(t){function e(){var t=arguments,n=e.fns;if(!Array.isArray(n))return n.apply(null,arguments);for(var i=n.slice(),r=0;r<i.length;r++)i[r].apply(null,t)}return e.fns=t,e}function me(t,e,n,r,a,s){var l,c,u,h;for(l in t)c=t[l],u=e[l],h=ge(l),i(c)||(i(u)?(i(c.fns)&&(c=t[l]=ve(c)),o(h.once)&&(c=t[l]=a(h.name,c,h.capture)),n(h.name,c,h.capture,h.passive,h.params)):c!==u&&(u.fns=c,t[l]=u));for(l in e)i(t[l])&&(h=ge(l),r(h.name,e[l],h.capture))}function ye(t,e,n){var a;t instanceof vt&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function l(){n.apply(this,arguments),m(a.fns,l)}i(s)?a=ve([l]):r(s.fns)&&o(s.merged)?(a=s,a.fns.push(l)):a=ve([s,l]),a.merged=!0,t[e]=a}function _e(t,e,n){var o=e.options.props;if(!i(o)){var a={},s=t.attrs,l=t.props;if(r(s)||r(l))for(var c in o){var u=E(c);we(a,l,c,u,!0)||we(a,s,c,u,!1)}return a}}function we(t,e,n,i,o){if(r(e)){if(_(e,n))return t[n]=e[n],o||delete e[n],!0;if(_(e,i))return t[n]=e[i],o||delete e[i],!0}return!1}function be(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function xe(t){return s(t)?[_t(t)]:Array.isArray(t)?Se(t):void 0}function Te(t){return r(t)&&r(t.text)&&a(t.isComment)}function Se(t,e){var n,a,l,c,u=[];for(n=0;n<t.length;n++)a=t[n],i(a)||"boolean"===typeof a||(l=u.length-1,c=u[l],Array.isArray(a)?a.length>0&&(a=Se(a,(e||"")+"_"+n),Te(a[0])&&Te(c)&&(u[l]=_t(c.text+a[0].text),a.shift()),u.push.apply(u,a)):s(a)?Te(c)?u[l]=_t(c.text+a):""!==a&&u.push(_t(a)):Te(a)&&Te(c)?u[l]=_t(c.text+a.text):(o(t._isVList)&&r(a.tag)&&i(a.key)&&r(e)&&(a.key="__vlist"+e+"_"+n+"__"),u.push(a)));return u}function Ee(t,e){return(t.__esModule||ct&&"Module"===t[Symbol.toStringTag])&&(t=t.default),l(t)?e.extend(t):t}function Ce(t,e,n,i,r){var o=yt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:i,tag:r},o}function Pe(t,e,n){if(o(t.error)&&r(t.errorComp))return t.errorComp;if(r(t.resolved))return t.resolved;if(o(t.loading)&&r(t.loadingComp))return t.loadingComp;if(!r(t.contexts)){var a=t.contexts=[n],s=!0,c=function(t){for(var e=0,n=a.length;e<n;e++)a[e].$forceUpdate();t&&(a.length=0)},u=j(function(n){t.resolved=Ee(n,e),s||c(!0)}),h=j(function(e){r(t.errorComp)&&(t.error=!0,c(!0))}),f=t(u,h);return l(f)&&("function"===typeof f.then?i(t.resolved)&&f.then(u,h):r(f.component)&&"function"===typeof f.component.then&&(f.component.then(u,h),r(f.error)&&(t.errorComp=Ee(f.error,e)),r(f.loading)&&(t.loadingComp=Ee(f.loading,e),0===f.delay?t.loading=!0:setTimeout(function(){i(t.resolved)&&i(t.error)&&(t.loading=!0,c(!1))},f.delay||200)),r(f.timeout)&&setTimeout(function(){i(t.resolved)&&h(null)},f.timeout))),s=!1,t.loading?t.loadingComp:t.resolved}t.contexts.push(n)}function ke(t){return t.isComment&&t.asyncFactory}function Ae(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(r(n)&&(r(n.componentOptions)||ke(n)))return n}}function Oe(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Ie(t,e)}function Re(t,e){de.$on(t,e)}function Le(t,e){de.$off(t,e)}function Ne(t,e){var n=de;return function i(){var r=e.apply(null,arguments);null!==r&&n.$off(t,i)}}function Ie(t,e,n){de=t,me(e,n||{},Re,Le,Ne,t),de=void 0}function Me(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;if(Array.isArray(t))for(var r=0,o=t.length;r<o;r++)i.$on(t[r],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var i=0,r=t.length;i<r;i++)n.$off(t[i],e);return n}var o=n._events[t];if(!o)return n;if(!e)return n._events[t]=null,n;if(e){var a,s=o.length;while(s--)if(a=o[s],a===e||a.fn===e){o.splice(s,1);break}}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?A(n):n;for(var i=A(arguments,1),r=0,o=n.length;r<o;r++)try{n[r].apply(e,i)}catch(sa){Kt(sa,e,'event handler for "'+t+'"')}}return e}}function De(t,e){var n={};if(!t)return n;for(var i=0,r=t.length;i<r;i++){var o=t[i],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,l=n[s]||(n[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var c in n)n[c].every(je)&&delete n[c];return n}function je(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Be(t,e){e=e||{};for(var n=0;n<t.length;n++)Array.isArray(t[n])?Be(t[n],e):e[t[n].key]=t[n].fn;return e}var He=null;function Fe(t){var e=He;return He=t,function(){He=e}}function ze(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Ue(t){t.prototype._update=function(t,e){var n=this,i=n.$el,r=n._vnode,o=Fe(n);n._vnode=t,n.$el=r?n.__patch__(r,t):n.__patch__(n.$el,t,e,!1),o(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Ze(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||m(e.$children,t),t._watcher&&t._watcher.teardown();var n=t._watchers.length;while(n--)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Ze(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function qe(t,e,n){var i;return t.$el=e,t.$options.render||(t.$options.render=yt),Ze(t,"beforeMount"),i=function(){t._update(t._render(),n)},new cn(t,i,L,{before:function(){t._isMounted&&!t._isDestroyed&&Ze(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Ze(t,"mounted")),t}function $e(t,e,i,r,o){var a=!!(o||t.$options._renderChildren||r.data.scopedSlots||t.$scopedSlots!==n);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=o,t.$attrs=r.data.attrs||n,t.$listeners=i||n,e&&t.$options.props){Ct(!1);for(var s=t._props,l=t.$options._propKeys||[],c=0;c<l.length;c++){var u=l[c],h=t.$options.props;s[u]=Wt(u,h,e,t)}Ct(!0),t.$options.propsData=e}i=i||n;var f=t.$options._parentListeners;t.$options._parentListeners=i,Ie(t,i,f),a&&(t.$slots=De(o,r.context),t.$forceUpdate())}function Ve(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function We(t,e){if(e){if(t._directInactive=!1,Ve(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)We(t.$children[n]);Ze(t,"activated")}}function Ge(t,e){if((!e||(t._directInactive=!0,!Ve(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Ge(t.$children[n]);Ze(t,"deactivated")}}function Ze(t,e){dt();var n=t.$options[e];if(n)for(var i=0,r=n.length;i<r;i++)try{n[i].call(t)}catch(sa){Kt(sa,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e),gt()}var Xe=[],Ye=[],Ke={},Je=!1,Qe=!1,tn=0;function en(){tn=Xe.length=Ye.length=0,Ke={},Je=Qe=!1}function nn(){var t,e;for(Qe=!0,Xe.sort(function(t,e){return t.id-e.id}),tn=0;tn<Xe.length;tn++)t=Xe[tn],t.before&&t.before(),e=t.id,Ke[e]=null,t.run();var n=Ye.slice(),i=Xe.slice();en(),an(n),rn(i),at&&z.devtools&&at.emit("flush")}function rn(t){var e=t.length;while(e--){var n=t[e],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&Ze(i,"updated")}}function on(t){t._inactive=!1,Ye.push(t)}function an(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,We(t[e],!0)}function sn(t){var e=t.id;if(null==Ke[e]){if(Ke[e]=!0,Qe){var n=Xe.length-1;while(n>tn&&Xe[n].id>t.id)n--;Xe.splice(n+1,0,t)}else Xe.push(t);Je||(Je=!0,ue(nn))}}var ln=0,cn=function(t,e,n,i,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++ln,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new lt,this.newDepIds=new lt,this.expression="","function"===typeof e?this.getter=e:(this.getter=V(e),this.getter||(this.getter=L)),this.value=this.lazy?void 0:this.get()};cn.prototype.get=function(){var t;dt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(sa){if(!this.user)throw sa;Kt(sa,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&fe(t),gt(),this.cleanupDeps()}return t},cn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},cn.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},cn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():sn(this)},cn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||l(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(sa){Kt(sa,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},cn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},cn.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},cn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||m(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var un={enumerable:!0,configurable:!0,get:L,set:L};function hn(t,e,n){un.get=function(){return this[e][n]},un.set=function(t){this[e][n]=t},Object.defineProperty(t,n,un)}function fn(t){t._watchers=[];var e=t.$options;e.props&&pn(t,e.props),e.methods&&bn(t,e.methods),e.data?dn(t):Ot(t._data={},!0),e.computed&&mn(t,e.computed),e.watch&&e.watch!==nt&&xn(t,e.watch)}function pn(t,e){var n=t.$options.propsData||{},i=t._props={},r=t.$options._propKeys=[],o=!t.$parent;o||Ct(!1);var a=function(o){r.push(o);var a=Wt(o,e,n,t);Rt(i,o,a),o in t||hn(t,"_props",o)};for(var s in e)a(s);Ct(!0)}function dn(t){var e=t.$options.data;e=t._data="function"===typeof e?gn(e,t):e||{},u(e)||(e={});var n=Object.keys(e),i=t.$options.props,r=(t.$options.methods,n.length);while(r--){var o=n[r];0,i&&_(i,o)||U(o)||hn(t,"_data",o)}Ot(e,!0)}function gn(t,e){dt();try{return t.call(e,e)}catch(sa){return Kt(sa,e,"data()"),{}}finally{gt()}}var vn={lazy:!0};function mn(t,e){var n=t._computedWatchers=Object.create(null),i=ot();for(var r in e){var o=e[r],a="function"===typeof o?o:o.get;0,i||(n[r]=new cn(t,a||L,L,vn)),r in t||yn(t,r,o)}}function yn(t,e,n){var i=!ot();"function"===typeof n?(un.get=i?_n(e):wn(n),un.set=L):(un.get=n.get?i&&!1!==n.cache?_n(e):wn(n.get):L,un.set=n.set||L),Object.defineProperty(t,e,un)}function _n(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),ft.target&&e.depend(),e.value}}function wn(t){return function(){return t.call(this,this)}}function bn(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?L:k(e[n],t)}function xn(t,e){for(var n in e){var i=e[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)Tn(t,n,i[r]);else Tn(t,n,i)}}function Tn(t,e,n,i){return u(n)&&(i=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,i)}function Sn(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Lt,t.prototype.$delete=Nt,t.prototype.$watch=function(t,e,n){var i=this;if(u(e))return Tn(i,t,e,n);n=n||{},n.user=!0;var r=new cn(i,t,e,n);if(n.immediate)try{e.call(i,r.value)}catch(o){Kt(o,i,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}function En(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function Cn(t){var e=Pn(t.$options.inject,t);e&&(Ct(!1),Object.keys(e).forEach(function(n){Rt(t,n,e[n])}),Ct(!0))}function Pn(t,e){if(t){for(var n=Object.create(null),i=ct?Reflect.ownKeys(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}):Object.keys(t),r=0;r<i.length;r++){var o=i[r],a=t[o].from,s=e;while(s){if(s._provided&&_(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[o]){var l=t[o].default;n[o]="function"===typeof l?l.call(e):l}else 0}return n}}function kn(t,e){var n,i,o,a,s;if(Array.isArray(t)||"string"===typeof t)for(n=new Array(t.length),i=0,o=t.length;i<o;i++)n[i]=e(t[i],i);else if("number"===typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(l(t))for(a=Object.keys(t),n=new Array(a.length),i=0,o=a.length;i<o;i++)s=a[i],n[i]=e(t[s],s,i);return r(n)||(n=[]),n._isVList=!0,n}function An(t,e,n,i){var r,o=this.$scopedSlots[t];o?(n=n||{},i&&(n=O(O({},i),n)),r=o(n)||e):r=this.$slots[t]||e;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},r):r}function On(t){return Vt(this.$options,"filters",t,!0)||I}function Rn(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Ln(t,e,n,i,r){var o=z.keyCodes[e]||n;return r&&i&&!z.keyCodes[e]?Rn(r,i):o?Rn(o,t):i?E(i)!==e:void 0}function Nn(t,e,n,i,r){if(n)if(l(n)){var o;Array.isArray(n)&&(n=R(n));var a=function(a){if("class"===a||"style"===a||v(a))o=t;else{var s=t.attrs&&t.attrs.type;o=i||z.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var l=x(a);if(!(a in o)&&!(l in o)&&(o[a]=n[a],r)){var c=t.on||(t.on={});c["update:"+l]=function(t){n[a]=t}}};for(var s in n)a(s)}else;return t}function In(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e?i:(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),Dn(i,"__static__"+t,!1),i)}function Mn(t,e,n){return Dn(t,"__once__"+e+(n?"_"+n:""),!0),t}function Dn(t,e,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!==typeof t[i]&&jn(t[i],e+"_"+i,n);else jn(t,e,n)}function jn(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Bn(t,e){if(e)if(u(e)){var n=t.on=t.on?O({},t.on):{};for(var i in e){var r=n[i],o=e[i];n[i]=r?[].concat(r,o):o}}else;return t}function Hn(t){t._o=Mn,t._n=d,t._s=p,t._l=kn,t._t=An,t._q=M,t._i=D,t._m=In,t._f=On,t._k=Ln,t._b=Nn,t._v=_t,t._e=yt,t._u=Be,t._g=Bn}function Fn(t,e,i,r,a){var s,l=a.options;_(r,"_uid")?(s=Object.create(r),s._original=r):(s=r,r=r._original);var c=o(l._compiled),u=!c;this.data=t,this.props=e,this.children=i,this.parent=r,this.listeners=t.on||n,this.injections=Pn(l.inject,r),this.slots=function(){return De(i,r)},c&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=t.scopedSlots||n),l._scopeId?this._c=function(t,e,n,i){var o=Qn(s,t,e,n,i,u);return o&&!Array.isArray(o)&&(o.fnScopeId=l._scopeId,o.fnContext=r),o}:this._c=function(t,e,n,i){return Qn(s,t,e,n,i,u)}}function zn(t,e,i,o,a){var s=t.options,l={},c=s.props;if(r(c))for(var u in c)l[u]=Wt(u,c,e||n);else r(i.attrs)&&qn(l,i.attrs),r(i.props)&&qn(l,i.props);var h=new Fn(i,l,a,o,t),f=s.render.call(null,h._c,h);if(f instanceof vt)return Un(f,i,h.parent,s,h);if(Array.isArray(f)){for(var p=xe(f)||[],d=new Array(p.length),g=0;g<p.length;g++)d[g]=Un(p[g],i,h.parent,s,h);return d}}function Un(t,e,n,i,r){var o=wt(t);return o.fnContext=n,o.fnOptions=i,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function qn(t,e){for(var n in e)t[x(n)]=e[n]}Hn(Fn.prototype);var $n={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;$n.prepatch(n,n)}else{var i=t.componentInstance=Gn(t,He);i.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,i=e.componentInstance=t.componentInstance;$e(i,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Ze(n,"mounted")),t.data.keepAlive&&(e._isMounted?on(n):We(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Ge(e,!0):e.$destroy())}},Vn=Object.keys($n);function Wn(t,e,n,a,s){if(!i(t)){var c=n.$options._base;if(l(t)&&(t=c.extend(t)),"function"===typeof t){var u;if(i(t.cid)&&(u=t,t=Pe(u,c,n),void 0===t))return Ce(u,e,n,a,s);e=e||{},li(t),r(e.model)&&Yn(t.options,e);var h=_e(e,t,s);if(o(t.options.functional))return zn(t,h,e,n,a);var f=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var p=e.slot;e={},p&&(e.slot=p)}Zn(e);var d=t.options.name||s,g=new vt("vue-component-"+t.cid+(d?"-"+d:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:h,listeners:f,tag:s,children:a},u);return g}}}function Gn(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},i=t.data.inlineTemplate;return r(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new t.componentOptions.Ctor(n)}function Zn(t){for(var e=t.hook||(t.hook={}),n=0;n<Vn.length;n++){var i=Vn[n],r=e[i],o=$n[i];r===o||r&&r._merged||(e[i]=r?Xn(o,r):o)}}function Xn(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}function Yn(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.props||(e.props={}))[n]=e.model.value;var o=e.on||(e.on={}),a=o[i],s=e.model.callback;r(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(o[i]=[s].concat(a)):o[i]=s}var Kn=1,Jn=2;function Qn(t,e,n,i,r,a){return(Array.isArray(n)||s(n))&&(r=i,i=n,n=void 0),o(a)&&(r=Jn),ti(t,e,n,i,r)}function ti(t,e,n,i,o){if(r(n)&&r(n.__ob__))return yt();if(r(n)&&r(n.is)&&(e=n.is),!e)return yt();var a,s,l;(Array.isArray(i)&&"function"===typeof i[0]&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),o===Jn?i=xe(i):o===Kn&&(i=be(i)),"string"===typeof e)?(s=t.$vnode&&t.$vnode.ns||z.getTagNamespace(e),a=z.isReservedTag(e)?new vt(z.parsePlatformTagName(e),n,i,void 0,void 0,t):n&&n.pre||!r(l=Vt(t.$options,"components",e))?new vt(e,n,i,void 0,void 0,t):Wn(l,n,t,i,e)):a=Wn(e,n,t,i);return Array.isArray(a)?a:r(a)?(r(s)&&ei(a,s),r(n)&&ni(n),a):yt()}function ei(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),r(t.children))for(var a=0,s=t.children.length;a<s;a++){var l=t.children[a];r(l.tag)&&(i(l.ns)||o(n)&&"svg"!==l.tag)&&ei(l,e,n)}}function ni(t){l(t.style)&&fe(t.style),l(t.class)&&fe(t.class)}function ii(t){t._vnode=null,t._staticTrees=null;var e=t.$options,i=t.$vnode=e._parentVnode,r=i&&i.context;t.$slots=De(e._renderChildren,r),t.$scopedSlots=n,t._c=function(e,n,i,r){return Qn(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return Qn(t,e,n,i,r,!0)};var o=i&&i.data;Rt(t,"$attrs",o&&o.attrs||n,null,!0),Rt(t,"$listeners",e._parentListeners||n,null,!0)}function ri(t){Hn(t.prototype),t.prototype.$nextTick=function(t){return ue(t,this)},t.prototype._render=function(){var t,e=this,i=e.$options,r=i.render,o=i._parentVnode;o&&(e.$scopedSlots=o.data.scopedSlots||n),e.$vnode=o;try{t=r.call(e._renderProxy,e.$createElement)}catch(sa){Kt(sa,e,"render"),t=e._vnode}return t instanceof vt||(t=yt()),t.parent=o,t}}var oi=0;function ai(t){t.prototype._init=function(t){var e=this;e._uid=oi++,e._isVue=!0,t&&t._isComponent?si(e,t):e.$options=$t(li(e.constructor),t||{},e),e._renderProxy=e,e._self=e,ze(e),Oe(e),ii(e),Ze(e,"beforeCreate"),Cn(e),fn(e),En(e),Ze(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function si(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function li(t){var e=t.options;if(t.super){var n=li(t.super),i=t.superOptions;if(n!==i){t.superOptions=n;var r=ci(t);r&&O(t.extendOptions,r),e=t.options=$t(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function ci(t){var e,n=t.options,i=t.extendOptions,r=t.sealedOptions;for(var o in n)n[o]!==r[o]&&(e||(e={}),e[o]=ui(n[o],i[o],r[o]));return e}function ui(t,e,n){if(Array.isArray(t)){var i=[];n=Array.isArray(n)?n:[n],e=Array.isArray(e)?e:[e];for(var r=0;r<t.length;r++)(e.indexOf(t[r])>=0||n.indexOf(t[r])<0)&&i.push(t[r]);return i}return t}function hi(t){this._init(t)}function fi(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=A(arguments,1);return n.unshift(this),"function"===typeof t.install?t.install.apply(t,n):"function"===typeof t&&t.apply(null,n),e.push(t),this}}function pi(t){t.mixin=function(t){return this.options=$t(this.options,t),this}}function di(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,r=t._Ctor||(t._Ctor={});if(r[i])return r[i];var o=t.name||n.options.name;var a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=$t(n.options,t),a["super"]=n,a.options.props&&gi(a),a.options.computed&&vi(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,H.forEach(function(t){a[t]=n[t]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=O({},a.options),r[i]=a,a}}function gi(t){var e=t.options.props;for(var n in e)hn(t.prototype,"_props",n)}function vi(t){var e=t.options.computed;for(var n in e)yn(t.prototype,n,e[n])}function mi(t){H.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&u(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"===typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}function yi(t){return t&&(t.Ctor.options.name||t.tag)}function _i(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function wi(t,e){var n=t.cache,i=t.keys,r=t._vnode;for(var o in n){var a=n[o];if(a){var s=yi(a.componentOptions);s&&!e(s)&&bi(n,o,i,r)}}}function bi(t,e,n,i){var r=t[e];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),t[e]=null,m(n,e)}ai(hi),Sn(hi),Me(hi),Ue(hi),ri(hi);var xi=[String,RegExp,Array],Ti={name:"keep-alive",abstract:!0,props:{include:xi,exclude:xi,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)bi(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){wi(t,function(t){return _i(e,t)})}),this.$watch("exclude",function(e){wi(t,function(t){return!_i(e,t)})})},render:function(){var t=this.$slots.default,e=Ae(t),n=e&&e.componentOptions;if(n){var i=yi(n),r=this,o=r.include,a=r.exclude;if(o&&(!i||!_i(o,i))||a&&i&&_i(a,i))return e;var s=this,l=s.cache,c=s.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;l[u]?(e.componentInstance=l[u].componentInstance,m(c,u),c.push(u)):(l[u]=e,c.push(u),this.max&&c.length>parseInt(this.max)&&bi(l,c[0],c,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},Si={KeepAlive:Ti};function Ei(t){var e={get:function(){return z}};Object.defineProperty(t,"config",e),t.util={warn:ut,extend:O,mergeOptions:$t,defineReactive:Rt},t.set=Lt,t.delete=Nt,t.nextTick=ue,t.options=Object.create(null),H.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,O(t.options.components,Si),fi(t),pi(t),di(t),mi(t)}Ei(hi),Object.defineProperty(hi.prototype,"$isServer",{get:ot}),Object.defineProperty(hi.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(hi,"FunctionalRenderContext",{value:Fn}),hi.version="2.5.21";var Ci=g("style,class"),Pi=g("input,textarea,option,select,progress"),ki=function(t,e,n){return"value"===n&&Pi(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Ai=g("contenteditable,draggable,spellcheck"),Oi=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Ri="http://www.w3.org/1999/xlink",Li=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Ni=function(t){return Li(t)?t.slice(6,t.length):""},Ii=function(t){return null==t||!1===t};function Mi(t){var e=t.data,n=t,i=t;while(r(i.componentInstance))i=i.componentInstance._vnode,i&&i.data&&(e=Di(i.data,e));while(r(n=n.parent))n&&n.data&&(e=Di(e,n.data));return ji(e.staticClass,e.class)}function Di(t,e){return{staticClass:Bi(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function ji(t,e){return r(t)||r(e)?Bi(t,Hi(e)):""}function Bi(t,e){return t?e?t+" "+e:t:e||""}function Hi(t){return Array.isArray(t)?Fi(t):l(t)?zi(t):"string"===typeof t?t:""}function Fi(t){for(var e,n="",i=0,o=t.length;i<o;i++)r(e=Hi(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function zi(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var Ui={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},qi=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),$i=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Vi=function(t){return qi(t)||$i(t)};function Wi(t){return $i(t)?"svg":"math"===t?"math":void 0}var Gi=Object.create(null);function Zi(t){if(!Z)return!0;if(Vi(t))return!1;if(t=t.toLowerCase(),null!=Gi[t])return Gi[t];var e=document.createElement(t);return t.indexOf("-")>-1?Gi[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Gi[t]=/HTMLUnknownElement/.test(e.toString())}var Xi=g("text,number,password,search,email,tel,url");function Yi(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function Ki(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function Ji(t,e){return document.createElementNS(Ui[t],e)}function Qi(t){return document.createTextNode(t)}function tr(t){return document.createComment(t)}function er(t,e,n){t.insertBefore(e,n)}function nr(t,e){t.removeChild(e)}function ir(t,e){t.appendChild(e)}function rr(t){return t.parentNode}function or(t){return t.nextSibling}function ar(t){return t.tagName}function sr(t,e){t.textContent=e}function lr(t,e){t.setAttribute(e,"")}var cr=Object.freeze({createElement:Ki,createElementNS:Ji,createTextNode:Qi,createComment:tr,insertBefore:er,removeChild:nr,appendChild:ir,parentNode:rr,nextSibling:or,tagName:ar,setTextContent:sr,setStyleScope:lr}),ur={create:function(t,e){hr(e)},update:function(t,e){t.data.ref!==e.data.ref&&(hr(t,!0),hr(e))},destroy:function(t){hr(t,!0)}};function hr(t,e){var n=t.data.ref;if(r(n)){var i=t.context,o=t.componentInstance||t.elm,a=i.$refs;e?Array.isArray(a[n])?m(a[n],o):a[n]===o&&(a[n]=void 0):t.data.refInFor?Array.isArray(a[n])?a[n].indexOf(o)<0&&a[n].push(o):a[n]=[o]:a[n]=o}}var fr=new vt("",{},[]),pr=["create","activate","update","remove","destroy"];function dr(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&gr(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&i(e.asyncFactory.error))}function gr(t,e){if("input"!==t.tag)return!0;var n,i=r(n=t.data)&&r(n=n.attrs)&&n.type,o=r(n=e.data)&&r(n=n.attrs)&&n.type;return i===o||Xi(i)&&Xi(o)}function vr(t,e,n){var i,o,a={};for(i=e;i<=n;++i)o=t[i].key,r(o)&&(a[o]=i);return a}function mr(t){var e,n,a={},l=t.modules,c=t.nodeOps;for(e=0;e<pr.length;++e)for(a[pr[e]]=[],n=0;n<l.length;++n)r(l[n][pr[e]])&&a[pr[e]].push(l[n][pr[e]]);function u(t){return new vt(c.tagName(t).toLowerCase(),{},[],void 0,t)}function h(t,e){function n(){0===--n.listeners&&f(t)}return n.listeners=e,n}function f(t){var e=c.parentNode(t);r(e)&&c.removeChild(e,t)}function p(t,e,n,i,a,s,l){if(r(t.elm)&&r(s)&&(t=s[l]=wt(t)),t.isRootInsert=!a,!d(t,e,n,i)){var u=t.data,h=t.children,f=t.tag;r(f)?(t.elm=t.ns?c.createElementNS(t.ns,f):c.createElement(f,t),x(t),_(t,h,e),r(u)&&b(t,e),y(n,t.elm,i)):o(t.isComment)?(t.elm=c.createComment(t.text),y(n,t.elm,i)):(t.elm=c.createTextNode(t.text),y(n,t.elm,i))}}function d(t,e,n,i){var a=t.data;if(r(a)){var s=r(t.componentInstance)&&a.keepAlive;if(r(a=a.hook)&&r(a=a.init)&&a(t,!1),r(t.componentInstance))return v(t,e),y(n,t.elm,i),o(s)&&m(t,e,n,i),!0}}function v(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,w(t)?(b(t,e),x(t)):(hr(t),e.push(t))}function m(t,e,n,i){var o,s=t;while(s.componentInstance)if(s=s.componentInstance._vnode,r(o=s.data)&&r(o=o.transition)){for(o=0;o<a.activate.length;++o)a.activate[o](fr,s);e.push(s);break}y(n,t.elm,i)}function y(t,e,n){r(t)&&(r(n)?c.parentNode(n)===t&&c.insertBefore(t,e,n):c.appendChild(t,e))}function _(t,e,n){if(Array.isArray(e)){0;for(var i=0;i<e.length;++i)p(e[i],n,t.elm,null,!0,e,i)}else s(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function w(t){while(t.componentInstance)t=t.componentInstance._vnode;return r(t.tag)}function b(t,n){for(var i=0;i<a.create.length;++i)a.create[i](fr,t);e=t.data.hook,r(e)&&(r(e.create)&&e.create(fr,t),r(e.insert)&&n.push(t))}function x(t){var e;if(r(e=t.fnScopeId))c.setStyleScope(t.elm,e);else{var n=t;while(n)r(e=n.context)&&r(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),n=n.parent}r(e=He)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function T(t,e,n,i,r,o){for(;i<=r;++i)p(n[i],o,t,e,!1,n,i)}function S(t){var e,n,i=t.data;if(r(i))for(r(e=i.hook)&&r(e=e.destroy)&&e(t),e=0;e<a.destroy.length;++e)a.destroy[e](t);if(r(e=t.children))for(n=0;n<t.children.length;++n)S(t.children[n])}function E(t,e,n,i){for(;n<=i;++n){var o=e[n];r(o)&&(r(o.tag)?(C(o),S(o)):f(o.elm))}}function C(t,e){if(r(e)||r(t.data)){var n,i=a.remove.length+1;for(r(e)?e.listeners+=i:e=h(t.elm,i),r(n=t.componentInstance)&&r(n=n._vnode)&&r(n.data)&&C(n,e),n=0;n<a.remove.length;++n)a.remove[n](t,e);r(n=t.data.hook)&&r(n=n.remove)?n(t,e):e()}else f(t.elm)}function P(t,e,n,o,a){var s,l,u,h,f=0,d=0,g=e.length-1,v=e[0],m=e[g],y=n.length-1,_=n[0],w=n[y],b=!a;while(f<=g&&d<=y)i(v)?v=e[++f]:i(m)?m=e[--g]:dr(v,_)?(A(v,_,o,n,d),v=e[++f],_=n[++d]):dr(m,w)?(A(m,w,o,n,y),m=e[--g],w=n[--y]):dr(v,w)?(A(v,w,o,n,y),b&&c.insertBefore(t,v.elm,c.nextSibling(m.elm)),v=e[++f],w=n[--y]):dr(m,_)?(A(m,_,o,n,d),b&&c.insertBefore(t,m.elm,v.elm),m=e[--g],_=n[++d]):(i(s)&&(s=vr(e,f,g)),l=r(_.key)?s[_.key]:k(_,e,f,g),i(l)?p(_,o,t,v.elm,!1,n,d):(u=e[l],dr(u,_)?(A(u,_,o,n,d),e[l]=void 0,b&&c.insertBefore(t,u.elm,v.elm)):p(_,o,t,v.elm,!1,n,d)),_=n[++d]);f>g?(h=i(n[y+1])?null:n[y+1].elm,T(t,h,n,d,y,o)):d>y&&E(t,e,f,g)}function k(t,e,n,i){for(var o=n;o<i;o++){var a=e[o];if(r(a)&&dr(t,a))return o}}function A(t,e,n,s,l,u){if(t!==e){r(e.elm)&&r(s)&&(e=s[l]=wt(e));var h=e.elm=t.elm;if(o(t.isAsyncPlaceholder))r(e.asyncFactory.resolved)?L(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,p=e.data;r(p)&&r(f=p.hook)&&r(f=f.prepatch)&&f(t,e);var d=t.children,g=e.children;if(r(p)&&w(e)){for(f=0;f<a.update.length;++f)a.update[f](t,e);r(f=p.hook)&&r(f=f.update)&&f(t,e)}i(e.text)?r(d)&&r(g)?d!==g&&P(h,d,g,n,u):r(g)?(r(t.text)&&c.setTextContent(h,""),T(h,null,g,0,g.length-1,n)):r(d)?E(h,d,0,d.length-1):r(t.text)&&c.setTextContent(h,""):t.text!==e.text&&c.setTextContent(h,e.text),r(p)&&r(f=p.hook)&&r(f=f.postpatch)&&f(t,e)}}}function O(t,e,n){if(o(n)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var R=g("attrs,class,staticClass,staticStyle,key");function L(t,e,n,i){var a,s=e.tag,l=e.data,c=e.children;if(i=i||l&&l.pre,e.elm=t,o(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(l)&&(r(a=l.hook)&&r(a=a.init)&&a(e,!0),r(a=e.componentInstance)))return v(e,n),!0;if(r(s)){if(r(c))if(t.hasChildNodes())if(r(a=l)&&r(a=a.domProps)&&r(a=a.innerHTML)){if(a!==t.innerHTML)return!1}else{for(var u=!0,h=t.firstChild,f=0;f<c.length;f++){if(!h||!L(h,c[f],n,i)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else _(e,c,n);if(r(l)){var p=!1;for(var d in l)if(!R(d)){p=!0,b(e,n);break}!p&&l["class"]&&fe(l["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,s){if(!i(e)){var l=!1,h=[];if(i(t))l=!0,p(e,h);else{var f=r(t.nodeType);if(!f&&dr(t,e))A(t,e,h,null,null,s);else{if(f){if(1===t.nodeType&&t.hasAttribute(B)&&(t.removeAttribute(B),n=!0),o(n)&&L(t,e,h))return O(e,h,!0),t;t=u(t)}var d=t.elm,g=c.parentNode(d);if(p(e,h,d._leaveCb?null:g,c.nextSibling(d)),r(e.parent)){var v=e.parent,m=w(e);while(v){for(var y=0;y<a.destroy.length;++y)a.destroy[y](v);if(v.elm=e.elm,m){for(var _=0;_<a.create.length;++_)a.create[_](fr,v);var b=v.data.hook.insert;if(b.merged)for(var x=1;x<b.fns.length;x++)b.fns[x]()}else hr(v);v=v.parent}}r(g)?E(g,[t],0,0):r(t.tag)&&S(t)}}return O(e,h,l),e.elm}r(t)&&S(t)}}var yr={create:_r,update:_r,destroy:function(t){_r(t,fr)}};function _r(t,e){(t.data.directives||e.data.directives)&&wr(t,e)}function wr(t,e){var n,i,r,o=t===fr,a=e===fr,s=xr(t.data.directives,t.context),l=xr(e.data.directives,e.context),c=[],u=[];for(n in l)i=s[n],r=l[n],i?(r.oldValue=i.value,Sr(r,"update",e,t),r.def&&r.def.componentUpdated&&u.push(r)):(Sr(r,"bind",e,t),r.def&&r.def.inserted&&c.push(r));if(c.length){var h=function(){for(var n=0;n<c.length;n++)Sr(c[n],"inserted",e,t)};o?ye(e,"insert",h):h()}if(u.length&&ye(e,"postpatch",function(){for(var n=0;n<u.length;n++)Sr(u[n],"componentUpdated",e,t)}),!o)for(n in s)l[n]||Sr(s[n],"unbind",t,t,a)}var br=Object.create(null);function xr(t,e){var n,i,r=Object.create(null);if(!t)return r;for(n=0;n<t.length;n++)i=t[n],i.modifiers||(i.modifiers=br),r[Tr(i)]=i,i.def=Vt(e.$options,"directives",i.name,!0);return r}function Tr(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Sr(t,e,n,i,r){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,i,r)}catch(sa){Kt(sa,n.context,"directive "+t.name+" "+e+" hook")}}var Er=[ur,yr];function Cr(t,e){var n=e.componentOptions;if((!r(n)||!1!==n.Ctor.options.inheritAttrs)&&(!i(t.data.attrs)||!i(e.data.attrs))){var o,a,s,l=e.elm,c=t.data.attrs||{},u=e.data.attrs||{};for(o in r(u.__ob__)&&(u=e.data.attrs=O({},u)),u)a=u[o],s=c[o],s!==a&&Pr(l,o,a);for(o in(J||tt)&&u.value!==c.value&&Pr(l,"value",u.value),c)i(u[o])&&(Li(o)?l.removeAttributeNS(Ri,Ni(o)):Ai(o)||l.removeAttribute(o))}}function Pr(t,e,n){t.tagName.indexOf("-")>-1?kr(t,e,n):Oi(e)?Ii(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Ai(e)?t.setAttribute(e,Ii(n)||"false"===n?"false":"true"):Li(e)?Ii(n)?t.removeAttributeNS(Ri,Ni(e)):t.setAttributeNS(Ri,e,n):kr(t,e,n)}function kr(t,e,n){if(Ii(n))t.removeAttribute(e);else{if(J&&!Q&&("TEXTAREA"===t.tagName||"INPUT"===t.tagName)&&"placeholder"===e&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var Ar={create:Cr,update:Cr};function Or(t,e){var n=e.elm,o=e.data,a=t.data;if(!(i(o.staticClass)&&i(o.class)&&(i(a)||i(a.staticClass)&&i(a.class)))){var s=Mi(e),l=n._transitionClasses;r(l)&&(s=Bi(s,Hi(l))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var Rr,Lr={create:Or,update:Or},Nr="__r",Ir="__c";function Mr(t){if(r(t[Nr])){var e=J?"change":"input";t[e]=[].concat(t[Nr],t[e]||[]),delete t[Nr]}r(t[Ir])&&(t.change=[].concat(t[Ir],t.change||[]),delete t[Ir])}function Dr(t,e,n){var i=Rr;return function r(){var o=e.apply(null,arguments);null!==o&&Br(t,r,n,i)}}function jr(t,e,n,i){e=ce(e),Rr.addEventListener(t,e,it?{capture:n,passive:i}:n)}function Br(t,e,n,i){(i||Rr).removeEventListener(t,e._withTask||e,n)}function Hr(t,e){if(!i(t.data.on)||!i(e.data.on)){var n=e.data.on||{},r=t.data.on||{};Rr=e.elm,Mr(n),me(n,r,jr,Br,Dr,e.context),Rr=void 0}}var Fr={create:Hr,update:Hr};function zr(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var n,o,a=e.elm,s=t.data.domProps||{},l=e.data.domProps||{};for(n in r(l.__ob__)&&(l=e.data.domProps=O({},l)),s)i(l[n])&&(a[n]="");for(n in l){if(o=l[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),o===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n){a._value=o;var c=i(o)?"":String(o);Ur(a,c)&&(a.value=c)}else a[n]=o}}}function Ur(t,e){return!t.composing&&("OPTION"===t.tagName||qr(t,e)||$r(t,e))}function qr(t,e){var n=!0;try{n=document.activeElement!==t}catch(sa){}return n&&t.value!==e}function $r(t,e){var n=t.value,i=t._vModifiers;if(r(i)){if(i.lazy)return!1;if(i.number)return d(n)!==d(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}var Vr={create:zr,update:zr},Wr=w(function(t){var e={},n=/;(?![^(]*\))/g,i=/:(.+)/;return t.split(n).forEach(function(t){if(t){var n=t.split(i);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e});function Gr(t){var e=Zr(t.style);return t.staticStyle?O(t.staticStyle,e):e}function Zr(t){return Array.isArray(t)?R(t):"string"===typeof t?Wr(t):t}function Xr(t,e){var n,i={};if(e){var r=t;while(r.componentInstance)r=r.componentInstance._vnode,r&&r.data&&(n=Gr(r.data))&&O(i,n)}(n=Gr(t.data))&&O(i,n);var o=t;while(o=o.parent)o.data&&(n=Gr(o.data))&&O(i,n);return i}var Yr,Kr=/^--/,Jr=/\s*!important$/,Qr=function(t,e,n){if(Kr.test(e))t.style.setProperty(e,n);else if(Jr.test(n))t.style.setProperty(e,n.replace(Jr,""),"important");else{var i=eo(e);if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)t.style[i]=n[r];else t.style[i]=n}},to=["Webkit","Moz","ms"],eo=w(function(t){if(Yr=Yr||document.createElement("div").style,t=x(t),"filter"!==t&&t in Yr)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<to.length;n++){var i=to[n]+e;if(i in Yr)return i}});function no(t,e){var n=e.data,o=t.data;if(!(i(n.staticStyle)&&i(n.style)&&i(o.staticStyle)&&i(o.style))){var a,s,l=e.elm,c=o.staticStyle,u=o.normalizedStyle||o.style||{},h=c||u,f=Zr(e.data.style)||{};e.data.normalizedStyle=r(f.__ob__)?O({},f):f;var p=Xr(e,!0);for(s in h)i(p[s])&&Qr(l,s,"");for(s in p)a=p[s],a!==h[s]&&Qr(l,s,null==a?"":a)}}var io={create:no,update:no},ro=/\s+/;function oo(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ro).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function ao(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ro).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";while(n.indexOf(i)>=0)n=n.replace(i," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function so(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&O(e,lo(t.name||"v")),O(e,t),e}return"string"===typeof t?lo(t):void 0}}var lo=w(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),co=Z&&!Q,uo="transition",ho="animation",fo="transition",po="transitionend",go="animation",vo="animationend";co&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(fo="WebkitTransition",po="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(go="WebkitAnimation",vo="webkitAnimationEnd"));var mo=Z?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function yo(t){mo(function(){mo(t)})}function _o(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),oo(t,e))}function wo(t,e){t._transitionClasses&&m(t._transitionClasses,e),ao(t,e)}function bo(t,e,n){var i=To(t,e),r=i.type,o=i.timeout,a=i.propCount;if(!r)return n();var s=r===uo?po:vo,l=0,c=function(){t.removeEventListener(s,u),n()},u=function(e){e.target===t&&++l>=a&&c()};setTimeout(function(){l<a&&c()},o+1),t.addEventListener(s,u)}var xo=/\b(transform|all)(,|$)/;function To(t,e){var n,i=window.getComputedStyle(t),r=(i[fo+"Delay"]||"").split(", "),o=(i[fo+"Duration"]||"").split(", "),a=So(r,o),s=(i[go+"Delay"]||"").split(", "),l=(i[go+"Duration"]||"").split(", "),c=So(s,l),u=0,h=0;e===uo?a>0&&(n=uo,u=a,h=o.length):e===ho?c>0&&(n=ho,u=c,h=l.length):(u=Math.max(a,c),n=u>0?a>c?uo:ho:null,h=n?n===uo?o.length:l.length:0);var f=n===uo&&xo.test(i[fo+"Property"]);return{type:n,timeout:u,propCount:h,hasTransform:f}}function So(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return Eo(e)+Eo(t[n])}))}function Eo(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Co(t,e){var n=t.elm;r(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=so(t.data.transition);if(!i(o)&&!r(n._enterCb)&&1===n.nodeType){var a=o.css,s=o.type,c=o.enterClass,u=o.enterToClass,h=o.enterActiveClass,f=o.appearClass,p=o.appearToClass,g=o.appearActiveClass,v=o.beforeEnter,m=o.enter,y=o.afterEnter,_=o.enterCancelled,w=o.beforeAppear,b=o.appear,x=o.afterAppear,T=o.appearCancelled,S=o.duration,E=He,C=He.$vnode;while(C&&C.parent)C=C.parent,E=C.context;var P=!E._isMounted||!t.isRootInsert;if(!P||b||""===b){var k=P&&f?f:c,A=P&&g?g:h,O=P&&p?p:u,R=P&&w||v,L=P&&"function"===typeof b?b:m,N=P&&x||y,I=P&&T||_,M=d(l(S)?S.enter:S);0;var D=!1!==a&&!Q,B=Ao(L),H=n._enterCb=j(function(){D&&(wo(n,O),wo(n,A)),H.cancelled?(D&&wo(n,k),I&&I(n)):N&&N(n),n._enterCb=null});t.data.show||ye(t,"insert",function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),L&&L(n,H)}),R&&R(n),D&&(_o(n,k),_o(n,A),yo(function(){wo(n,k),H.cancelled||(_o(n,O),B||(ko(M)?setTimeout(H,M):bo(n,s,H)))})),t.data.show&&(e&&e(),L&&L(n,H)),D||B||H()}}}function Po(t,e){var n=t.elm;r(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=so(t.data.transition);if(i(o)||1!==n.nodeType)return e();if(!r(n._leaveCb)){var a=o.css,s=o.type,c=o.leaveClass,u=o.leaveToClass,h=o.leaveActiveClass,f=o.beforeLeave,p=o.leave,g=o.afterLeave,v=o.leaveCancelled,m=o.delayLeave,y=o.duration,_=!1!==a&&!Q,w=Ao(p),b=d(l(y)?y.leave:y);0;var x=n._leaveCb=j(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),_&&(wo(n,u),wo(n,h)),x.cancelled?(_&&wo(n,c),v&&v(n)):(e(),g&&g(n)),n._leaveCb=null});m?m(T):T()}function T(){x.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),_&&(_o(n,c),_o(n,h),yo(function(){wo(n,c),x.cancelled||(_o(n,u),w||(ko(b)?setTimeout(x,b):bo(n,s,x)))})),p&&p(n,x),_||w||x())}}function ko(t){return"number"===typeof t&&!isNaN(t)}function Ao(t){if(i(t))return!1;var e=t.fns;return r(e)?Ao(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Oo(t,e){!0!==e.data.show&&Co(e)}var Ro=Z?{create:Oo,activate:Oo,remove:function(t,e){!0!==t.data.show?Po(t,e):e()}}:{},Lo=[Ar,Lr,Fr,Vr,io,Ro],No=Lo.concat(Er),Io=mr({nodeOps:cr,modules:No});Q&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Uo(t,"input")});var Mo={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?ye(n,"postpatch",function(){Mo.componentUpdated(t,e,n)}):Do(t,e,n.context),t._vOptions=[].map.call(t.options,Ho)):("textarea"===n.tag||Xi(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Fo),t.addEventListener("compositionend",zo),t.addEventListener("change",zo),Q&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Do(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,Ho);if(r.some(function(t,e){return!M(t,i[e])})){var o=t.multiple?e.value.some(function(t){return Bo(t,r)}):e.value!==e.oldValue&&Bo(e.value,r);o&&Uo(t,"change")}}}};function Do(t,e,n){jo(t,e,n),(J||tt)&&setTimeout(function(){jo(t,e,n)},0)}function jo(t,e,n){var i=e.value,r=t.multiple;if(!r||Array.isArray(i)){for(var o,a,s=0,l=t.options.length;s<l;s++)if(a=t.options[s],r)o=D(i,Ho(a))>-1,a.selected!==o&&(a.selected=o);else if(M(Ho(a),i))return void(t.selectedIndex!==s&&(t.selectedIndex=s));r||(t.selectedIndex=-1)}}function Bo(t,e){return e.every(function(e){return!M(e,t)})}function Ho(t){return"_value"in t?t._value:t.value}function Fo(t){t.target.composing=!0}function zo(t){t.target.composing&&(t.target.composing=!1,Uo(t.target,"input"))}function Uo(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function qo(t){return!t.componentInstance||t.data&&t.data.transition?t:qo(t.componentInstance._vnode)}var $o={bind:function(t,e,n){var i=e.value;n=qo(n);var r=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,Co(n,function(){t.style.display=o})):t.style.display=i?o:"none"},update:function(t,e,n){var i=e.value,r=e.oldValue;if(!i!==!r){n=qo(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,i?Co(n,function(){t.style.display=t.__vOriginalDisplay}):Po(n,function(){t.style.display="none"})):t.style.display=i?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}},Vo={model:Mo,show:$o},Wo={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Go(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Go(Ae(e.children)):t}function Zo(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var o in r)e[x(o)]=r[o];return e}function Xo(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Yo(t){while(t=t.parent)if(t.data.transition)return!0}function Ko(t,e){return e.key===t.key&&e.tag===t.tag}var Jo=function(t){return t.tag||ke(t)},Qo=function(t){return"show"===t.name},ta={name:"transition",props:Wo,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Jo),n.length)){0;var i=this.mode;0;var r=n[0];if(Yo(this.$vnode))return r;var o=Go(r);if(!o)return r;if(this._leaving)return Xo(t,r);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var l=(o.data||(o.data={})).transition=Zo(this),c=this._vnode,u=Go(c);if(o.data.directives&&o.data.directives.some(Qo)&&(o.data.show=!0),u&&u.data&&!Ko(o,u)&&!ke(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=O({},l);if("out-in"===i)return this._leaving=!0,ye(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Xo(t,r);if("in-out"===i){if(ke(o))return c;var f,p=function(){f()};ye(l,"afterEnter",p),ye(l,"enterCancelled",p),ye(h,"delayLeave",function(t){f=t})}}return r}}},ea=O({tag:String,moveClass:String},Wo);delete ea.mode;var na={props:ea,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var r=Fe(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,n,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],a=Zo(this),s=0;s<r.length;s++){var l=r[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=a;else;}if(i){for(var c=[],u=[],h=0;h<i.length;h++){var f=i[h];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?c.push(f):u.push(f)}this.kept=t(e,null,c),this.removed=u}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(ia),t.forEach(ra),t.forEach(oa),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,i=n.style;_o(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(po,n._moveCb=function t(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(po,t),n._moveCb=null,wo(n,e))})}}))},methods:{hasMove:function(t,e){if(!co)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){ao(n,t)}),oo(n,e),n.style.display="none",this.$el.appendChild(n);var i=To(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}};function ia(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function ra(t){t.data.newPos=t.elm.getBoundingClientRect()}function oa(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+r+"px)",o.transitionDuration="0s"}}var aa={Transition:ta,TransitionGroup:na};hi.config.mustUseProp=ki,hi.config.isReservedTag=Vi,hi.config.isReservedAttr=Ci,hi.config.getTagNamespace=Wi,hi.config.isUnknownElement=Zi,O(hi.options.directives,Vo),O(hi.options.components,aa),hi.prototype.__patch__=Z?Io:L,hi.prototype.$mount=function(t,e){return t=t&&Z?Yi(t):void 0,qe(this,t,e)},Z&&setTimeout(function(){z.devtools&&at&&at.emit("init",hi)},0),e["a"]=hi}).call(this,n("c8ba"))},"2d83":function(t,e,n){"use strict";var i=n("387f");t.exports=function(t,e,n,r,o){var a=new Error(t);return i(a,e,n,r,o)}},"2e67":function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},"2fb4":function(t,e,n){(function(e){var n=9007199254740991,i="[object Arguments]",r="[object Function]",o="[object GeneratorFunction]",a="object"==typeof e&&e&&e.Object===Object&&e,s="object"==typeof self&&self&&self.Object===Object&&self,l=a||s||Function("return this")();function c(t,e){var n=-1,i=e.length,r=t.length;while(++n<i)t[r+n]=e[n];return t}var u=Object.prototype,h=u.hasOwnProperty,f=u.toString,p=l.Symbol,d=u.propertyIsEnumerable,g=p?p.isConcatSpreadable:void 0;function v(t,e,n,i,r){var o=-1,a=t.length;n||(n=m),r||(r=[]);while(++o<a){var s=t[o];e>0&&n(s)?e>1?v(s,e-1,n,i,r):c(r,s):i||(r[r.length]=s)}return r}function m(t){return w(t)||_(t)||!!(g&&t&&t[g])}function y(t){var e=t?t.length:0;return e?v(t,1):[]}function _(t){return x(t)&&h.call(t,"callee")&&(!d.call(t,"callee")||f.call(t)==i)}var w=Array.isArray;function b(t){return null!=t&&S(t.length)&&!T(t)}function x(t){return C(t)&&b(t)}function T(t){var e=E(t)?f.call(t):"";return e==r||e==o}function S(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}function E(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function C(t){return!!t&&"object"==typeof t}t.exports=y}).call(this,n("c8ba"))},"30b5":function(t,e,n){"use strict";var i=n("c532");function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(i.isURLSearchParams(e))o=e.toString();else{var a=[];i.forEach(e,function(t,e){null!==t&&"undefined"!==typeof t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),a.push(r(e)+"="+r(t))}))}),o=a.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},"35ae":function(t,e,n){(function(t,n){var i=200,r="Expected a function",o="__lodash_hash_undefined__",a=1,s=2,l=1/0,c=9007199254740991,u="[object Arguments]",h="[object Array]",f="[object Boolean]",p="[object Date]",d="[object Error]",g="[object Function]",v="[object GeneratorFunction]",m="[object Map]",y="[object Number]",_="[object Object]",w="[object Promise]",b="[object RegExp]",x="[object Set]",T="[object String]",S="[object Symbol]",E="[object WeakMap]",C="[object ArrayBuffer]",P="[object DataView]",k="[object Float32Array]",A="[object Float64Array]",O="[object Int8Array]",R="[object Int16Array]",L="[object Int32Array]",N="[object Uint8Array]",I="[object Uint8ClampedArray]",M="[object Uint16Array]",D="[object Uint32Array]",j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B=/^\w*$/,H=/^\./,F=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z=/[\\^$.*+?()[\]{}|]/g,U=/\\(\\)?/g,q=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,V={};V[k]=V[A]=V[O]=V[R]=V[L]=V[N]=V[I]=V[M]=V[D]=!0,V[u]=V[h]=V[C]=V[f]=V[P]=V[p]=V[d]=V[g]=V[m]=V[y]=V[_]=V[b]=V[x]=V[T]=V[E]=!1;var W="object"==typeof t&&t&&t.Object===Object&&t,G="object"==typeof self&&self&&self.Object===Object&&self,Z=W||G||Function("return this")(),X=e&&!e.nodeType&&e,Y=X&&"object"==typeof n&&n&&!n.nodeType&&n,K=Y&&Y.exports===X,J=K&&W.process,Q=function(){try{return J&&J.binding("util")}catch(t){}}(),tt=Q&&Q.isTypedArray;function et(t,e){var n=-1,i=t?t.length:0,r=Array(i);while(++n<i)r[n]=e(t[n],n,t);return r}function nt(t,e){var n=-1,i=t?t.length:0;while(++n<i)if(e(t[n],n,t))return!0;return!1}function it(t){return function(e){return null==e?void 0:e[t]}}function rt(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}function ot(t){return function(e){return t(e)}}function at(t,e){return null==t?void 0:t[e]}function st(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function lt(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function ct(t,e){return function(n){return t(e(n))}}function ut(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var ht=Array.prototype,ft=Function.prototype,pt=Object.prototype,dt=Z["__core-js_shared__"],gt=function(){var t=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),vt=ft.toString,mt=pt.hasOwnProperty,yt=pt.toString,_t=RegExp("^"+vt.call(mt).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=Z.Symbol,bt=Z.Uint8Array,xt=pt.propertyIsEnumerable,Tt=ht.splice,St=ct(Object.keys,Object),Et=Fe(Z,"DataView"),Ct=Fe(Z,"Map"),Pt=Fe(Z,"Promise"),kt=Fe(Z,"Set"),At=Fe(Z,"WeakMap"),Ot=Fe(Object,"create"),Rt=Je(Et),Lt=Je(Ct),Nt=Je(Pt),It=Je(kt),Mt=Je(At),Dt=wt?wt.prototype:void 0,jt=Dt?Dt.valueOf:void 0,Bt=Dt?Dt.toString:void 0;function Ht(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Ft(){this.__data__=Ot?Ot(null):{}}function zt(t){return this.has(t)&&delete this.__data__[t]}function Ut(t){var e=this.__data__;if(Ot){var n=e[t];return n===o?void 0:n}return mt.call(e,t)?e[t]:void 0}function qt(t){var e=this.__data__;return Ot?void 0!==e[t]:mt.call(e,t)}function $t(t,e){var n=this.__data__;return n[t]=Ot&&void 0===e?o:e,this}function Vt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Wt(){this.__data__=[]}function Gt(t){var e=this.__data__,n=pe(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Tt.call(e,n,1),!0}function Zt(t){var e=this.__data__,n=pe(e,t);return n<0?void 0:e[n][1]}function Xt(t){return pe(this.__data__,t)>-1}function Yt(t,e){var n=this.__data__,i=pe(n,t);return i<0?n.push([t,e]):n[i][1]=e,this}function Kt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Jt(){this.__data__={hash:new Ht,map:new(Ct||Vt),string:new Ht}}function Qt(t){return Be(this,t)["delete"](t)}function te(t){return Be(this,t).get(t)}function ee(t){return Be(this,t).has(t)}function ne(t,e){return Be(this,t).set(t,e),this}function ie(t){var e=-1,n=t?t.length:0;this.__data__=new Kt;while(++e<n)this.add(t[e])}function re(t){return this.__data__.set(t,o),this}function oe(t){return this.__data__.has(t)}function ae(t){this.__data__=new Vt(t)}function se(){this.__data__=new Vt}function le(t){return this.__data__["delete"](t)}function ce(t){return this.__data__.get(t)}function ue(t){return this.__data__.has(t)}function he(t,e){var n=this.__data__;if(n instanceof Vt){var r=n.__data__;if(!Ct||r.length<i-1)return r.push([t,e]),this;n=this.__data__=new Kt(r)}return n.set(t,e),this}function fe(t,e){var n=rn(t)||nn(t)?rt(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!mt.call(t,o)||r&&("length"==o||qe(o,i))||n.push(o);return n}function pe(t,e){var n=t.length;while(n--)if(en(t[n][0],e))return n;return-1}Ht.prototype.clear=Ft,Ht.prototype["delete"]=zt,Ht.prototype.get=Ut,Ht.prototype.has=qt,Ht.prototype.set=$t,Vt.prototype.clear=Wt,Vt.prototype["delete"]=Gt,Vt.prototype.get=Zt,Vt.prototype.has=Xt,Vt.prototype.set=Yt,Kt.prototype.clear=Jt,Kt.prototype["delete"]=Qt,Kt.prototype.get=te,Kt.prototype.has=ee,Kt.prototype.set=ne,ie.prototype.add=ie.prototype.push=re,ie.prototype.has=oe,ae.prototype.clear=se,ae.prototype["delete"]=le,ae.prototype.get=ce,ae.prototype.has=ue,ae.prototype.set=he;var de=Ne(ve),ge=Ie();function ve(t,e){return t&&ge(t,e,vn)}function me(t,e){e=$e(e,t)?[e]:Le(e);var n=0,i=e.length;while(null!=t&&n<i)t=t[Ke(e[n++])];return n&&n==i?t:void 0}function ye(t){return yt.call(t)}function _e(t,e){return null!=t&&e in Object(t)}function we(t,e,n,i,r){return t===e||(null==t||null==e||!cn(t)&&!un(e)?t!==t&&e!==e:be(t,e,we,n,i,r))}function be(t,e,n,i,r,o){var a=rn(t),l=rn(e),c=h,f=h;a||(c=ze(t),c=c==u?_:c),l||(f=ze(e),f=f==u?_:f);var p=c==_&&!st(t),d=f==_&&!st(e),g=c==f;if(g&&!p)return o||(o=new ae),a||fn(t)?Me(t,e,n,i,r,o):De(t,e,c,n,i,r,o);if(!(r&s)){var v=p&&mt.call(t,"__wrapped__"),m=d&&mt.call(e,"__wrapped__");if(v||m){var y=v?t.value():t,w=m?e.value():e;return o||(o=new ae),n(y,w,i,r,o)}}return!!g&&(o||(o=new ae),je(t,e,n,i,r,o))}function xe(t,e,n,i){var r=n.length,o=r,l=!i;if(null==t)return!o;t=Object(t);while(r--){var c=n[r];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}while(++r<o){c=n[r];var u=c[0],h=t[u],f=c[1];if(l&&c[2]){if(void 0===h&&!(u in t))return!1}else{var p=new ae;if(i)var d=i(h,f,u,t,e,p);if(!(void 0===d?we(f,h,i,a|s,p):d))return!1}}return!0}function Te(t){if(!cn(t)||We(t))return!1;var e=sn(t)||st(t)?_t:q;return e.test(Je(t))}function Se(t){return un(t)&&ln(t.length)&&!!V[yt.call(t)]}function Ee(t){return"function"==typeof t?t:null==t?mn:"object"==typeof t?rn(t)?Ae(t[0],t[1]):ke(t):yn(t)}function Ce(t){if(!Ge(t))return St(t);var e=[];for(var n in Object(t))mt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Pe(t,e){var n=-1,i=on(t)?Array(t.length):[];return de(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function ke(t){var e=He(t);return 1==e.length&&e[0][2]?Xe(e[0][0],e[0][1]):function(n){return n===t||xe(n,t,e)}}function Ae(t,e){return $e(t)&&Ze(e)?Xe(Ke(t),e):function(n){var i=dn(n,t);return void 0===i&&i===e?gn(n,t):we(e,i,void 0,a|s)}}function Oe(t){return function(e){return me(e,t)}}function Re(t){if("string"==typeof t)return t;if(hn(t))return Bt?Bt.call(t):"";var e=t+"";return"0"==e&&1/t==-l?"-0":e}function Le(t){return rn(t)?t:Ye(t)}function Ne(t,e){return function(n,i){if(null==n)return n;if(!on(n))return t(n,i);var r=n.length,o=e?r:-1,a=Object(n);while(e?o--:++o<r)if(!1===i(a[o],o,a))break;return n}}function Ie(t){return function(e,n,i){var r=-1,o=Object(e),a=i(e),s=a.length;while(s--){var l=a[t?s:++r];if(!1===n(o[l],l,o))break}return e}}function Me(t,e,n,i,r,o){var l=r&s,c=t.length,u=e.length;if(c!=u&&!(l&&u>c))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var f=-1,p=!0,d=r&a?new ie:void 0;o.set(t,e),o.set(e,t);while(++f<c){var g=t[f],v=e[f];if(i)var m=l?i(v,g,f,e,t,o):i(g,v,f,t,e,o);if(void 0!==m){if(m)continue;p=!1;break}if(d){if(!nt(e,function(t,e){if(!d.has(e)&&(g===t||n(g,t,i,r,o)))return d.add(e)})){p=!1;break}}else if(g!==v&&!n(g,v,i,r,o)){p=!1;break}}return o["delete"](t),o["delete"](e),p}function De(t,e,n,i,r,o,l){switch(n){case P:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case C:return!(t.byteLength!=e.byteLength||!i(new bt(t),new bt(e)));case f:case p:case y:return en(+t,+e);case d:return t.name==e.name&&t.message==e.message;case b:case T:return t==e+"";case m:var c=lt;case x:var u=o&s;if(c||(c=ut),t.size!=e.size&&!u)return!1;var h=l.get(t);if(h)return h==e;o|=a,l.set(t,e);var g=Me(c(t),c(e),i,r,o,l);return l["delete"](t),g;case S:if(jt)return jt.call(t)==jt.call(e)}return!1}function je(t,e,n,i,r,o){var a=r&s,l=vn(t),c=l.length,u=vn(e),h=u.length;if(c!=h&&!a)return!1;var f=c;while(f--){var p=l[f];if(!(a?p in e:mt.call(e,p)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var g=!0;o.set(t,e),o.set(e,t);var v=a;while(++f<c){p=l[f];var m=t[p],y=e[p];if(i)var _=a?i(y,m,p,e,t,o):i(m,y,p,t,e,o);if(!(void 0===_?m===y||n(m,y,i,r,o):_)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var w=t.constructor,b=e.constructor;w!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b)&&(g=!1)}return o["delete"](t),o["delete"](e),g}function Be(t,e){var n=t.__data__;return Ve(e)?n["string"==typeof e?"string":"hash"]:n.map}function He(t){var e=vn(t),n=e.length;while(n--){var i=e[n],r=t[i];e[n]=[i,r,Ze(r)]}return e}function Fe(t,e){var n=at(t,e);return Te(n)?n:void 0}var ze=ye;function Ue(t,e,n){e=$e(e,t)?[e]:Le(e);var i,r=-1,o=e.length;while(++r<o){var a=Ke(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}if(i)return i;o=t?t.length:0;return!!o&&ln(o)&&qe(a,o)&&(rn(t)||nn(t))}function qe(t,e){return e=null==e?c:e,!!e&&("number"==typeof t||$.test(t))&&t>-1&&t%1==0&&t<e}function $e(t,e){if(rn(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!hn(t))||(B.test(t)||!j.test(t)||null!=e&&t in Object(e))}function Ve(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function We(t){return!!gt&&gt in t}function Ge(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||pt;return t===n}function Ze(t){return t===t&&!cn(t)}function Xe(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(Et&&ze(new Et(new ArrayBuffer(1)))!=P||Ct&&ze(new Ct)!=m||Pt&&ze(Pt.resolve())!=w||kt&&ze(new kt)!=x||At&&ze(new At)!=E)&&(ze=function(t){var e=yt.call(t),n=e==_?t.constructor:void 0,i=n?Je(n):void 0;if(i)switch(i){case Rt:return P;case Lt:return m;case Nt:return w;case It:return x;case Mt:return E}return e});var Ye=tn(function(t){t=pn(t);var e=[];return H.test(t)&&e.push(""),t.replace(F,function(t,n,i,r){e.push(i?r.replace(U,"$1"):n||t)}),e});function Ke(t){if("string"==typeof t||hn(t))return t;var e=t+"";return"0"==e&&1/t==-l?"-0":e}function Je(t){if(null!=t){try{return vt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Qe(t,e){var n=rn(t)?et:Pe;return n(t,Ee(e,3))}function tn(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new(tn.Cache||Kt),n}function en(t,e){return t===e||t!==t&&e!==e}function nn(t){return an(t)&&mt.call(t,"callee")&&(!xt.call(t,"callee")||yt.call(t)==u)}tn.Cache=Kt;var rn=Array.isArray;function on(t){return null!=t&&ln(t.length)&&!sn(t)}function an(t){return un(t)&&on(t)}function sn(t){var e=cn(t)?yt.call(t):"";return e==g||e==v}function ln(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function cn(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function un(t){return!!t&&"object"==typeof t}function hn(t){return"symbol"==typeof t||un(t)&&yt.call(t)==S}var fn=tt?ot(tt):Se;function pn(t){return null==t?"":Re(t)}function dn(t,e,n){var i=null==t?void 0:me(t,e);return void 0===i?n:i}function gn(t,e){return null!=t&&Ue(t,e,_e)}function vn(t){return on(t)?fe(t):Ce(t)}function mn(t){return t}function yn(t){return $e(t)?it(Ke(t)):Oe(t)}n.exports=Qe}).call(this,n("c8ba"),n("62e4")(t))},"374e":function(t,e,n){var i=n("0b32"),r={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},o={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:r,input:r,output:r,button:r,datalist:r,textarea:r,option:{option:!0},optgroup:{optgroup:!0}},a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},s={__proto__:null,math:!0,svg:!0},l={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},c=/\s|\//;function u(t,e){this._options=e||{},this._cbs=t||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(i=this._options.Tokenizer),this._tokenizer=new i(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}n("3fb5")(u,n("faa1").EventEmitter),u.prototype._updatePosition=function(t){null===this.endIndex?this._tokenizer._sectionStart<=t?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-t:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},u.prototype.ontext=function(t){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(t)},u.prototype.onopentagname=function(t){if(this._lowerCaseTagNames&&(t=t.toLowerCase()),this._tagname=t,!this._options.xmlMode&&t in o)for(var e;(e=this._stack[this._stack.length-1])in o[t];this.onclosetag(e));!this._options.xmlMode&&t in a||(this._stack.push(t),t in s?this._foreignContext.push(!0):t in l&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(t),this._cbs.onopentag&&(this._attribs={})},u.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in a&&this._cbs.onclosetag(this._tagname),this._tagname=""},u.prototype.onclosetag=function(t){if(this._updatePosition(1),this._lowerCaseTagNames&&(t=t.toLowerCase()),!this._stack.length||t in a&&!this._options.xmlMode)this._options.xmlMode||"br"!==t&&"p"!==t||(this.onopentagname(t),this._closeCurrentTag());else{var e=this._stack.lastIndexOf(t);if(-1!==e)if(this._cbs.onclosetag){e=this._stack.length-e;while(e--)this._cbs.onclosetag(this._stack.pop())}else this._stack.length=e;else"p"!==t||this._options.xmlMode||(this.onopentagname(t),this._closeCurrentTag())}},u.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},u.prototype._closeCurrentTag=function(){var t=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===t&&(this._cbs.onclosetag&&this._cbs.onclosetag(t),this._stack.pop(),(t in s||t in l)&&this._foreignContext.pop())},u.prototype.onattribname=function(t){this._lowerCaseAttributeNames&&(t=t.toLowerCase()),this._attribname=t},u.prototype.onattribdata=function(t){this._attribvalue+=t},u.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},u.prototype._getInstructionName=function(t){var e=t.search(c),n=e<0?t:t.substr(0,e);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},u.prototype.ondeclaration=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("!"+e,"!"+t)}},u.prototype.onprocessinginstruction=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("?"+e,"?"+t)}},u.prototype.oncomment=function(t){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(t),this._cbs.oncommentend&&this._cbs.oncommentend()},u.prototype.oncdata=function(t){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(t),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+t+"]]")},u.prototype.onerror=function(t){this._cbs.onerror&&this._cbs.onerror(t)},u.prototype.onend=function(){if(this._cbs.onclosetag)for(var t=this._stack.length;t>0;this._cbs.onclosetag(this._stack[--t]));this._cbs.onend&&this._cbs.onend()},u.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},u.prototype.parseComplete=function(t){this.reset(),this.end(t)},u.prototype.write=function(t){this._tokenizer.write(t)},u.prototype.end=function(t){this._tokenizer.end(t)},u.prototype.pause=function(){this._tokenizer.pause()},u.prototype.resume=function(){this._tokenizer.resume()},u.prototype.parseChunk=u.prototype.write,u.prototype.done=u.prototype.end,t.exports=u},"387f":function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t}},3934:function(t,e,n){"use strict";var i=n("c532");t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return function(){return!0}}()},"3fb5":function(t,e){"function"===typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},4362:function(t,e,n){e.nextTick=function(t){setTimeout(t,0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,i="/";e.cwd=function(){return i},e.chdir=function(e){t||(t=n("df7c")),i=t.resolve(e,i)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"43aa":function(t,e,n){var i=n("cb57"),r=n("2015");t.exports=function(t){return r(i(t))},t.exports.parse=i,t.exports.compile=r},"467f":function(t,e,n){"use strict";var i=n("2d83");t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},4840:function(t,e,n){(function(t,n){var i=200,r="Expected a function",o="__lodash_hash_undefined__",a=1,s=2,l=1/0,c=9007199254740991,u="[object Arguments]",h="[object Array]",f="[object Boolean]",p="[object Date]",d="[object Error]",g="[object Function]",v="[object GeneratorFunction]",m="[object Map]",y="[object Number]",_="[object Object]",w="[object Promise]",b="[object RegExp]",x="[object Set]",T="[object String]",S="[object Symbol]",E="[object WeakMap]",C="[object ArrayBuffer]",P="[object DataView]",k="[object Float32Array]",A="[object Float64Array]",O="[object Int8Array]",R="[object Int16Array]",L="[object Int32Array]",N="[object Uint8Array]",I="[object Uint8ClampedArray]",M="[object Uint16Array]",D="[object Uint32Array]",j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B=/^\w*$/,H=/^\./,F=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z=/[\\^$.*+?()[\]{}|]/g,U=/\\(\\)?/g,q=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,V={};V[k]=V[A]=V[O]=V[R]=V[L]=V[N]=V[I]=V[M]=V[D]=!0,V[u]=V[h]=V[C]=V[f]=V[P]=V[p]=V[d]=V[g]=V[m]=V[y]=V[_]=V[b]=V[x]=V[T]=V[E]=!1;var W="object"==typeof t&&t&&t.Object===Object&&t,G="object"==typeof self&&self&&self.Object===Object&&self,Z=W||G||Function("return this")(),X=e&&!e.nodeType&&e,Y=X&&"object"==typeof n&&n&&!n.nodeType&&n,K=Y&&Y.exports===X,J=K&&W.process,Q=function(){try{return J&&J.binding("util")}catch(t){}}(),tt=Q&&Q.isTypedArray;function et(t,e,n,i){var r=-1,o=t?t.length:0;i&&o&&(n=t[++r]);while(++r<o)n=e(n,t[r],r,t);return n}function nt(t,e){var n=-1,i=t?t.length:0;while(++n<i)if(e(t[n],n,t))return!0;return!1}function it(t){return function(e){return null==e?void 0:e[t]}}function rt(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function ot(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}function at(t){return function(e){return t(e)}}function st(t,e){return null==t?void 0:t[e]}function lt(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function ct(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function ut(t,e){return function(n){return t(e(n))}}function ht(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var ft=Array.prototype,pt=Function.prototype,dt=Object.prototype,gt=Z["__core-js_shared__"],vt=function(){var t=/[^.]+$/.exec(gt&&gt.keys&&gt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),mt=pt.toString,yt=dt.hasOwnProperty,_t=dt.toString,wt=RegExp("^"+mt.call(yt).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bt=Z.Symbol,xt=Z.Uint8Array,Tt=dt.propertyIsEnumerable,St=ft.splice,Et=ut(Object.keys,Object),Ct=Fe(Z,"DataView"),Pt=Fe(Z,"Map"),kt=Fe(Z,"Promise"),At=Fe(Z,"Set"),Ot=Fe(Z,"WeakMap"),Rt=Fe(Object,"create"),Lt=Je(Ct),Nt=Je(Pt),It=Je(kt),Mt=Je(At),Dt=Je(Ot),jt=bt?bt.prototype:void 0,Bt=jt?jt.valueOf:void 0,Ht=jt?jt.toString:void 0;function Ft(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function zt(){this.__data__=Rt?Rt(null):{}}function Ut(t){return this.has(t)&&delete this.__data__[t]}function qt(t){var e=this.__data__;if(Rt){var n=e[t];return n===o?void 0:n}return yt.call(e,t)?e[t]:void 0}function $t(t){var e=this.__data__;return Rt?void 0!==e[t]:yt.call(e,t)}function Vt(t,e){var n=this.__data__;return n[t]=Rt&&void 0===e?o:e,this}function Wt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Gt(){this.__data__=[]}function Zt(t){var e=this.__data__,n=de(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():St.call(e,n,1),!0}function Xt(t){var e=this.__data__,n=de(e,t);return n<0?void 0:e[n][1]}function Yt(t){return de(this.__data__,t)>-1}function Kt(t,e){var n=this.__data__,i=de(n,t);return i<0?n.push([t,e]):n[i][1]=e,this}function Jt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Qt(){this.__data__={hash:new Ft,map:new(Pt||Wt),string:new Ft}}function te(t){return Be(this,t)["delete"](t)}function ee(t){return Be(this,t).get(t)}function ne(t){return Be(this,t).has(t)}function ie(t,e){return Be(this,t).set(t,e),this}function re(t){var e=-1,n=t?t.length:0;this.__data__=new Jt;while(++e<n)this.add(t[e])}function oe(t){return this.__data__.set(t,o),this}function ae(t){return this.__data__.has(t)}function se(t){this.__data__=new Wt(t)}function le(){this.__data__=new Wt}function ce(t){return this.__data__["delete"](t)}function ue(t){return this.__data__.get(t)}function he(t){return this.__data__.has(t)}function fe(t,e){var n=this.__data__;if(n instanceof Wt){var r=n.__data__;if(!Pt||r.length<i-1)return r.push([t,e]),this;n=this.__data__=new Jt(r)}return n.set(t,e),this}function pe(t,e){var n=rn(t)||nn(t)?ot(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!yt.call(t,o)||r&&("length"==o||qe(o,i))||n.push(o);return n}function de(t,e){var n=t.length;while(n--)if(en(t[n][0],e))return n;return-1}Ft.prototype.clear=zt,Ft.prototype["delete"]=Ut,Ft.prototype.get=qt,Ft.prototype.has=$t,Ft.prototype.set=Vt,Wt.prototype.clear=Gt,Wt.prototype["delete"]=Zt,Wt.prototype.get=Xt,Wt.prototype.has=Yt,Wt.prototype.set=Kt,Jt.prototype.clear=Qt,Jt.prototype["delete"]=te,Jt.prototype.get=ee,Jt.prototype.has=ne,Jt.prototype.set=ie,re.prototype.add=re.prototype.push=oe,re.prototype.has=ae,se.prototype.clear=le,se.prototype["delete"]=ce,se.prototype.get=ue,se.prototype.has=he,se.prototype.set=fe;var ge=Ne(me),ve=Ie();function me(t,e){return t&&ve(t,e,vn)}function ye(t,e){e=$e(e,t)?[e]:Le(e);var n=0,i=e.length;while(null!=t&&n<i)t=t[Ke(e[n++])];return n&&n==i?t:void 0}function _e(t){return _t.call(t)}function we(t,e){return null!=t&&e in Object(t)}function be(t,e,n,i,r){return t===e||(null==t||null==e||!cn(t)&&!un(e)?t!==t&&e!==e:xe(t,e,be,n,i,r))}function xe(t,e,n,i,r,o){var a=rn(t),l=rn(e),c=h,f=h;a||(c=ze(t),c=c==u?_:c),l||(f=ze(e),f=f==u?_:f);var p=c==_&&!lt(t),d=f==_&&!lt(e),g=c==f;if(g&&!p)return o||(o=new se),a||fn(t)?Me(t,e,n,i,r,o):De(t,e,c,n,i,r,o);if(!(r&s)){var v=p&&yt.call(t,"__wrapped__"),m=d&&yt.call(e,"__wrapped__");if(v||m){var y=v?t.value():t,w=m?e.value():e;return o||(o=new se),n(y,w,i,r,o)}}return!!g&&(o||(o=new se),je(t,e,n,i,r,o))}function Te(t,e,n,i){var r=n.length,o=r,l=!i;if(null==t)return!o;t=Object(t);while(r--){var c=n[r];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}while(++r<o){c=n[r];var u=c[0],h=t[u],f=c[1];if(l&&c[2]){if(void 0===h&&!(u in t))return!1}else{var p=new se;if(i)var d=i(h,f,u,t,e,p);if(!(void 0===d?be(f,h,i,a|s,p):d))return!1}}return!0}function Se(t){if(!cn(t)||We(t))return!1;var e=sn(t)||lt(t)?wt:q;return e.test(Je(t))}function Ee(t){return un(t)&&ln(t.length)&&!!V[_t.call(t)]}function Ce(t){return"function"==typeof t?t:null==t?mn:"object"==typeof t?rn(t)?Ae(t[0],t[1]):ke(t):yn(t)}function Pe(t){if(!Ge(t))return Et(t);var e=[];for(var n in Object(t))yt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ke(t){var e=He(t);return 1==e.length&&e[0][2]?Xe(e[0][0],e[0][1]):function(n){return n===t||Te(n,t,e)}}function Ae(t,e){return $e(t)&&Ze(e)?Xe(Ke(t),e):function(n){var i=dn(n,t);return void 0===i&&i===e?gn(n,t):be(e,i,void 0,a|s)}}function Oe(t){return function(e){return ye(e,t)}}function Re(t){if("string"==typeof t)return t;if(hn(t))return Ht?Ht.call(t):"";var e=t+"";return"0"==e&&1/t==-l?"-0":e}function Le(t){return rn(t)?t:Ye(t)}function Ne(t,e){return function(n,i){if(null==n)return n;if(!on(n))return t(n,i);var r=n.length,o=e?r:-1,a=Object(n);while(e?o--:++o<r)if(!1===i(a[o],o,a))break;return n}}function Ie(t){return function(e,n,i){var r=-1,o=Object(e),a=i(e),s=a.length;while(s--){var l=a[t?s:++r];if(!1===n(o[l],l,o))break}return e}}function Me(t,e,n,i,r,o){var l=r&s,c=t.length,u=e.length;if(c!=u&&!(l&&u>c))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var f=-1,p=!0,d=r&a?new re:void 0;o.set(t,e),o.set(e,t);while(++f<c){var g=t[f],v=e[f];if(i)var m=l?i(v,g,f,e,t,o):i(g,v,f,t,e,o);if(void 0!==m){if(m)continue;p=!1;break}if(d){if(!nt(e,function(t,e){if(!d.has(e)&&(g===t||n(g,t,i,r,o)))return d.add(e)})){p=!1;break}}else if(g!==v&&!n(g,v,i,r,o)){p=!1;break}}return o["delete"](t),o["delete"](e),p}function De(t,e,n,i,r,o,l){switch(n){case P:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case C:return!(t.byteLength!=e.byteLength||!i(new xt(t),new xt(e)));case f:case p:case y:return en(+t,+e);case d:return t.name==e.name&&t.message==e.message;case b:case T:return t==e+"";case m:var c=ct;case x:var u=o&s;if(c||(c=ht),t.size!=e.size&&!u)return!1;var h=l.get(t);if(h)return h==e;o|=a,l.set(t,e);var g=Me(c(t),c(e),i,r,o,l);return l["delete"](t),g;case S:if(Bt)return Bt.call(t)==Bt.call(e)}return!1}function je(t,e,n,i,r,o){var a=r&s,l=vn(t),c=l.length,u=vn(e),h=u.length;if(c!=h&&!a)return!1;var f=c;while(f--){var p=l[f];if(!(a?p in e:yt.call(e,p)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var g=!0;o.set(t,e),o.set(e,t);var v=a;while(++f<c){p=l[f];var m=t[p],y=e[p];if(i)var _=a?i(y,m,p,e,t,o):i(m,y,p,t,e,o);if(!(void 0===_?m===y||n(m,y,i,r,o):_)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var w=t.constructor,b=e.constructor;w!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b)&&(g=!1)}return o["delete"](t),o["delete"](e),g}function Be(t,e){var n=t.__data__;return Ve(e)?n["string"==typeof e?"string":"hash"]:n.map}function He(t){var e=vn(t),n=e.length;while(n--){var i=e[n],r=t[i];e[n]=[i,r,Ze(r)]}return e}function Fe(t,e){var n=st(t,e);return Se(n)?n:void 0}var ze=_e;function Ue(t,e,n){e=$e(e,t)?[e]:Le(e);var i,r=-1,o=e.length;while(++r<o){var a=Ke(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}if(i)return i;o=t?t.length:0;return!!o&&ln(o)&&qe(a,o)&&(rn(t)||nn(t))}function qe(t,e){return e=null==e?c:e,!!e&&("number"==typeof t||$.test(t))&&t>-1&&t%1==0&&t<e}function $e(t,e){if(rn(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!hn(t))||(B.test(t)||!j.test(t)||null!=e&&t in Object(e))}function Ve(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function We(t){return!!vt&&vt in t}function Ge(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||dt;return t===n}function Ze(t){return t===t&&!cn(t)}function Xe(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(Ct&&ze(new Ct(new ArrayBuffer(1)))!=P||Pt&&ze(new Pt)!=m||kt&&ze(kt.resolve())!=w||At&&ze(new At)!=x||Ot&&ze(new Ot)!=E)&&(ze=function(t){var e=_t.call(t),n=e==_?t.constructor:void 0,i=n?Je(n):void 0;if(i)switch(i){case Lt:return P;case Nt:return m;case It:return w;case Mt:return x;case Dt:return E}return e});var Ye=tn(function(t){t=pn(t);var e=[];return H.test(t)&&e.push(""),t.replace(F,function(t,n,i,r){e.push(i?r.replace(U,"$1"):n||t)}),e});function Ke(t){if("string"==typeof t||hn(t))return t;var e=t+"";return"0"==e&&1/t==-l?"-0":e}function Je(t){if(null!=t){try{return mt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Qe(t,e,n){var i=rn(t)?et:rt,r=arguments.length<3;return i(t,Ce(e,4),n,r,ge)}function tn(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new(tn.Cache||Jt),n}function en(t,e){return t===e||t!==t&&e!==e}function nn(t){return an(t)&&yt.call(t,"callee")&&(!Tt.call(t,"callee")||_t.call(t)==u)}tn.Cache=Jt;var rn=Array.isArray;function on(t){return null!=t&&ln(t.length)&&!sn(t)}function an(t){return un(t)&&on(t)}function sn(t){var e=cn(t)?_t.call(t):"";return e==g||e==v}function ln(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function cn(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function un(t){return!!t&&"object"==typeof t}function hn(t){return"symbol"==typeof t||un(t)&&_t.call(t)==S}var fn=tt?at(tt):Ee;function pn(t){return null==t?"":Re(t)}function dn(t,e,n){var i=null==t?void 0:ye(t,e);return void 0===i?n:i}function gn(t,e){return null!=t&&Ue(t,e,we)}function vn(t){return on(t)?pe(t):Pe(t)}function mn(t){return t}function yn(t){return $e(t)?it(Ke(t)):Oe(t)}n.exports=Qe}).call(this,n("c8ba"),n("62e4")(t))},"4a1c":function(t,e,n){var i=n("72ce"),r=n("1880"),o={tag:!0,script:!0,style:!0};e.isTag=function(t){return t.type&&(t=t.type),o[t]||!1},e.camelCase=function(t){return t.replace(/[_.-](\w|$)/g,function(t,e){return e.toUpperCase()})},e.cssCase=function(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()},e.domEach=function(t,e){var n=0,i=t.length;while(n<i&&!1!==e.call(t,n,t[n]))++n;return t},e.cloneDom=function(t,e){return i(r(t,e),e).children};var a=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;e.isHtml=function(t){if("<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3)return!0;var e=a.exec(t);return!(!e||!e[1])}},"4d1e":function(t,e){t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(t){return"tag"===t.type||"script"===t.type||"style"===t.type}}},"4eaf":function(t,e,n){},5270:function(t,e,n){"use strict";var i=n("c532"),r=n("c401"),o=n("2e67"),a=n("2444"),s=n("d925"),l=n("e683");function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){c(t),t.baseURL&&!s(t.url)&&(t.url=l(t.baseURL,t.url)),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]});var e=t.adapter||a.adapter;return e(t).then(function(e){return c(t),e.data=r(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(c(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},"53a3":function(t,e,n){var i=n("72ce"),r=n("4a1c").isHtml,o={extend:n("971f"),bind:n("fe69"),forEach:n("aa6f"),defaults:n("13ca")},a=[n("7703"),n("f84c"),n("9db9"),n("65cd"),n("9459")],s=t.exports=function(t,e,n,a){return this instanceof s?(this.options=o.defaults(a||{},this.options),t?(n&&("string"===typeof n&&(n=i(n,this.options)),this._root=s.call(this,n)),t.cheerio?t:(l(t)&&(t=[t]),Array.isArray(t)?(o.forEach(t,o.bind(function(t,e){this[e]=t},this)),this.length=t.length,this):"string"===typeof t&&r(t)?s.call(this,i(t,this.options).children):(e?"string"===typeof e?r(e)?(e=i(e,this.options),e=s.call(this,e)):(t=[e,t].join(" "),e=this._root):e.cheerio||(e=s.call(this,e)):e=this._root,e?e.find(t):this))):this):new s(t,e,n,a)};o.extend(s,n("d116")),s.prototype.cheerio="[cheerio object]",s.prototype.options={withDomLvl1:!0,normalizeWhitespace:!1,xmlMode:!1,decodeEntities:!0},s.prototype.length=0,s.prototype.splice=Array.prototype.splice,s.prototype._make=function(t,e){var n=new this.constructor(t,e,this._root,this.options);return n.prevObject=this,n},s.prototype.toArray=function(){return this.get()},a.forEach(function(t){o.extend(s.prototype,t)});var l=function(t){return t.name||"text"===t.type||"comment"===t.type}},"54d4":function(t,e){var n=t.exports={get firstChild(){var t=this.children;return t&&t[0]||null},get lastChild(){var t=this.children;return t&&t[t.length-1]||null},get nodeType(){return r[this.type]||r.element}},i={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},r={element:1,text:3,cdata:4,comment:8};Object.keys(i).forEach(function(t){var e=i[t];Object.defineProperty(n,t,{get:function(){return this[e]||null},set:function(t){return this[e]=t,t}})})},"56d7":function(t,e,n){"use strict";n.r(e);var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("iiifannotation",{attrs:{annotationurl:"https://dnoneill.github.io/annotate/annotations/0001-7.json",styling:"image_only:true"}}),n("storyboard",{attrs:{annotationlist:"https://stacks.stanford.edu/file/druid:sk888mp6400/text-8r.json",manifesturl:"http://dms-data.stanford.edu/data/manifests/BnF/jr903ng8662/manifest.json",styling:"tts: true"}}),n("storyboard",{attrs:{annotationlist:"./page.json",styling:"tts: true;"}}),n("storyboard",{attrs:{annotationlist:"https://dzkimgs.l.u-tokyo.ac.jp/iiif/zuzoubu/12b02/list/p0001-0025.json",manifesturl:"https://dzkimgs.l.u-tokyo.ac.jp/iiif/zuzoubu/12b02/manifest.json",styling:"tts: true;"}})],1)},o=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return!0===t.rendered?n("div",{staticClass:"iiifannotation"},[t.languages.length>0?n("select",{staticClass:"lang_drop",domProps:{innerHTML:t._s(t.languages.join(""))},on:{change:function(e){t.changeLang(e)}}}):t._e(),t._l(t.annotation_items,function(e){return n("div",{key:e.id,attrs:{id:e.id}},[t._l(e.image,function(e){return n("span",{key:e},[n("span",{attrs:{id:"annoimage"},domProps:{innerHTML:t._s(e)}})])}),n("img",{staticStyle:{display:"none"},style:[void 0!==t.settings.imagesettings?t.settings.imagesettings:""],attrs:{src:e.fullImage,id:"fullimage",alt:t.manifest["label"]}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.rendered_content&&""!==e.rendered_content&&!0!==t.settings.image_only,expression:"item.rendered_content && item.rendered_content !== '' && settings.image_only !== true"}],attrs:{id:"content"},domProps:{innerHTML:t._s(e.rendered_content)}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!1!==t.settings.view_tags,expression:"settings.view_tags !== false"}],domProps:{innerHTML:t._s(e.tags)}}),n("button",{directives:[{name:"show",rawName:"v-show",value:e.fullImage&&""!==e.fullImage&&!1!==t.settings.view_larger,expression:"item.fullImage && item.fullImage !== '' && settings.view_larger !== false"}],staticClass:"togglebutton",on:{click:function(e){t.toggle(e)}}},[t._v("View Full Image")]),n("div",{directives:[{name:"show",rawName:"v-show",value:!1!==t.settings.view_full_object&&t.full_object&&""!==t.full_object&&1!=t.settings.image_only,expression:"settings.view_full_object !== false && full_object && full_object !== '' && settings.image_only != true"}],attrs:{id:"link_to_object"}},[t._v("\n    Full object: "),n("a",{attrs:{href:t.full_object,target:"_blank"}},[t._v(t._s(t.manifest["label"]))])]),n("div")],2)})],2):!1===t.rendered?n("div",[t._v('\n"'+t._s(t.annotationlist)+t._s(t.annotationurl)+'" did not render. Please ensure your annotation link is correct.'),n("br"),t._v('\nMake sure the annotation contains a link to a working manifest. If it does not add manifest url to tag using the "manifesturl" property.'),n("br"),t._v("\nAlso ensure you did not sure the wrong property for your annotation (annotationlist for lists of annotations and annotationurl for single annotations)\n")]):t._e()},s=[],l=n("bc3a"),c=n.n(l);const u={aa:{name:"Afar",nativeName:"Afaraf"},ab:{name:"Abkhaz",nativeName:" "},ae:{name:"Avestan",nativeName:"avesta"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},am:{name:"Amharic",nativeName:""},an:{name:"Aragonese",nativeName:"aragons"},ar:{name:"Arabic",nativeName:" "},as:{name:"Assamese",nativeName:""},av:{name:"Avaric",nativeName:" "},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"azrbaycan dili"},ba:{name:"Bashkir",nativeName:" "},be:{name:"Belarusian",nativeName:" "},bg:{name:"Bulgarian",nativeName:" "},bh:{name:"Bihari",nativeName:""},bi:{name:"Bislama",nativeName:"Bislama"},bm:{name:"Bambara",nativeName:"bamanankan"},bn:{name:"Bengali",nativeName:""},bo:{name:"Tibetan Standard",nativeName:""},br:{name:"Breton",nativeName:"brezhoneg"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},ca:{name:"Catalan",nativeName:"catal"},ce:{name:"Chechen",nativeName:" "},ch:{name:"Chamorro",nativeName:"Chamoru"},co:{name:"Corsican",nativeName:"corsu"},cr:{name:"Cree",nativeName:""},cs:{name:"Czech",nativeName:"etina"},cu:{name:"Old Church Slavonic",nativeName:" "},cv:{name:"Chuvash",nativeName:" "},cy:{name:"Welsh",nativeName:"Cymraeg"},da:{name:"Danish",nativeName:"dansk"},de:{name:"German",nativeName:"Deutsch"},dv:{name:"Divehi",nativeName:"Dhivehi"},dz:{name:"Dzongkha",nativeName:""},ee:{name:"Ewe",nativeName:"Eegbe"},el:{name:"Greek",nativeName:""},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"Esperanto"},es:{name:"Spanish",nativeName:"Espaol"},et:{name:"Estonian",nativeName:"eesti"},eu:{name:"Basque",nativeName:"euskara"},fa:{name:"Persian",nativeName:""},ff:{name:"Fula",nativeName:"Fulfulde"},fi:{name:"Finnish",nativeName:"suomi"},fj:{name:"Fijian",nativeName:"Vakaviti"},fo:{name:"Faroese",nativeName:"froyskt"},fr:{name:"French",nativeName:"Franais"},fy:{name:"Western Frisian",nativeName:"Frysk"},ga:{name:"Irish",nativeName:"Gaeilge"},gd:{name:"Scottish Gaelic",nativeName:"Gidhlig"},gl:{name:"Galician",nativeName:"galego"},gn:{name:"Guaran",nativeName:"Avae'"},gu:{name:"Gujarati",nativeName:""},gv:{name:"Manx",nativeName:"Gaelg"},ha:{name:"Hausa",nativeName:""},he:{name:"Hebrew",nativeName:""},hi:{name:"Hindi",nativeName:""},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hr:{name:"Croatian",nativeName:"hrvatski jezik"},ht:{name:"Haitian",nativeName:"Kreyl ayisyen"},hu:{name:"Hungarian",nativeName:"magyar"},hy:{name:"Armenian",nativeName:""},hz:{name:"Herero",nativeName:"Otjiherero"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Indonesian"},ie:{name:"Interlingue",nativeName:"Interlingue"},ig:{name:"Igbo",nativeName:"Ass Igbo"},ii:{name:"Nuosu",nativeName:" Nuosuhxop"},ik:{name:"Inupiaq",nativeName:"Iupiaq"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"slenska"},it:{name:"Italian",nativeName:"Italiano"},iu:{name:"Inuktitut",nativeName:""},ja:{name:"Japanese",nativeName:""},jv:{name:"Javanese",nativeName:"basa Jawa"},ka:{name:"Georgian",nativeName:""},kg:{name:"Kongo",nativeName:"Kikongo"},ki:{name:"Kikuyu",nativeName:"Gky"},kj:{name:"Kwanyama",nativeName:"Kuanyama"},kk:{name:"Kazakh",nativeName:" "},kl:{name:"Kalaallisut",nativeName:"kalaallisut"},km:{name:"Khmer",nativeName:""},kn:{name:"Kannada",nativeName:""},ko:{name:"Korean",nativeName:""},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:""},ku:{name:"Kurdish",nativeName:"Kurd"},kv:{name:"Komi",nativeName:" "},kw:{name:"Cornish",nativeName:"Kernewek"},ky:{name:"Kyrgyz",nativeName:""},la:{name:"Latin",nativeName:"latine"},lb:{name:"Luxembourgish",nativeName:"Ltzebuergesch"},lg:{name:"Ganda",nativeName:"Luganda"},li:{name:"Limburgish",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"Lingla"},lo:{name:"Lao",nativeName:""},lt:{name:"Lithuanian",nativeName:"lietuvi kalba"},lu:{name:"Luba-Katanga",nativeName:"Tshiluba"},lv:{name:"Latvian",nativeName:"latvieu valoda"},mg:{name:"Malagasy",nativeName:"fiteny malagasy"},mh:{name:"Marshallese",nativeName:"Kajin Maje"},mi:{name:"Mori",nativeName:"te reo Mori"},mk:{name:"Macedonian",nativeName:" "},ml:{name:"Malayalam",nativeName:""},mn:{name:"Mongolian",nativeName:" "},mr:{name:"Marathi",nativeName:""},ms:{name:"Malay",nativeName:" "},mt:{name:"Maltese",nativeName:"Malti"},my:{name:"Burmese",nativeName:""},na:{name:"Nauru",nativeName:"Ekakair Naoero"},nb:{name:"Norwegian Bokml",nativeName:"Norsk bokml"},nd:{name:"Northern Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:""},ng:{name:"Ndonga",nativeName:"Owambo"},nl:{name:"Dutch",nativeName:"Nederlands"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},nr:{name:"Southern Ndebele",nativeName:"isiNdebele"},nv:{name:"Navajo",nativeName:"Din bizaad"},ny:{name:"Chichewa",nativeName:"chiChea"},oc:{name:"Occitan",nativeName:"occitan"},oj:{name:"Ojibwe",nativeName:""},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Oriya",nativeName:""},os:{name:"Ossetian",nativeName:" "},pa:{name:"Panjabi",nativeName:""},pi:{name:"Pli",nativeName:""},pl:{name:"Polish",nativeName:"jzyk polski"},ps:{name:"Pashto",nativeName:""},pt:{name:"Portuguese",nativeName:"Portugus"},qu:{name:"Quechua",nativeName:"Runa Simi"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"Ikirundi"},ro:{name:"Romanian",nativeName:"Romn"},ru:{name:"Russian",nativeName:""},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},sa:{name:"Sanskrit",nativeName:""},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:""},se:{name:"Northern Sami",nativeName:"Davvismegiella"},sg:{name:"Sango",nativeName:"yng t sng"},si:{name:"Sinhala",nativeName:""},sk:{name:"Slovak",nativeName:"slovenina"},sl:{name:"Slovene",nativeName:"slovenski jezik"},sm:{name:"Samoan",nativeName:"gagana fa'a Samoa"},sn:{name:"Shona",nativeName:"chiShona"},so:{name:"Somali",nativeName:"Soomaaliga"},sq:{name:"Albanian",nativeName:"Shqip"},sr:{name:"Serbian",nativeName:" "},ss:{name:"Swati",nativeName:"SiSwati"},st:{name:"Southern Sotho",nativeName:"Sesotho"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sv:{name:"Swedish",nativeName:"svenska"},sw:{name:"Swahili",nativeName:"Kiswahili"},ta:{name:"Tamil",nativeName:""},te:{name:"Telugu",nativeName:""},tg:{name:"Tajik",nativeName:""},th:{name:"Thai",nativeName:""},ti:{name:"Tigrinya",nativeName:""},tk:{name:"Turkmen",nativeName:"Trkmen"},tl:{name:"Tagalog",nativeName:"Wikang Tagalog"},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"Trke"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:" "},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uyghur",nativeName:""},uk:{name:"Ukrainian",nativeName:""},ur:{name:"Urdu",nativeName:""},uz:{name:"Uzbek",nativeName:""},ve:{name:"Venda",nativeName:"Tshivena"},vi:{name:"Vietnamese",nativeName:"Ting Vit"},vo:{name:"Volapk",nativeName:"Volapk"},wa:{name:"Walloon",nativeName:"walon"},wo:{name:"Wolof",nativeName:"Wollof"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:""},yo:{name:"Yoruba",nativeName:"Yorb"},za:{name:"Zhuang",nativeName:"Sa cue"},zh:{name:"Chinese",nativeName:""},zu:{name:"Zulu",nativeName:"isiZulu"}};var h=u;class f{static getLanguages(t=[]){return t.map(t=>({code:t,name:f.getName(t),nativeName:f.getNativeName(t)}))}static getName(t){return f.validate(t)?h[t].name:""}static getAllNames(){return Object.values(h).map(t=>t.name)}static getNativeName(t){return f.validate(t)?h[t].nativeName:""}static getAllNativeNames(){return Object.values(h).map(t=>t.nativeName)}static getCode(t){const e=Object.keys(h).find(e=>{const n=h[e];return n.name.toLowerCase()===t.toLowerCase()||n.nativeName.toLowerCase()===t.toLowerCase()});return e||""}static getAllCodes(){return Object.keys(h)}static validate(t){return void 0!==h[t]}}var p={on_structure:function(t){return"undefined"===typeof t["on"]?"undefined":"undefined"!==typeof t["on"][0]&&"string"!==typeof t["on"][0]?t["on"]:[t["on"]]},getsettings:function(t){var e={};if(null!==document.getElementById("config")&&""!=document.getElementById("config").innerHTML&&(e=JSON.parse(document.getElementById("config").innerHTML)),t){e={};for(var n=t.split(";").filter(function(t){return""!=t}),i=0;i<n.length;i++){var r=n[i].split(":"),o=r[1].trim();o="false"!=o&&o,o="true"==o||o,o=parseInt(o)&&parseInt(o).toString().length==o.length?parseInt(o):o,e[r[0].trim()]=o}}return e},chars:function(t){var e,n,i=t.body?t.body:t.resource,r=[],o=[],a=[],s=t.label?t.label:t.resource&&t.resource.label?t.resource.label:void 0;i=[].concat(i);for(var l=0;l<i.length;l++){var c=i[l],u=c["value"]?c["value"]:c["chars"],h=Object.keys(c)[Object.keys(c).findIndex(function(t){return t.includes("type")})],p=c["purpose"]?c["purpose"].split("#").slice(-1)[0]:c[h]?c[h]:"dctypes:text";if(p=p.toLowerCase(),"TextualBody"===c[h])"tagging"===p?o.push(u):r.push('<div class="'+p+'">'+u+"</div>");else if("oa:Tag"===c[h])o.push(u);else if("Choice"===c[h]){n=c["items"].map(function(t){return'<option value="'+t["language"]+'">'+f.getNativeName(t["language"])+"</option>"});var d=c["items"].map(function(t){return JSON.parse('{"purpose": "'+p+'", "language": "'+t["language"]+'", "value": "'+t["value"]+'"}')});r=r.concat(d)}else"dctypes:Image"===c[h]?r.push('<img src="'+c["@id"]+'">\n          <span class="caption">'+c["description"]+'</span>\n          <span class="attribution">'+c["attribution"]+"</span>"):"dctypes:Dataset"===c[h]?r.push('<a href="'+c["@id"]+'">Download dataset ('+c["format"]+")</a>"):"cnt:ContentAsText"===c[h]?a.push(""+unescape(encodeURIComponent(u))):u&&r.push('<div class="'+p+'">'+u+"</div>");c.selector&&(e=c.selector.value)}return{ocr:a,textual_body:r,tags:o,type:e,languages:n,label:s,language:c["language"]}},canvasRegion:function(t,e){var n;return e&&"undefined"!==typeof e.selector?(n=e.selector.value?e.selector.value:e.selector.default.value,n=n.split("=").slice(-1)[0]):"string"!==typeof t&&(t["source"]?(n=t.selector.value.split("=").slice(-1)[0],t=t.source):t=t["id"]?t["id"]:t["@id"]),t.indexOf("#xywh")>-1?(n=t.split("#")[1].split("=")[1],t=t.split("#")[0]):n||(n="full"),{canvasId:t.replace("/info.json",""),canvasRegion:n}},manifestlink:function(t,e,n){var i;if(void 0===t){var r=e["target"]?e["target"]:this.on_structure(e)[0],o=Object.keys(r)[Object.keys(r).findIndex(function(t){return t.toLowerCase().includes("partof")})],a=Object.keys(n)[Object.keys(n).findIndex(function(t){return t.toLowerCase().includes("partof")})],s=o?r[o]:a?n[a]:this.on_structure(e)[0]["within"];s=s||(n["within"]?n["within"]["within"]:""),i=s["id"]?s["id"]:s["@id"]?s["@id"]:s}else i=t;return i},getSVGoverlay:function(t){var e;if(t&&t.selector&&void 0!==t.selector.item){var n=document.createElement("html");n.innerHTML=t.selector.item.value;var i=n.getElementsByTagName("path")[0];e=i}return e},getAuthor:function(t){var e;return e=Array.isArray(t.creator)?t.creator.join(", "):t.creator,e},createContent:function(t,e){var n="";if(t){n=t["label"]?'<figcaption class="label">'+t["label"]+"</figcaption>":"";var i=t["textual_body"],r=t["ocr"],o=t["authors"];if(e&&i[0]["language"]){var a=i.filter(function(t){return t["language"]===e});n+='<div class="'+a[0]["purpose"]+'">'+a[0]["value"]+"</div>"}else n+=""+i.join("");n+=r.length>0?'<div id="ocr">'+r.map(function(t){return decodeURIComponent(escape(t))})+"</div>":"",n+=o?'<div class="authorship">Written by: '+o+"</div>":""}return n}};function d(t){return m(t)||v(t)||g()}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function v(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function m(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var y={name:"iiifannotation",props:{annotationurl:{type:String,required:!1},annotationlist:{type:String,required:!1},manifesturl:{type:String,required:!1},styling:{type:String,required:!1}},data:function(){return{anno:"",manifest:"",settings:{},manifestlink:"",annotation_items:[],rendered:"",annotation_json:"",languages:[]}},created:function(){var t=this;if(this.settings=p.getsettings(this.styling),this.settings.height){var e=this.settings.width?this.settings.width:"auto";this.settings.imagesettings={height:this.settings.height,width:e}}else this.settings.width&&(this.settings.imagesettings={width:this.settings.width});this.annotation_json=this.annotationlist?this.annotationlist:this.annotationurl,c.a.get(this.annotation_json).then(function(e){t.anno=e.data.resources?e.data.resources:e.data.items?e.data.items:e.data,t.anno=Array.isArray(t.anno)?t.anno:[].concat(t.anno),t.manifestlink=p.manifestlink(t.manifesturl,t.anno[0],e.data)}).catch(function(e){t.rendered=!1,console.log(e)}).then(function(){t.manifestlink?t.getManifestData():t.annoloop(!1)})},methods:{toggle:function(t){var e=t.target.parentElement,n=e.querySelector("#fullimage"),i=void 0!==t.srcElement?t.srcElement:t.target;"none"===n.style.display?(n.style.display="inline-block",i.innerHTML="Hide Full Image"):(n.style.display="none",i.innerHTML="View Full Image")},fullImage:function(t,e){var n="full"!==e?t+"/full/1200,/0/default.jpg":"";return n},getManifestData:function(){var t=this;c.a.get(this.manifestlink).then(function(e){t.manifest=e.data,t.annoloop(!0)}).catch(function(e){t.rendered=!1,console.log(e)})},changeLang:function(t){for(var e=t.target?t.target.value:t,n=0;n<this.annotation_items.length;n++)this.annotation_items[n]["rendered_content"]=p.createContent(this.annotation_items[n]["content"],e)},annoloop:function(t){for(var e=0;e<this.anno.length;e++){var n,i=this.getImageData(this.anno[e],this.annotation_json,e),r=p.on_structure(this.anno[e]),o=void 0!==this.anno[e].target?this.anno[e].target:r[0].full?r.map(function(t){return t.full}):r.flatMap(function(t){return t});if(o=[].concat(o),n=this.manifestlink.indexOf("iiif/2.0")>-1?"1200,":"full",t){var a=this.getManifestCanvas(o,this.anno[e],n,i);i["image"]=i["image"].concat(a["image"]),i["fullImage"]=a["fullImage"]}else for(var s=0;s<o.length;s++){var l,c=o[s],u=p.canvasRegion(c,void 0),h=u["canvasId"]+"/"+u["canvasRegion"]+"/"+n+"/0/default.jpg",f=p.getSVGoverlay(r[s]);for(var d in f?l=this.createSVG(h,u["canvasRegion"],i,f,s):(l=document.createElement("img"),l.setAttribute("src",h),l.setAttribute("alt",i["altText"])),this.settings.imagesettings)l.style[d]=this.settings.imagesettings[d];i["image"].push(l.outerHTML),i["fullImage"]=this.fullImage(u["canvasId"],u["canvasRegion"])}i["image"]?this.rendered=!0:this.rendered=!1,this.annotation_items.push(i)}},createSVG:function(t,e,n,i,r){var o=n["id"]+"-"+r,a=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var s in a.setAttribute("viewBox",e.split(",").join(" ")),a.setAttribute("aria-label",n["altText"]),this.settings.imagesettings)a.style[s]=this.settings.imagesettings[s];var l='<defs><pattern patternUnits="objectBoundingBox" id="'+o+'"  width="100%" height="100%">\n      <image xlink:href="'+t+'" width="100%" height="100%" x="0" y="0" />\n      </pattern></defs>';return i.setAttribute("fill","url(#"+o+")"),i.setAttribute("fill-opacity","1"),i.setAttribute("stroke","none"),a.innerHTML=l+i.outerHTML,a},getManifestCanvas:function(t,e,n,i){for(var r,o=[],a=0;a<t.length;a++){for(var s=t[a],l=p.on_structure(e),c=p.canvasRegion(s,l[a]),u=0;u<this.manifest.sequences[0].canvases.length;u++){var h=this.manifest.sequences[0].canvases[u];if(h["@id"].replace("https","http")===c["canvasId"].replace("https","http"))var f=h}var d,g=c["canvasRegion"];d=void 0===f?s.split("#")[0]:f.images[0].resource.service["@id"]?f.images[0].resource.service["@id"]:f.images[0].resource["@id"];var v,m=p.getSVGoverlay(l[a]),y=d+"/"+g+"/"+n+"/0/default.jpg";for(var _ in m?v=this.createSVG(y,g,i,m,a):(v=document.createElement("img"),v.setAttribute("src",y),v.setAttribute("alt",i["altText"])),this.settings.imagesettings)v.style[_]=this.settings.imagesettings[_];o.push(v.outerHTML),r=this.fullImage(d,g)}return{fullImage:r,image:o}},getImageData:function(t,e,n){var i={image:[]};if(!0!==this.settings.image_only){var r=p.chars(t);r["authors"]=p.getAuthor(t),this.languages=r["languages"]?[].concat(d(new Set(this.languages.concat(r["languages"])))):this.languages,this.currentlang=this.currentlang?this.currentlang:r["textual_body"][0]&&r["textual_body"][0]["language"],i["rendered_content"]=p.createContent(r,this.currentlang),i["content"]=r,i["id"]=e.split("/").slice(-1).pop().replace(".json","")+n,i["altText"]=r["ocr"].length>0?r["ocr"][0]:void 0!==r["label"]?r["label"]:'Image section of "'+this.manifest["label"]+'"',i["altText"]=i["altText"].replace(/(\r\n|\n|\r)/gm," "),i["tags"]=r["tags"].length>0?'<div class="tagging">'+r["tags"].join('</div><div class="tagging">')+"</div>":""}else i["altText"]='Image section of "'+this.manifest["label"]+'"',i["id"]=e.split("/").slice(-1).pop().replace(".json","")+n,this.settings.view_larger=!1;return i}},computed:{full_object:function(){var t,e=Object.keys(this.manifest);return t=e.indexOf("related")>-1?"string"===typeof this.manifest.related?this.manifest.related:this.manifest.related["@id"]:e.indexOf("seeAlso")>-1?this.manifest.seeAlso["@id"]:"",t}}},_=y;n("5ef3");function w(t,e,n,i,r,o,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):r&&(l=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}var b=w(_,a,s,!1,null,null,null);b.options.__file="iiifannotation.vue";var x=b.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.settings.fullpage||t.fullscreen?"fullpage":"storyboard_viewer"],attrs:{id:"storyboard_viewer"}},[n("div",{staticStyle:{position:"relative",display:"flex"}},[n("div",{class:[t.settings.fullpage||t.fullscreen?"seadragonboxfull":"seadragonbox"],staticStyle:{position:"relative"},attrs:{id:t.seadragonid}},[n("span",{directives:[{name:"show",rawName:"v-show",value:!t.settings.hide_toolbar||t.settings.hide_toolbar&&!t.fullscreen,expression:"!settings.hide_toolbar || settings.hide_toolbar && !fullscreen "}],attrs:{id:"header_toolbar"}},[n("button",{directives:[{name:"show",rawName:"v-show",value:!t.annotationurl,expression:"!annotationurl"}],staticClass:"toolbarButton",attrs:{id:"autoRunButton"},on:{click:function(e){t.autoRun(t.settings.autorun_interval)}}},[n("span",{domProps:{innerHTML:t._s(t.buttons.autorunbutton)}}),n("span",{staticClass:"toolbartext"},[t._v("Start/Stop Autorun")])]),Object.keys(t.tagslist).length>0&&!1!==t.settings.showtags?n("button",{staticClass:"toolbarButton",attrs:{id:"tagsButton"},on:{click:function(e){t.showtags()}}},[n("span",{domProps:{innerHTML:t._s(t.buttons.tags)}}),n("span",{staticClass:"toolbartext"},[t._v("Toggle Tags")])]):t._e(),n("button",{directives:[{name:"show",rawName:"v-show",value:!t.annotationurl,expression:"!annotationurl"}],staticClass:"toolbarButton",attrs:{id:"overlayButton"},on:{click:function(e){t.createOverlay()}}},[n("span",{domProps:{innerHTML:t._s(t.buttons.overlaybutton)}}),n("span",{staticClass:"toolbartext"},[t._v("Toggle Overlays")])]),n("button",{staticClass:"toolbarButton",attrs:{id:"zoomInButton"},on:{click:function(e){t.zoom("in")}}},[n("i",{staticClass:"fas fa-search-plus"}),n("span",{staticClass:"toolbartext"},[t._v("Zoom in")])]),n("button",{staticClass:"toolbarButton",attrs:{id:"zoomOutButton"},on:{click:function(e){t.zoom("out")}}},[n("i",{staticClass:"fas fa-search-minus"}),n("span",{staticClass:"toolbartext"},[t._v("Zoom out")])]),n("button",{staticClass:"toolbarButton",attrs:{id:"homeZoomButton"},on:{click:function(e){t.zoom("home")}}},[n("i",{staticClass:"fas fa-home"}),n("span",{staticClass:"toolbartext"},[t._v("View full image")])]),n("button",{directives:[{name:"show",rawName:"v-show",value:!t.annotationurl,expression:"!annotationurl"}],staticClass:"toolbarButton",class:{inactive:t.prev_inactive},attrs:{id:"previousButton"},on:{click:function(e){t.next("prev")}}},[n("i",{staticClass:"fa fa-arrow-left"}),n("span",{staticClass:"toolbartext"},[t._v("Previous Annotation")])]),n("button",{directives:[{name:"show",rawName:"v-show",value:!t.annotationurl,expression:"!annotationurl"}],staticClass:"toolbarButton",class:{inactive:t.next_inactive},attrs:{id:"nextButton"},on:{click:function(e){t.next("next")}}},[n("i",{staticClass:"fa fa-arrow-right"}),n("span",{staticClass:"toolbartext"},[t._v("Next Annotation")])]),n("button",{staticClass:"toolbarButton",attrs:{id:"fullScreenButton"},on:{click:function(e){t.toggle_fullscreen()}}},[n("span",{domProps:{innerHTML:t._s(t.buttons.expandbutton)}}),n("span",{staticClass:"toolbartext"},[t._v("Toggle fullscreen")])])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!0!==t.isclosed&&(t.istags||!0!==t.prev_inactive&&!0!==t.next_inactive),expression:"isclosed !== true && (istags || prev_inactive !== true && next_inactive !== true)"}],staticClass:"annotation",attrs:{id:t.seadragonid+"_annotation"}},[n("span",{directives:[{name:"show",rawName:"v-show",value:!t.settings.hide_annocontrols&&!0!==t.settings.hide_annocontrols,expression:"!settings.hide_annocontrols && settings.hide_annocontrols !== true"}],attrs:{id:"annotation_controls"}},[n("span",{staticClass:"close_button"},[n("i",{staticClass:"fas fa-times",on:{click:function(e){t.close()}}})]),n("span",{staticClass:"close_button",domProps:{innerHTML:t._s(t.buttons.hide_button)},on:{click:function(e){t.hide()}}}),t.settings.tts?n("span",{staticClass:"close_button",domProps:{innerHTML:t._s(t.buttons.playpause)},on:{click:function(e){t.playpause()}}}):t._e(),Object.keys(t.tagslist).length>0&&!1!==t.settings.showtags?n("span",{staticClass:"close_button",domProps:{innerHTML:t._s(t.buttons.tags)},on:{click:function(e){t.showtags()}}}):t._e(),t.languages?n("span",{staticClass:"lang-icon"},[n("select",{staticClass:"lang_drop close_button",domProps:{innerHTML:t._s(t.languages)},on:{change:function(e){t.changeLang(e)}}})]):t._e()]),t.istags&&!t.ishidden?n("div",{attrs:{id:"tags"}},t._l(t.tagslist,function(e,i){return n("div",{key:i,attrs:{id:i+"_tags"}},[n("input",{staticClass:"tagscheck",attrs:{type:"checkbox"},domProps:{checked:e.checked},on:{click:function(e){t.hideshowalltags(i)}}}),n("span",{staticClass:"tagskey",style:"color: "+e.color},[t._v(" "+t._s(i.split("_").join(" ")))])])}),0):t._e(),t.ishidden&&!t.istags?n("div",{staticStyle:{height:"auto"},attrs:{id:"annotation_excerpt"},domProps:{innerHTML:t._s(t.$options.filters.truncate(t.currentanno,t.settings.truncate_length))}}):t._e(),t.ishidden||t.istags?t._e():n("div",{attrs:{id:"annotation_text"},domProps:{innerHTML:t._s(t.currentanno)}})])])])},S=[],E=n("02cc"),C={stripTags:!1,ellipsis:"...",decodeEntities:!1,byWords:!1,excludes:"",reserveLastWord:!1,keepWhitespaces:!1},P={setup:function(t,e){switch(typeof t){case"object":e=t;break;case"number":"object"===typeof e?e.length=t:e={length:t}}var n=this.extend(e,C);n.excludes&&(Array.isArray(n.excludes)||(n.excludes=[n.excludes]),n.excludes=n.excludes.join(",")),this.options=n,this.limit=n.length,this.ellipsis=n.ellipsis,this.keepWhitespaces=n.keepWhitespaces,this.reserveLastWord=n.reserveLastWord},extend:function(t,e){for(var n in null==t&&(t={}),e){var i=e[n];null==t[n]&&(t[n]=i)}return t},isBlank:function(t){return" "===t||"\f"===t||"\n"===t||"\r"===t||"\t"===t||"\v"===t||""===t||"\u2028"===t||"\u2029"===t},truncate:function(t,e){var n=this;this.keepWhitespaces||(t=t.replace(/\s+/g," "));var i,r=this.options.byWords,o=t.length,a=0,s=0,l=r,c=!1;while(a<o)if(c=n.isBlank(t.charAt(a++)),!r||l!==c){if(s===n.limit){if(c){l=c;continue}--a;break}r?c||++s:c&&l||++s,l=c}return this.limit-=s,this.limit?t:(i=r?t.substr(0,a):this.substr(t,a),i===t?e?t:t+this.ellipsis:i+this.ellipsis)},substr:function(t,e){var n=t.substr(0,e);if(!this.reserveLastWord)return n;var i=t.substring(e-1,e+1);if(/\W/.test(i))return n;if(this.reserveLastWord<0){var r=n.replace(/\w+$/,"");if(0!==r.length||n.length!==this.options.length)return r}var o=!0!==this.reserveLastWord&&this.reserveLastWord>0?this.reserveLastWord:10,a=t.substr(e).match(/(\w+)/),s=a?a[1]:"";return n+s.substr(0,o)}};function k(t){return t&&t.contains&&t.html&&t.parseHTML&&!0}var A=function(t,e,n){if(P.setup(e,n),!t||isNaN(P.limit)||P.limit<=0||P.limit===1/0)return t;var i;i=k(t)?t:Object(E["load"])(""+t,{decodeEntities:P.options.decodeEntities});var r=i.root();if(P.options.excludes&&r.find(P.options.excludes).remove(),P.options.stripTags)return P.truncate(r.text());var o=function(t,e){void 0===e&&(e=!0);var n=t.contents(),r=n.length-1;return n.each(function(t){switch(this.type){case"text":if(!P.limit)return void i(this).remove();this.data=P.truncate(i(this).text(),e&&t===r);break;case"tag":if(P.limit)return o(i(this),e&&t===r);i(this).remove();break;default:return i(this).remove()}})};return o(r),r.html()};A.setup=function(t){return void 0===t&&(t={}),Object.assign(C,t)};var O=A,R=n("aa78"),L=n.n(R),N=n("041b"),I=n.n(N);function M(t){return B(t)||j(t)||D()}function D(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function j(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function B(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}i["a"].use(I.a);var H={name:"storyboard",props:{annotationlist:String,manifesturl:String,annotationurl:String,styling:String},data:function(){return{zoomsections:[],seadragontile:"",position:-1,seadragonid:"",annotations:[],currentanno:"",prev_inactive:!0,next_inactive:!1,toolbar_id:"",title:"",isclosed:!1,ishidden:!1,mapmarker:'<i class="fas fa-map-marker-alt map-marker"></i>',anno_elem:"",istags:!1,isautorunning:"",buttons:{autorunbutton:'<i class="fas fa-magic"></i>',overlaybutton:'<i class="fas fa-toggle-on"></i>',expandbutton:'<i class="fas fa-expand"></i>',hide_button:'<i class="fas fa-caret-up"></i>',playpause:'<i class="fas fa-play"></i>',tags:'<i class="fas fa-tag"></i>'},settings:{},currentlang:"",languages:"",fullscreen:!1,tagslist:{}}},created:function(){var t=this,e=this.annotationlist?this.annotationlist:this.annotationurl;this.seadragonid=e.replace(/\/\s*$/,"").split("/").pop().replace("-list","").replace(".json",""),c.a.get(e).then(function(e){var n=e.data.resources?e.data.resources:e.data.items?e.data.items:e.data;n=[].concat(n);for(var i=p.manifestlink(t.manifesturl,n[0],e.data),r=0;r<n.length;r++){var o=p.on_structure(n[r]),a=void 0!==n[r].target?n[r].target:o[0].full?o.map(function(t){return t.full}):o.flatMap(function(t){return t});a=[].concat(a);for(var s=[],l=p.chars(n[r]),c=l["type"],u=[],h=0;h<a.length;h++){var f=o&&o[h]?o[h]:o,d=p.canvasRegion(a[h],f);s.push(d["canvasRegion"]);var g=d["canvasId"],v=p.getSVGoverlay(f);v?(c=v.getAttribute("id").split("_")[0],u.push(v)):c||(c="rect")}l.languages&&(t.currentlang=l["textual_body"][0]["language"],t.languages=l.languages.join("")),l["authors"]=p.getAuthor(n[r]),t.annotations.push(l),t.zoomsections.push({section:s,type:c,svg_path:u})}i?t.getManifestData(i,g,a):t.buildseadragon(g);for(var m=Array.from(new Set(t.annotations.flatMap(function(t){return t.tags}))).sort(),y=0;y<m.length;y++){var _="#"+Math.random().toString(16).substr(-6),w=!!t.settings.toggleoverlay;t.tagslist[m[y]]={color:_,checked:w}}})},methods:{createViewer:function(){var t="fill"==this.settings.fit,e={id:""+this.seadragonid,type:"image",nextButton:"next",previousButton:"previous",tileSources:""+this.seadragontile,toolbar:""+this.toolbar_id,showNavigator:!1,showNavigationControl:!1,homeFillsViewer:t,constrainDuringPan:!0,visibilityRatio:1};this.viewer=L()(e);var n=this.viewer,i=this.zoomsections,r=this;n.addHandler("open",function(){t||r.viewer.viewport.fitVertically(),r.settings.autorun_onload&&r.autoRun(r.settings.autorun_interval);for(var e=0;e<i.length;e++)if(r.annotations[e]["tags"].length>0)for(var n=0;n<r.annotations[e]["tags"].length;n++)r.createOverlayElement(e,r.annotations[e]["tags"][n],i[e]);else r.createOverlayElement(e,r.annotations[e]["tags"],i[e]);r.annotationurl&&(r.createOverlay(),r.position=0,r.next()),r.settings.toggleoverlay&&r.createOverlay(),r.currentlang&&r.changeLang(r.currentlang)})},changeLang:function(t){var e=t.target?t.target.value:t;this.currentlang=e,this.currentanno=p.createContent(this.annotations[this.position],this.currentlang),this.settings.tts&&(this.settings.tts=e,this.tts(this.currentanno))},close:function(){this.istags=!0,this.showtags(),this.isclosed=!0},createOverlayElement:function(t,e,n){for(var i=0;i<n["section"].length;i++){var r=n["section"][i].split(","),o=this.viewer.world.getItemAt(0).getBounds(),a=this.viewer.world.getItemAt(0).imageToViewportRectangle(parseInt(r[0]),parseInt(r[1]),parseInt(r[2]),parseInt(r[3]));a="full"==r[0]?o:a;var s="full"==r[0]?1:20,l=document.createElement("div");l.style.display="none",l.id="position"+t;var c=n["section"].length>1?"multi":"",u=("overlay "+e+" "+c).trim();l.className=n["type"]+" "+u;var h=this.tagslist[e]?this.tagslist[e].color:"";if("pin"===n["type"])l.innerHTML=this.mapmarker,l.style.fill=h;else if(n["svg_path"][i]){var f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.setAttribute("viewBox",r.join(" "));var p=n["svg_path"][i];p.style.stroke=h;var d=document.createElement("path");d.setAttribute("d",p.getAttribute("d")),d.classList.add("svgactive");var g=parseInt(r[0])+parseInt(r[2])/2+"px "+(parseInt(r[1])+parseInt(r[3])/2)+"px";d.style.transformOrigin=g,d.style.webkitTransformOrigin=g,f.innerHTML=d.outerHTML+p.outerHTML,l.appendChild(f)}h&&(l.style.borderColor=h,l.style.color=h),l.style.zIndex=s,this.viewer.addOverlay({element:l,location:a}),this.addTracking(l,a,t,this)}},playpause:function(){var t=window.speechSynthesis;if(t.paused)t.resume(),this.buttons.playpause='<i class="fas fa-pause"></i>';else if(t.speaking)t.pause(),this.buttons.playpause='<i class="fas fa-play"></i>';else{var e=this.annotations[this.position]?p.createContent(this.annotations[this.position],this.currentlang):"";this.tts(e),this.buttons.playpause='<i class="fas fa-pause"></i>'}},hide:function(){var t=document.getElementById(this.seadragonid+"_annotation");t.style.removeProperty("height"),!0===this.ishidden?(this.ishidden=!1,this.buttons.hide_button='<i class="fas fa-caret-up"></i>'):(this.ishidden=!0,this.buttons.hide_button='<i class="fas fa-caret-down"></i>')},showtags:function(){this.isclosed=!1,this.istags?(this.buttons.tags='<i class="fas fa-tag"></i>',this.istags=!1):(-1==this.position||this.position===this.zoomsections.length?this.buttons.tags='<i class="fas fa-window-close"></i>':this.buttons.tags='<i class="fas fa-file-alt"></i>',this.istags=!0)},hideshowalltags:function(t){for(var e=this.anno_elem.getElementsByClassName(t),n=this.anno_elem.getElementsByClassName("overlay"),i=0;i<e.length;i++){for(var r=document.querySelectorAll("#"+e[i].id),o=0;o<r.length;o++)r[o].style.zIndex=0;"none"!=e[i].style.display?(e[i].style.display="none",this.tagslist[t].checked=!1):(e[i].style.display="block",e[i].style.zIndex=1e3,this.tagslist[t].checked=!0)}var a=Array.from(n).some(function(t){return"none"!==t.style.display});this.buttons.overlaybutton=a?'<i class="fas fa-toggle-off"></i>':'<i class="fas fa-toggle-on"></i>'},getManifestData:function(t,e,n){var i=this;c.a.get(t).then(function(t){var r=t.data.label;void 0!==r&&(r=r["en"]?r.en[0]:r["@value"]?r["@value"]:r,i.title=O(r,6,{byWords:!0}));for(var o=t.data.sequences[0].canvases,a=0;a<o.length;a++)if(o[a]["@id"].replace("https","http")===e.replace("https","http")){var s=o[a].images[0].resource,l=s.service["@id"].split("full")[0];l+="/"!==l.slice(-1)?"/":"",i.seadragontile=l+"info.json"}i.buildseadragon(n)})},buildseadragon:function(t){if(this.settings=p.getsettings(this.styling),this.settings.truncate_length=this.settings.truncate_length?this.settings.truncate_length:2,""===this.seadragontile){var e=Array.isArray(t)?t[0]:t;e=e.split("#")[0],e+="/"!==e.slice(-1)?"/":"",this.seadragontile=e+"info.json"}this.createViewer(),this.anno_elem=document.getElementById(""+this.seadragonid),this.settings.autorun_interval=this.settings.autorun_interval?this.settings.autorun_interval:3,this.mapmarker=this.settings.mapmarker?this.settings.mapmarker:this.mapmarker},zoom:function(t){var e=parseFloat(this.viewer.viewport.getZoom()),n=parseFloat(this.viewer.viewport.getMinZoom())-.2,i=parseFloat(this.viewer.viewport.getMaxZoom());if("in"===t&&i>=e)this.viewer.viewport.zoomBy(1.1);else if("out"===t&&n<=e)this.viewer.viewport.zoomBy(.9);else{if("home"!==t)return 0;"fill"==this.settings.fit?this.viewer.viewport.fitBounds(this.viewer.viewport.getHomeBounds()):this.viewer.viewport.fitVertically()}},tts:function(t){var e=window.speechSynthesis;e.cancel();var n=document.createElement("div");n.innerHTML=t;var i=n.textContent,r=new SpeechSynthesisUtterance(i),o=this.annotations[this.position]?this.annotations[this.position]["language"]:"";r.lang=o||this.settings.tts;var a=e.getVoices().filter(function(t){var e=r.lang;return 2==e.length?t.lang.split("-")[0]==e:t.lang==e});r.voice=a?a[0]:e.getVoices()[0];var s=this;r.onstart=function(){s.buttons.playpause='<i class="fas fa-pause"></i>'},t?r.onend=s.autoRunTTS:this.autoRunTTS(),console.log("utterance",r),e.speak(r),this.buttons.playpause='<i class="fas fa-pause"></i>'},autoRunTTS:function(){if(this.isautorunning){this.position===this.zoomsections.length&&(this.position=-1);var t=this,e=1e3*this.settings.autorun_interval;t.isautorunning=setTimeout(function(){t.next("next")},e)}else clearTimeout(this.isautorunning);window.speechSynthesis.speaking||window.speechSynthesis.pending||(this.buttons.playpause='<i class="fas fa-play"></i>')},createOverlay:function(){var t,e,n=this.anno_elem.getElementsByClassName("overlay"),i=Array.from(n).some(function(t){return"none"!==t.style.display&&-1===t.className.indexOf("multi")});for(var r in i?(t="none",e=!1,this.buttons.overlaybutton='<i class="fas fa-toggle-on"></i>'):(t="block",e=!0,this.buttons.overlaybutton='<i class="fas fa-toggle-off"></i>'),this.tagslist)this.tagslist[r].checked=e;for(var o=0;o<n.length;o++)n[o].style.display=t},addTracking:function(t,e,n,i){new L.a.MouseTracker({element:t,clickHandler:function(){i.position=n,i.makeactive(n),i.next(),i.goToArea(e)}}).setTracking(!0)},goToArea:function(t){var e=this.zoomsections[this.position]["section"][0].split(",");"full"==e.join("")?this.zoom("home"):"pan"==this.settings.panorzoom?this.viewer.viewport.panTo(new L.a.Point(t["x"],t["y"])).applyConstraints():this.viewer.viewport.fitBoundsWithConstraints(t).ensureVisible()},toggle_fullscreen:function(){this.$fullscreen.toggle(this.$el,{wrap:!1,callback:this.fullscreenChange})},makeactive:function(t){var e=this.anno_elem.getElementsByClassName("active");while(e[0])e[0].classList.remove("active");if(Number.isInteger(t))for(var n=this.anno_elem.querySelectorAll("#position"+t),i=0;i<n.length;i++)n[i].classList.add("active")},fullscreenChange:function(t){this.buttons.expandbutton=t?'<i class="fas fa-compress"></i>':'<i class="fas fa-expand"></i>',this.fullscreen=t},next:function(t){this.isclosed=!1,this.istags=!0,this.showtags();var e=document.getElementById(this.seadragonid+"_annotation");if(e.style.removeProperty("height"),"prev"===t?this.position-=1:"next"===t?this.position+=1:this.position=this.position,this.settings.tts){var n=this.annotations[this.position]?p.createContent(this.annotations[this.position],this.currentlang):"";this.tts(n)}if(-1==this.buttons.overlaybutton.indexOf("toggle-off"))for(var i=document.getElementsByClassName("multi"),r=0;r<i.length;r++)i[r].style.display="none";if(void 0===this.zoomsections[this.position])this.zoom("home"),this.currentanno="",this.makeactive(void 0);else{var o=this.zoomsections[this.position]["section"].length,a=this.zoomsections[this.position]["section"][0].split(",");if(this.settings.textposition&&this.overlayPosition(a),this.currentanno=p.createContent(this.annotations[this.position],this.currentlang),this.makeactive(this.position),o<=1){var s=this.viewer.world.getItemAt(0).imageToViewportRectangle(parseInt(a[0]),parseInt(a[1]),parseInt(a[2]),parseInt(a[3]));this.goToArea(s)}else{var l=this.zoomsections[this.position]["section"],c=l.map(function(t){return t.split(",")[0]}),u=Math.min.apply(Math,M(c)),h=Math.max.apply(Math,M(c)),f=l.map(function(t){return t.split(",")[1]}),d=Math.min.apply(Math,M(f))-100,g=Math.max.apply(Math,M(f)),v=l.map(function(t){return t.split(",")[2]}),m=v.reduce(function(t,e){return parseInt(t)+parseInt(e)},0),y=h-u+m,_=l.map(function(t){return t.split(",")[2]}),w=l.filter(function(t){return parseInt(t.split(",")[1])===g})[0],b=g-d+(Math.max.apply(Math,M(_))-parseInt(w.split(",")[3])),x=this.viewer.world.getItemAt(0).imageToViewportRectangle(u,d,y,b);this.goToArea(x);for(var T=this.anno_elem.querySelectorAll("#position"+this.position),S=0;S<T.length;S++)T[S].style.display="block"}}this.position===this.zoomsections.length?this.next_inactive=!0:this.next_inactive=!1,-1===this.position?this.prev_inactive=!0:this.prev_inactive=!1},overlayPosition:function(t){var e=document.getElementById(this.seadragonid+"_annotation"),n={right:{x:parseInt(t[0])+parseInt(t[2]),y:parseInt(t[1]),placement:"TOP_LEFT"},left:{x:parseInt(t[0]),y:parseInt(t[1]),placement:"TOP_RIGHT"},top:{x:parseInt(t[0])+parseInt(t[2])/2,y:parseInt(t[1]),placement:"BOTTOM"},bottom:{x:parseInt(t[0])+parseInt(t[2])/2,y:parseInt(t[1])+parseInt(t[3]),placement:"TOP"}},i=n[this.settings.textposition],r=this.viewer.world.getItemAt(0).imageToViewportCoordinates(i["x"],i["y"]),o=this.viewer.getOverlayById(this.seadragonid+"_annotation"),a=this.viewer.viewport.getContainerSize()["x"]-this.viewer.viewport.pixelFromPoint(new L.a.Point(r["x"],r["y"]))["x"],s=this.viewer.viewport.getContainerSize()["y"]-this.viewer.viewport.pixelFromPoint(new L.a.Point(r["x"],r["y"]))["y"];e.classList.add(""+this.settings.textposition);var l=this;e.addEventListener("mouseover",function(){l.enableOSDmouse(!1)}),e.addEventListener("mouseout",function(){l.enableOSDmouse(!0)}),e.style.maxHeight=s-35+"px",e.style.maxWidth=a-35+"px",o?this.viewer.updateOverlay(e,r):this.viewer.addOverlay({element:e,location:r,placement:i["placement"]})},enableOSDmouse:function(t){this.viewer.setControlsEnabled(t),this.viewer.setMouseNavEnabled(t)},autoRun:function(t){t*=1e3;var e=this.zoomsections.length;if(""===this.isautorunning){this.position===e&&(this.position=-1);var n=this;this.settings.tts?(this.isautorunning=!0,this.next("next")):this.isautorunning=setInterval(function(){n.next("next"),n.position===e&&(n.position=-1)},t),this.buttons.autorunbutton='<i class="fas fa-stop-circle"></i>'}else clearInterval(this.isautorunning),this.isautorunning="",this.buttons.autorunbutton='<i class="fas fa-magic"></i>'}},filters:{truncate:function(t,e){return O(t.split('<span class="tags">')[0],e,{byWords:!0})}}},F=H,z=(n("eb3d"),w(F,T,S,!1,null,null,null));z.options.__file="storyboard.vue";var U=z.exports,q={name:"app",components:{iiifannotation:x,storyboard:U}},$=q,V=w($,r,o,!1,null,null,null);V.options.__file="iiiflibrary.vue";V.exports;
/**
  * vue-custom-element v3.2.6
  * (c) 2018 Karol Fabjaczuk
  * @license MIT
  */function W(t,e){return t.__proto__=e,t}Object.setPrototypeOf=Object.setPrototypeOf||W;W.bind(Object);function G(){return"undefined"!==typeof Symbol&&"undefined"!==typeof Reflect&&"undefined"!==typeof Proxy&&!Object.isSealed(Proxy)}var Z=G(),X=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function Y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function J(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Q(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}function tt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"!==typeof customElements){if(Z){var n=function(t){function n(t){var e;Y(this,n);var i=K(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),o=t?HTMLElement.call(t):i;return r.call(o),e=o,K(i,e)}return J(n,t),X(n,null,[{key:"observedAttributes",get:function(){return e.observedAttributes||[]}}]),n}(Q);return n.prototype.connectedCallback=o,n.prototype.disconnectedCallback=a,n.prototype.attributeChangedCallback=s,l(t,n),n}var i=function(t){var e=t?HTMLElement.call(t):this;return r.call(e),e};return i.observedAttributes=e.observedAttributes||[],i.prototype=Object.create(HTMLElement.prototype,{constructor:{configurable:!0,writable:!0,value:i}}),i.prototype.connectedCallback=o,i.prototype.disconnectedCallback=a,i.prototype.attributeChangedCallback=s,l(t,i),i}function r(){!0===e.shadow&&HTMLElement.prototype.attachShadow&&this.attachShadow({mode:"open"}),"function"===typeof e.constructorCallback&&e.constructorCallback.call(this)}function o(){"function"===typeof e.connectedCallback&&e.connectedCallback.call(this)}function a(){"function"===typeof e.disconnectedCallback&&e.disconnectedCallback.call(this)}function s(t,n,i){"function"===typeof e.attributeChangedCallback&&e.attributeChangedCallback.call(this,t,n,i)}function l(t,e){var n=customElements.get(t);return"undefined"!==typeof n?n:customElements.define(t,e)}}Object.setPrototypeOf(Q.prototype,HTMLElement.prototype),Object.setPrototypeOf(Q,HTMLElement);var et=/-(\w)/g,nt=function(t){return t.replace(et,function(t,e){return e?e.toUpperCase():""})},it=/([^-])([A-Z])/g,rt=function(t){return t.replace(it,"$1-$2").replace(it,"$1-$2").toLowerCase()};function ot(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t.length-e,i=new Array(n);while(n--)i[n]=t[n+e];return i}var at="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function st(t,e){var n=t,i=["true","false"].indexOf(t)>-1,r=parseFloat(n,10),o=!isNaN(r)&&isFinite(n)&&"string"===typeof n&&!n.match(/^0+[^.]\d*$/g);return e&&e!==Boolean&&("undefined"===typeof n?"undefined":at(n))!==e?n=e(t):i||e===Boolean?n=""===n||"true"===n:o&&(n=r),n}function lt(t,e){if(t&&t.length)t.forEach(function(t){var n=nt(t);-1===e.camelCase.indexOf(n)&&e.camelCase.push(n)});else if(t&&"object"===("undefined"===typeof t?"undefined":at(t)))for(var n in t){var i=nt(n);-1===e.camelCase.indexOf(i)&&e.camelCase.push(i),t[i]&&t[i].type&&(e.types[n]=[].concat(t[i].type)[0])}}function ct(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={camelCase:[],hyphenate:[],types:{}};if(t.mixins&&t.mixins.forEach(function(t){lt(t.props,e)}),t.extends&&t.extends.props){var n=t.extends.props;lt(n,e)}return lt(t.props,e),e.camelCase.forEach(function(t){e.hyphenate.push(rt(t))}),e}function ut(t,e){e.camelCase.forEach(function(n,i){Object.defineProperty(t,n,{get:function(){return this.__vue_custom_element__[n]},set:function(t){if("object"!==("undefined"===typeof t?"undefined":at(t))&&"function"!==typeof t||!this.__vue_custom_element__){var n=e.types[e.camelCase[i]];this.setAttribute(e.hyphenate[i],st(t,n))}else{var r=e.camelCase[i];this.__vue_custom_element__[r]=t}}})})}function ht(t,e,n){var i=e.propsData||{};return n.hyphenate.forEach(function(e,r){var o=n.camelCase[r],a=t.attributes[e]||t[o],s=null;n.types[o]&&(s=n.types[o]),a instanceof Attr?i[o]=st(a.value,s):"undefined"!==typeof a&&(i[o]=a)}),i}function ft(t){var e={};return ot(t.attributes).forEach(function(t){e["vue-slot"===t.nodeName?"slot":t.nodeName]=t.nodeValue}),e}function pt(t){if(t.childNodes.length)return t.childNodes;if(t.content&&t.content.childNodes&&t.content.childNodes.length)return t.content.childNodes;var e=document.createElement("div");return e.innerHTML=t.innerHTML,e.childNodes}function dt(t,e,n){var i=pt(e),r=ot(i).map(function(e){return"#text"===e.nodeName?e.nodeValue:t(e.tagName,{attrs:ft(e),domProps:{innerHTML:e.innerHTML}})});return n.slot=e.id,t("template",n,r)}function gt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=[];return ot(t).forEach(function(t){if("#text"===t.nodeName)t.nodeValue.trim()&&n.push(e("span",t.nodeValue));else if("#comment"!==t.nodeName){var i=ft(t),r={attrs:i,domProps:{innerHTML:""===t.innerHTML?t.innerText:t.innerHTML}};i.slot&&(r.slot=i.slot,i.slot=void 0);var o="TEMPLATE"===t.tagName?dt(e,t,r):e(t.tagName,r);n.push(o)}}),n}function vt(t,e){var n={bubbles:!1,cancelable:!1,detail:e},i=void 0;return"function"===typeof window.CustomEvent?i=new CustomEvent(t,n):(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail)),i}function mt(t,e){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var o=vt(e,[].concat(i));t.dispatchEvent(o)}function yt(t,e,n,i,r){if(!t.__vue_custom_element__){var o=function(){this.$emit=function(){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];mt.apply(void 0,[t].concat(i)),this.__proto__&&(e=this.__proto__.$emit).call.apply(e,[this].concat(i))}},a=e.util.extend({},n),s=ht(t,a,i),l=e.version&&parseInt(e.version.split(".")[0],10)||0;if(a.beforeCreate=[].concat(a.beforeCreate||[],o),a._compiled){var c={};a._Ctor&&(c=Object.values(a._Ctor)[0].options),c.beforeCreate=a.beforeCreate}var u=void 0;if(l>=2){var h=t.cloneNode(!0).childNodes;u={propsData:s,props:i.camelCase,computed:{reactiveProps:function(){var t=this,e={};return i.camelCase.forEach(function(n){"undefined"!==typeof t[n]&&(e[n]=t[n])}),e}},render:function(t){var e={props:this.reactiveProps};return t(a,e,gt(h,t))}}}else if(1===l)u=a,u.propsData=s;else{u=a;var f={};Object.keys(s).forEach(function(t){f[t]={default:s[t]}}),u.props=f}var p=l>=2?"<div></div>":("<div>"+t.innerHTML+"</div>").replace(/vue-slot=/g,"slot=");if(r.shadow&&t.shadowRoot?(t.shadowRoot.innerHTML=p,u.el=t.shadowRoot.children[0]):(t.innerHTML=p,u.el=t.children[0]),ut(t,i),"function"===typeof r.beforeCreateVueInstance&&(u=r.beforeCreateVueInstance(u)||u),t.__vue_custom_element__=new e(u),t.__vue_custom_element_props__=i,t.getVueInstance=function(){return t.__vue_custom_element__.$children[0]},r.shadow&&r.shadowCss&&t.shadowRoot){var d=document.createElement("style");d.type="text/css",d.appendChild(document.createTextNode(r.shadowCss)),t.shadowRoot.appendChild(d)}t.removeAttribute("vce-cloak"),t.setAttribute("vce-ready",""),mt(t,"vce-ready")}}function _t(t){t.customElement=function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="function"===typeof n,o=r&&{props:i.props||[]},a=ct(r?o:n),s=tt(e,{constructorCallback:function(){"function"===typeof i.constructorCallback&&i.constructorCallback.call(this)},connectedCallback:function(){var o=this,s=r&&n(),l=s&&s.then&&"function"===typeof s.then;if("function"===typeof i.connectedCallback&&i.connectedCallback.call(this),r&&!l)throw new Error("Async component "+e+" do not returns Promise");this.__detached__||(l?s.then(function(e){var n=ct(e);yt(o,t,e,n,i),"function"===typeof i.vueInstanceCreatedCallback&&i.vueInstanceCreatedCallback.call(o)}):(yt(this,t,n,a,i),"function"===typeof i.vueInstanceCreatedCallback&&i.vueInstanceCreatedCallback.call(this))),this.__detached__=!1},disconnectedCallback:function(){var t=this;this.__detached__=!0,"function"===typeof i.disconnectedCallback&&i.disconnectedCallback.call(this),setTimeout(function(){t.__detached__&&t.__vue_custom_element__&&(t.__vue_custom_element__.$destroy(!0),delete t.__vue_custom_element__,delete t.__vue_custom_element_props__)},i.destroyTimeout||3e3)},attributeChangedCallback:function(t,e,n){if(this.__vue_custom_element__&&"undefined"!==typeof n){var r=nt(t);"function"===typeof i.attributeChangedCallback&&i.attributeChangedCallback.call(this,t,e,n);var o=this.__vue_custom_element_props__.types[r];this.__vue_custom_element__[r]=st(n,o)}},observedAttributes:a.hyphenate,shadow:!!i.shadow&&!!HTMLElement.prototype.attachShadow});return s}}"undefined"!==typeof window&&window.Vue&&(window.Vue.use(_t),_t.installed&&(_t.installed=!1));var wt=_t;n("289e");i["a"].use(wt),i["a"].customElement("iiif-annotation",x),i["a"].customElement("iiif-storyboard",U)},"5bfe":function(t,e,n){"use strict";t.exports=g;var i=/^(?:\\.|[\w\-\u00c0-\uFFFF])+/,r=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,o=/^\s*((?:\\.|[\w\u00c0-\uFFFF\-])+)\s*(?:(\S?)=\s*(?:(['"])([^]*?)\3|(#?(?:\\.|[\w\u00c0-\uFFFF\-])*)|)|)\s*(i)?\]/,a={__proto__:null,undefined:"exists","":"equals","~":"element","^":"start",$:"end","*":"any","!":"not","|":"hyphen"},s={__proto__:null,">":"child","<":"parent","~":"sibling","+":"adjacent"},l={__proto__:null,"#":["id","equals"],".":["class","element"]},c={__proto__:null,has:!0,not:!0,matches:!0},u={__proto__:null,contains:!0,icontains:!0},h={__proto__:null,'"':!0,"'":!0};function f(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)}function p(t){return t.replace(r,f)}function d(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function g(t,e){var n=[];if(t=v(n,t+"",e),""!==t)throw new SyntaxError("Unmatched selector: "+t);return n}function v(t,e,n){var r,f,g,y,_=[],w=!1;function b(){var t=e.match(i)[0];return e=e.substr(t.length),p(t)}function x(t){while(d(e.charAt(t)))t++;e=e.substr(t)}function T(t){var n=0;while("\\"===e.charAt(--t))n++;return 1===(1&n)}x(0);while(""!==e)if(f=e.charAt(0),d(f))w=!0,x(1);else if(f in s)_.push({type:s[f]}),w=!1,x(1);else if(","===f){if(0===_.length)throw new SyntaxError("empty sub-selector");t.push(_),_=[],w=!1,x(1)}else if(w&&(_.length>0&&_.push({type:"descendant"}),w=!1),"*"===f)e=e.substr(1),_.push({type:"universal"});else if(f in l)e=e.substr(1),_.push({type:"attribute",name:l[f][0],action:l[f][1],value:b(),ignoreCase:!1});else if("["===f){if(e=e.substr(1),r=e.match(o),!r)throw new SyntaxError("Malformed attribute selector: "+e);e=e.substr(r[0].length),g=p(r[1]),n&&("lowerCaseAttributeNames"in n?!n.lowerCaseAttributeNames:n.xmlMode)||(g=g.toLowerCase()),_.push({type:"attribute",name:g,action:a[r[2]],value:p(r[4]||r[5]||""),ignoreCase:!!r[6]})}else if(":"===f){if(":"===e.charAt(1)){e=e.substr(2),_.push({type:"pseudo-element",name:b().toLowerCase()});continue}if(e=e.substr(1),g=b().toLowerCase(),r=null,"("===e.charAt(0))if(g in c){y=e.charAt(1);var S=y in h;if(e=e.substr(S+1),r=[],e=v(r,e,n),S){if(e.charAt(0)!==y)throw new SyntaxError("unmatched quotes in :"+g);e=e.substr(1)}if(")"!==e.charAt(0))throw new SyntaxError("missing closing parenthesis in :"+g+" "+e);e=e.substr(1)}else{for(var E=1,C=1;C>0&&E<e.length;E++)"("!==e.charAt(E)||T(E)?")"!==e.charAt(E)||T(E)||C--:C++;if(C)throw new SyntaxError("parenthesis not matched");r=e.substr(1,E-2),e=e.substr(E),g in u&&(y=r.charAt(0),y===r.slice(-1)&&y in h&&(r=r.slice(1,-1)),r=p(r))}_.push({type:"pseudo",name:g,data:r})}else{if(!i.test(e))return _.length&&"descendant"===_[_.length-1].type&&_.pop(),m(t,_),e;g=b(),n&&("lowerCaseTags"in n?!n.lowerCaseTags:n.xmlMode)||(g=g.toLowerCase()),_.push({type:"tag",name:g})}return m(t,_),e}function m(t,e){if(t.length>0&&0===e.length)throw new SyntaxError("empty sub-selector");t.push(e)}},"5ef3":function(t,e,n){"use strict";var i=n("4eaf"),r=n.n(i);r.a},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"64b2":function(t){t.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},"65cd":function(t,e,n){var i=n("4a1c").domEach,r={pick:n("88bc")},o=Object.prototype.toString;function a(t,e,n,i){if("string"==typeof e){var r=s(t);"function"===typeof n&&(n=n.call(t,i,r[e])),""===n?delete r[e]:null!=n&&(r[e]=n),t.attribs.style=l(r)}else"object"==typeof e&&Object.keys(e).forEach(function(n){a(t,n,e[n])})}function s(t,e){var n=c(t.attribs.style);return"string"===typeof e?n[e]:Array.isArray(e)?r.pick(n,e):n}function l(t){return Object.keys(t||{}).reduce(function(e,n){return e+(e?" ":"")+n+": "+t[n]+";"},"")}function c(t){return t=(t||"").trim(),t?t.split(";").reduce(function(t,e){var n=e.indexOf(":");return n<1||n===e.length-1?t:(t[e.slice(0,n).trim()]=e.slice(n+1).trim(),t)},{}):{}}e.css=function(t,e){return 2===arguments.length||"[object Object]"===o.call(t)?i(this,function(n,i){a(i,t,e,n)}):s(this[0],t)}},"6a53":function(t,e,n){t.exports=o;var i=n("0b13"),r={__proto__:null,exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function o(t){for(var e=t.map(a),n=1;n<t.length;n++){var i=e[n];if(!(i<0))for(var r=n-1;r>=0&&i<e[r];r--){var o=t[r+1];t[r+1]=t[r],t[r]=o,e[r+1]=e[r],e[r]=i}}}function a(t){var e=i[t.type];if(e===i.attribute)e=r[t.action],e===r.equals&&"id"===t.name&&(e=9),t.ignoreCase&&(e>>=1);else if(e===i.pseudo)if(t.data)if("has"===t.name||"contains"===t.name)e=0;else if("matches"===t.name||"not"===t.name){e=0;for(var n=0;n<t.data.length;n++)if(1===t.data[n].length){var o=a(t.data[n][0]);if(0===o){e=0;break}o>e&&(e=o)}t.data.length>1&&e>0&&(e-=1)}else e=1;else e=3;return e}},"6eab":function(t,e,n){},7073:function(t,e,n){var i=n("b514");function r(t){if(t>=55296&&t<=57343||t>1114111)return"";t in i&&(t=i[t]);var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t),e}t.exports=r},"72ce":function(t,e,n){(function(i){var r=n("d2de");e=t.exports=function(t,n){var i=e.evaluate(t,n),r=e.evaluate("<root></root>",n)[0];return r.type="root",e.update(i,r),r},e.evaluate=function(t,e){var n;return n="string"===typeof t||i.isBuffer(t)?r.parseDOM(t,e):t,n},e.update=function(t,e){Array.isArray(t)||(t=[t]),e?e.children=t:e=null;for(var n=0;n<t.length;n++){var i=t[n],r=i.parent||i.root,o=r&&r.children;o&&o!==t&&(o.splice(o.indexOf(i),1),i.prev&&(i.prev.next=i.next),i.next&&(i.next.prev=i.prev)),e?(i.prev=t[n-1]||null,i.next=t[n+1]||null):i.prev=i.next=null,e&&"root"===e.type?(i.root=e,i.parent=null):(i.root=null,i.parent=e)}return e}}).call(this,n("b639").Buffer)},7703:function(t,e,n){var i=n("d116"),r=n("4a1c"),o=r.isTag,a=r.domEach,s=Object.prototype.hasOwnProperty,l=r.camelCase,c=r.cssCase,u=/\s+/,h="data-",f={forEach:n("aa6f"),extend:n("971f"),some:n("ad2b")},p={null:null,true:!0,false:!1},d=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,g=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,v=function(t,e){if(t&&o(t))return t.attribs||(t.attribs={}),e?s.call(t.attribs,e)?d.test(e)?e:t.attribs[e]:"option"===t.name&&"value"===e?i.text(t.children):"input"!==t.name||"radio"!==t.attribs.type&&"checkbox"!==t.attribs.type||"value"!==e?void 0:"on":t.attribs},m=function(t,e,n){null===n?x(t,e):t.attribs[e]=n+""};e.attr=function(t,e){return"object"===typeof t||void 0!==e?a(this,"function"===typeof e?function(n,i){m(i,t,e.call(i,n,i.attribs[t]))}:function(n,i){o(i)&&("object"===typeof t?f.forEach(t,function(t,e){m(i,e,t)}):m(i,t,e))}):v(this[0],t)};var y=function(t,e){if(t&&o(t))return t.hasOwnProperty(e)?t[e]:d.test(e)?void 0!==v(t,e):v(t,e)},_=function(t,e,n){t[e]=d.test(e)?!!n:n};e.prop=function(t,e){var n,i=0;if("string"===typeof t&&void 0===e){switch(t){case"style":n=this.css(),f.forEach(n,function(t,e){n[i++]=e}),n.length=i;break;case"tagName":case"nodeName":n=this[0].name.toUpperCase();break;default:n=y(this[0],t)}return n}if("object"===typeof t||void 0!==e)return a(this,"function"===typeof e?function(n,i){_(i,t,e.call(i,n,y(i,t)))}:function(n,i){o(i)&&("object"===typeof t?f.forEach(t,function(t,e){_(i,e,t)}):_(i,t,e))})};var w=function(t,e,n){if(t.data||(t.data={}),"object"===typeof e)return f.extend(t.data,e);"string"===typeof e&&void 0!==n?t.data[e]=n:"object"===typeof e&&f.extend(t.data,e)},b=function(t,e){var n,i,r,o,a,u,f,d=1===arguments.length;for(d?(n=Object.keys(t.attribs).filter(function(t){return t.slice(0,h.length)===h}),r=n.map(function(t){return l(t.slice(h.length))})):(n=[h+c(e)],r=[e]),u=0,f=n.length;u<f;++u)if(i=n[u],o=r[u],s.call(t.attribs,i)){if(a=t.attribs[i],s.call(p,a))a=p[a];else if(a===String(Number(a)))a=Number(a);else if(g.test(a))try{a=JSON.parse(a)}catch(v){}t.data[o]=a}return d?t.data:a};e.data=function(t,e){var n=this[0];if(n&&o(n))return n.data||(n.data={}),t?"object"===typeof t||void 0!==e?(a(this,function(n,i){w(i,t,e)}),this):s.call(n.data,t)?n.data[t]:b(n,t):b(n)},e.val=function(t){var e=0===arguments.length,n=this[0];if(n)switch(n.name){case"textarea":return this.text(t);case"input":switch(this.attr("type")){case"radio":return e?this.attr("value"):(this.attr("value",t),this);default:return this.attr("value",t)}return;case"select":var i,r=this.find("option:selected");if(void 0===r)return;if(!e){if(!this.attr().hasOwnProperty("multiple")&&"object"==typeof t)return this;"object"!=typeof t&&(t=[t]),this.find("option").removeAttr("selected");for(var o=0;o<t.length;o++)this.find('option[value="'+t[o]+'"]').attr("selected","");return this}return i=r.attr("value"),this.attr().hasOwnProperty("multiple")&&(i=[],a(r,function(t,e){i.push(v(e,"value"))})),i;case"option":return e?this.attr("value"):(this.attr("value",t),this)}};var x=function(t,e){t.attribs&&s.call(t.attribs,e)&&delete t.attribs[e]};e.removeAttr=function(t){return a(this,function(e,n){x(n,t)}),this},e.hasClass=function(t){return f.some(this,function(e){var n,i=e.attribs,r=i&&i["class"],o=-1;if(r)while((o=r.indexOf(t,o+1))>-1)if(n=o+t.length,(0===o||u.test(r[o-1]))&&(n===r.length||u.test(r[n])))return!0})},e.addClass=function(t){if("function"===typeof t)return a(this,function(n,i){var r=i.attribs["class"]||"";e.addClass.call([i],t.call(i,n,r))});if(!t||"string"!==typeof t)return this;for(var n=t.split(u),i=this.length,r=0;r<i;r++)if(o(this[r])){var s,l,c=v(this[r],"class");if(c){l=" "+c+" ",s=n.length;for(var h=0;h<s;h++){var f=n[h]+" ";l.indexOf(" "+f)<0&&(l+=f)}m(this[r],"class",l.trim())}else m(this[r],"class",n.join(" ").trim())}return this};var T=function(t){return t?t.trim().split(u):[]};e.removeClass=function(t){var n,i,r;return"function"===typeof t?a(this,function(n,i){e.removeClass.call([i],t.call(i,n,i.attribs["class"]||""))}):(n=T(t),i=n.length,r=0===arguments.length,a(this,function(t,e){if(o(e))if(r)e.attribs.class="";else{for(var a,s,l=T(e.attribs.class),c=0;c<i;c++)a=l.indexOf(n[c]),a>=0&&(l.splice(a,1),s=!0,c--);s&&(e.attribs.class=l.join(" "))}}))},e.toggleClass=function(t,n){if("function"===typeof t)return a(this,function(i,r){e.toggleClass.call([r],t.call(r,i,r.attribs["class"]||"",n),n)});if(!t||"string"!==typeof t)return this;for(var i,r,s=t.split(u),l=s.length,c="boolean"===typeof n?n?1:-1:0,h=this.length,f=0;f<h;f++)if(o(this[f])){i=T(this[f].attribs.class);for(var p=0;p<l;p++)r=i.indexOf(s[p]),c>=0&&r<0?i.push(s[p]):c<=0&&r>=0&&i.splice(r,1);this[f].attribs.class=i.join(" ")}return this},e.is=function(t){return!!t&&this.filter(t).length>0}},"7a77":function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},"7aac":function(t,e,n){"use strict";var i=n("c532");t.exports=i.isStandardBrowserEnv()?function(){return{write:function(t,e,n,r,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7d72":function(t,e,n){"use strict";var i=n("8707").Buffer,r=i.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){if(!t)return"utf8";var e;while(1)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function a(t){var e=o(t);if("string"!==typeof e&&(i.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}function s(t){var e;switch(this.encoding=a(t),this.encoding){case"utf16le":this.text=d,this.end=g,e=4;break;case"utf8":this.fillLast=h,e=4;break;case"base64":this.text=v,this.end=m,e=3;break;default:return this.write=y,void(this.end=_)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function l(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function c(t,e,n){var i=e.length-1;if(i<n)return 0;var r=l(e[i]);return r>=0?(r>0&&(t.lastNeed=r-1),r):--i<n||-2===r?0:(r=l(e[i]),r>=0?(r>0&&(t.lastNeed=r-2),r):--i<n||-2===r?0:(r=l(e[i]),r>=0?(r>0&&(2===r?r=0:t.lastNeed=r-3),r):0))}function u(t,e,n){if(128!==(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,""}}function h(t){var e=this.lastTotal-this.lastNeed,n=u(this,t,e);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function f(t,e){var n=c(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function p(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function d(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function g(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function v(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function m(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function y(t){return t.toString(this.encoding)}function _(t){return t&&t.length?this.write(t):""}e.StringDecoder=s,s.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),void 0===e)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},s.prototype.end=p,s.prototype.text=f,s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},"7eb9":function(t,e,n){var i=n("2241"),r=i.isTag,o=i.getParent,a=i.getChildren,s=i.getSiblings,l=i.getName;t.exports={__proto__:null,attribute:n("061b").compile,pseudo:n("99bc").compile,tag:function(t,e){var n=e.name;return function(e){return l(e)===n&&t(e)}},descendant:function(t,e,n,i,r){return function(e){if(r&&t(e))return!0;var n=!1;while(!n&&(e=o(e)))n=t(e);return n}},parent:function(t,e,n){if(n&&n.strict)throw SyntaxError("Parent selector isn't part of CSS3");return function(t){return a(t).some(i)};function i(e){return r(e)&&t(e)}},child:function(t){return function(e){var n=o(e);return!!n&&t(n)}},sibling:function(t){return function(e){for(var n=s(e),i=0;i<n.length;i++)if(r(n[i])){if(n[i]===e)break;if(t(n[i]))return!0}return!1}},adjacent:function(t){return function(e){for(var n,i=s(e),o=0;o<i.length;o++)if(r(i[o])){if(i[o]===e)break;n=i[o]}return!!n&&t(n)}},universal:function(t){return t}}},8707:function(t,e,n){var i=n("b639"),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=a),o(r,a),a.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},a.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"===typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},a.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return r(t)},a.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},"88bc":function(t,e,n){(function(e){var n=1/0,i=9007199254740991,r="[object Arguments]",o="[object Function]",a="[object GeneratorFunction]",s="[object Symbol]",l="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")();function h(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function f(t,e){var n=-1,i=t?t.length:0,r=Array(i);while(++n<i)r[n]=e(t[n],n,t);return r}function p(t,e){var n=-1,i=e.length,r=t.length;while(++n<i)t[r+n]=e[n];return t}var d=Object.prototype,g=d.hasOwnProperty,v=d.toString,m=u.Symbol,y=d.propertyIsEnumerable,_=m?m.isConcatSpreadable:void 0,w=Math.max;function b(t,e,n,i,r){var o=-1,a=t.length;n||(n=E),r||(r=[]);while(++o<a){var s=t[o];e>0&&n(s)?e>1?b(s,e-1,n,i,r):p(r,s):i||(r[r.length]=s)}return r}function x(t,e){return t=Object(t),T(t,e,function(e,n){return n in t})}function T(t,e,n){var i=-1,r=e.length,o={};while(++i<r){var a=e[i],s=t[a];n(s,a)&&(o[a]=s)}return o}function S(t,e){return e=w(void 0===e?t.length-1:e,0),function(){var n=arguments,i=-1,r=w(n.length-e,0),o=Array(r);while(++i<r)o[i]=n[e+i];i=-1;var a=Array(e+1);while(++i<e)a[i]=n[i];return a[e]=o,h(t,this,a)}}function E(t){return k(t)||P(t)||!!(_&&t&&t[_])}function C(t){if("string"==typeof t||M(t))return t;var e=t+"";return"0"==e&&1/t==-n?"-0":e}function P(t){return O(t)&&g.call(t,"callee")&&(!y.call(t,"callee")||v.call(t)==r)}var k=Array.isArray;function A(t){return null!=t&&L(t.length)&&!R(t)}function O(t){return I(t)&&A(t)}function R(t){var e=N(t)?v.call(t):"";return e==o||e==a}function L(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function N(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function I(t){return!!t&&"object"==typeof t}function M(t){return"symbol"==typeof t||I(t)&&v.call(t)==s}var D=S(function(t,e){return null==t?{}:x(t,f(b(e,1),C))});t.exports=D}).call(this,n("c8ba"))},"8a50":function(t,e){t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(t){return"tag"===t.type||"script"===t.type||"style"===t.type}}},"8df4":function(t,e,n){"use strict";var i=n("7a77");function r(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new i(t),e(n.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t,e=new r(function(e){t=e});return{token:e,cancel:t}},t.exports=r},9133:function(t,e){var n=e.getChildren=function(t){return t.children},i=e.getParent=function(t){return t.parent};e.getSiblings=function(t){var e=i(t);return e?n(e):[t]},e.getAttributeValue=function(t,e){return t.attribs&&t.attribs[e]},e.hasAttrib=function(t,e){return!!t.attribs&&hasOwnProperty.call(t.attribs,e)},e.getName=function(t){return t.name}},9152:function(t,e){e.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?r-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+t[e+h],h+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+t[e+h],h+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),o-=c}return(p?-1:1)*a*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var a,s,l,c=8*o-r-1,u=(1<<c)-1,h=u>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,d=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),e+=a+h>=1?f/l:f*Math.pow(2,1-h),e*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(e*l-1)*Math.pow(2,r),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;t[n+p]=255&s,p+=d,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*g}},9166:function(t){t.exports={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",amp:"&",AMP:"&",Aring:"",aring:"",Atilde:"",atilde:"",Auml:"",auml:"",brvbar:"",Ccedil:"",ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",ETH:"",eth:"",Euml:"",euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",iquest:"",Iuml:"",iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",Ntilde:"",ntilde:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",Ograve:"",ograve:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",Ouml:"",ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",THORN:"",thorn:"",times:"",Uacute:"",uacute:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",Uuml:"",uuml:"",Yacute:"",yacute:"",yen:"",yuml:""}},9282:function(t,e){e.removeElement=function(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children;e.splice(e.lastIndexOf(t),1)}},e.replaceElement=function(t,e){var n=e.prev=t.prev;n&&(n.next=e);var i=e.next=t.next;i&&(i.prev=e);var r=e.parent=t.parent;if(r){var o=r.children;o[o.lastIndexOf(t)]=e}},e.appendChild=function(t,e){if(e.parent=t,1!==t.children.push(e)){var n=t.children[t.children.length-2];n.next=e,e.prev=n,e.next=null}},e.append=function(t,e){var n=t.parent,i=t.next;if(e.next=i,e.prev=t,t.next=e,e.parent=n,i){if(i.prev=e,n){var r=n.children;r.splice(r.lastIndexOf(i),0,e)}}else n&&n.children.push(e)},e.prepend=function(t,e){var n=t.parent;if(n){var i=n.children;i.splice(i.lastIndexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=n,e.prev=t.prev,e.next=t,t.prev=e}},9459:function(t,e,n){var i="input,select,textarea,keygen",r=/%20/g,o=/\r?\n/g,a={map:n("35ae")};e.serialize=function(){var t=this.serializeArray(),e=a.map(t,function(t){return encodeURIComponent(t.name)+"="+encodeURIComponent(t.value)});return e.join("&").replace(r,"+")},e.serializeArray=function(){var t=this.constructor;return this.map(function(){var e=this,n=t(e);return"form"===e.name?n.find(i).toArray():n.filter(i).toArray()}).filter('[name!=""]:not(:disabled):not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(function(e,n){var i=t(n),r=i.attr("name"),s=i.val();return null==s?null:Array.isArray(s)?a.map(s,function(t){return{name:r,value:t.replace(o,"\r\n")}}):{name:r,value:s.replace(o,"\r\n")}}).get()}},"971f":function(t,e){var n=9007199254740991,i="[object Arguments]",r="[object Function]",o="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;function s(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function l(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}var c=Object.prototype,u=c.hasOwnProperty,h=c.toString,f=c.propertyIsEnumerable,p=Math.max;function d(t,e){var n=C(t)||E(t)?l(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!u.call(t,o)||r&&("length"==o||w(o,i))||n.push(o);return n}function g(t,e,n){var i=t[e];u.call(t,e)&&S(i,n)&&(void 0!==n||e in t)||(t[e]=n)}function v(t){if(!R(t))return T(t);var e=x(t),n=[];for(var i in t)("constructor"!=i||!e&&u.call(t,i))&&n.push(i);return n}function m(t,e){return e=p(void 0===e?t.length-1:e,0),function(){var n=arguments,i=-1,r=p(n.length-e,0),o=Array(r);while(++i<r)o[i]=n[e+i];i=-1;var a=Array(e+1);while(++i<e)a[i]=n[i];return a[e]=o,s(t,this,a)}}function y(t,e,n,i){n||(n={});var r=-1,o=e.length;while(++r<o){var a=e[r],s=i?i(n[a],t[a],a,n,t):void 0;g(n,a,void 0===s?t[a]:s)}return n}function _(t){return m(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;o=t.length>3&&"function"==typeof o?(r--,o):void 0,a&&b(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),e=Object(e);while(++i<r){var s=n[i];s&&t(e,s,i,o)}return e})}function w(t,e){return e=null==e?n:e,!!e&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<e}function b(t,e,n){if(!R(n))return!1;var i=typeof e;return!!("number"==i?P(n)&&w(e,n.length):"string"==i&&e in n)&&S(n[e],t)}function x(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||c;return t===n}function T(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}function S(t,e){return t===e||t!==t&&e!==e}function E(t){return k(t)&&u.call(t,"callee")&&(!f.call(t,"callee")||h.call(t)==i)}var C=Array.isArray;function P(t){return null!=t&&O(t.length)&&!A(t)}function k(t){return L(t)&&P(t)}function A(t){var e=R(t)?h.call(t):"";return e==r||e==o}function O(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}function R(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function L(t){return!!t&&"object"==typeof t}var N=_(function(t,e){y(e,I(e),t)});function I(t){return P(t)?d(t,!0):v(t)}t.exports=N},"99bc":function(t,e,n){var i=n("2241"),r=i.isTag,o=i.getText,a=i.getParent,s=i.getChildren,l=i.getSiblings,c=i.hasAttrib,u=i.getName,h=i.getAttributeValue,f=n("43aa"),p=n("061b").rules.equals,d=n("99e4"),g=d.trueFunc,v=d.falseFunc;function m(t){for(var e=0;t&&e<t.length;e++)if(r(t[e]))return t[e]}function y(t,e){var n={name:t,value:e};return function(t){return p(t,n)}}function _(t){return function(e){return!!a(e)&&t(e)}}var w={contains:function(t,e){return function(n){return t(n)&&o(n).indexOf(e)>=0}},icontains:function(t,e){var n=e.toLowerCase();return function(e){return t(e)&&o(e).toLowerCase().indexOf(n)>=0}},"nth-child":function(t,e){var n=f(e);return n===v?n:n===g?_(t):function(e){for(var i=l(e),o=0,a=0;o<i.length;o++)if(r(i[o])){if(i[o]===e)break;a++}return n(a)&&t(e)}},"nth-last-child":function(t,e){var n=f(e);return n===v?n:n===g?_(t):function(e){for(var i=l(e),o=0,a=i.length-1;a>=0;a--)if(r(i[a])){if(i[a]===e)break;o++}return n(o)&&t(e)}},"nth-of-type":function(t,e){var n=f(e);return n===v?n:n===g?_(t):function(e){for(var i=l(e),o=0,a=0;a<i.length;a++)if(r(i[a])){if(i[a]===e)break;u(i[a])===u(e)&&o++}return n(o)&&t(e)}},"nth-last-of-type":function(t,e){var n=f(e);return n===v?n:n===g?_(t):function(e){for(var i=l(e),o=0,a=i.length-1;a>=0;a--)if(r(i[a])){if(i[a]===e)break;u(i[a])===u(e)&&o++}return n(o)&&t(e)}},root:function(t){return function(e){return!a(e)&&t(e)}},scope:function(t,e,n,i){return i&&0!==i.length?1===i.length?function(e){return i[0]===e&&t(e)}:function(e){return i.indexOf(e)>=0&&t(e)}:w.root(t)},checkbox:y("type","checkbox"),file:y("type","file"),password:y("type","password"),radio:y("type","radio"),reset:y("type","reset"),image:y("type","image"),submit:y("type","submit")},b={empty:function(t){return!s(t).some(function(t){return r(t)||"text"===t.type})},"first-child":function(t){return m(l(t))===t},"last-child":function(t){for(var e=l(t),n=e.length-1;n>=0;n--){if(e[n]===t)return!0;if(r(e[n]))break}return!1},"first-of-type":function(t){for(var e=l(t),n=0;n<e.length;n++)if(r(e[n])){if(e[n]===t)return!0;if(u(e[n])===u(t))break}return!1},"last-of-type":function(t){for(var e=l(t),n=e.length-1;n>=0;n--)if(r(e[n])){if(e[n]===t)return!0;if(u(e[n])===u(t))break}return!1},"only-of-type":function(t){for(var e=l(t),n=0,i=e.length;n<i;n++)if(r(e[n])){if(e[n]===t)continue;if(u(e[n])===u(t))return!1}return!0},"only-child":function(t){for(var e=l(t),n=0;n<e.length;n++)if(r(e[n])&&e[n]!==t)return!1;return!0},link:function(t){return c(t,"href")},visited:v,selected:function(t){if(c(t,"selected"))return!0;if("option"!==u(t))return!1;var e=a(t);if(!e||"select"!==u(e)||c(e,"multiple"))return!1;for(var n=s(e),i=!1,o=0;o<n.length;o++)if(r(n[o]))if(n[o]===t)i=!0;else{if(!i)return!1;if(c(n[o],"selected"))return!1}return i},disabled:function(t){return c(t,"disabled")},enabled:function(t){return!c(t,"disabled")},checked:function(t){return c(t,"checked")||b.selected(t)},required:function(t){return c(t,"required")},optional:function(t){return!c(t,"required")},parent:function(t){return!b.empty(t)},header:function(t){var e=u(t);return"h1"===e||"h2"===e||"h3"===e||"h4"===e||"h5"===e||"h6"===e},button:function(t){var e=u(t);return"button"===e||"input"===e&&"button"===h(t,"type")},input:function(t){var e=u(t);return"input"===e||"textarea"===e||"select"===e||"button"===e},text:function(t){var e;return"input"===u(t)&&(!(e=h(t,"type"))||"text"===e.toLowerCase())}};function x(t,e,n){if(null===n){if(t.length>1&&"scope"!==e)throw new SyntaxError("pseudo-selector :"+e+" requires an argument")}else if(1===t.length)throw new SyntaxError("pseudo-selector :"+e+" doesn't have any arguments")}var T=/^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/;t.exports={compile:function(t,e,n,i){var r=e.name,o=e.data;if(n&&n.strict&&!T.test(r))throw SyntaxError(":"+r+" isn't part of CSS3");if("function"===typeof w[r])return x(w[r],r,o),w[r](t,o,n,i);if("function"===typeof b[r]){var a=b[r];return x(a,r,o),t===g?a:function(e){return a(e,o)&&t(e)}}throw new SyntaxError("unmatched pseudo-class :"+r)},filters:w,pseudos:b}},"99e4":function(t,e){t.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},"9db9":function(t,e,n){var i=n("72ce"),r=n("d116"),o=i.update,a=i.evaluate,s=n("4a1c"),l=s.domEach,c=s.cloneDom,u=s.isHtml,h=Array.prototype.slice,f={flatten:n("2fb4"),bind:n("fe69"),forEach:n("aa6f")};e._makeDomArray=function(t,e){return null==t?[]:t.cheerio?e?c(t.get(),t.options):t.get():Array.isArray(t)?f.flatten(t.map(function(t){return this._makeDomArray(t,e)},this)):"string"===typeof t?a(t,this.options):e?c([t]):[t]};var p=function(t){return function(){var e=h.call(arguments),n=this.length-1;return l(this,function(i,o){var a,s;s="function"===typeof e[0]?e[0].call(o,i,r.html(o.children)):e,a=this._makeDomArray(s,i<n),t(a,o.children,o)})}},d=function(t,e,n,i,r){var o,a,s,l,c,u=[e,n].concat(i),h=t[e-1]||null,f=t[e]||null;for(o=0,a=i.length;o<a;++o)l=i[o],c=l.parent||l.root,s=c&&c.children.indexOf(i[o]),c&&s>-1&&(c.children.splice(s,1),r===c&&e>s&&u[0]--),l.root=null,l.parent=r,l.prev&&(l.prev.next=l.next||null),l.next&&(l.next.prev=l.prev||null),l.prev=i[o-1]||h,l.next=i[o+1]||f;return h&&(h.next=i[0]),f&&(f.prev=i[i.length-1]),t.splice.apply(t,u)};e.appendTo=function(t){return t.cheerio||(t=this.constructor.call(this.constructor,t,null,this._originalRoot)),t.append(this),this},e.prependTo=function(t){return t.cheerio||(t=this.constructor.call(this.constructor,t,null,this._originalRoot)),t.prepend(this),this},e.append=p(function(t,e,n){d(e,e.length,0,t,n)}),e.prepend=p(function(t,e,n){d(e,0,0,t,n)}),e.wrap=function(t){var e="function"===typeof t&&t,n=this.length-1;return f.forEach(this,f.bind(function(i,r){var a,s,l=i.parent||i.root,c=l.children;l&&(e&&(t=e.call(i,r)),"string"!==typeof t||u(t)||(t=this.parents().last().find(t).clone()),a=this._makeDomArray(t,r<n).slice(0,1),s=c.indexOf(i),o([i],a[0]),d(c,s,0,a,l))},this)),this},e.after=function(){var t=h.call(arguments),e=this.length-1;return l(this,function(n,i){var o=i.parent||i.root;if(o){var a,s,l=o.children,c=l.indexOf(i);c<0||(a="function"===typeof t[0]?t[0].call(i,n,r.html(i.children)):t,s=this._makeDomArray(a,n<e),d(l,c+1,0,s,o))}}),this},e.insertAfter=function(t){var e=[],n=this;return"string"===typeof t&&(t=this.constructor.call(this.constructor,t,null,this._originalRoot)),t=this._makeDomArray(t),n.remove(),l(t,function(t,i){var r=n._makeDomArray(n.clone()),o=i.parent||i.root;if(o){var a=o.children,s=a.indexOf(i);s<0||(d(a,s+1,0,r,o),e.push(r))}}),this.constructor.call(this.constructor,this._makeDomArray(e))},e.before=function(){var t=h.call(arguments),e=this.length-1;return l(this,function(n,i){var o=i.parent||i.root;if(o){var a,s,l=o.children,c=l.indexOf(i);c<0||(a="function"===typeof t[0]?t[0].call(i,n,r.html(i.children)):t,s=this._makeDomArray(a,n<e),d(l,c,0,s,o))}}),this},e.insertBefore=function(t){var e=[],n=this;return"string"===typeof t&&(t=this.constructor.call(this.constructor,t,null,this._originalRoot)),t=this._makeDomArray(t),n.remove(),l(t,function(t,i){var r=n._makeDomArray(n.clone()),o=i.parent||i.root;if(o){var a=o.children,s=a.indexOf(i);s<0||(d(a,s,0,r,o),e.push(r))}}),this.constructor.call(this.constructor,this._makeDomArray(e))},e.remove=function(t){var e=this;return t&&(e=e.filter(t)),l(e,function(t,e){var n=e.parent||e.root;if(n){var i=n.children,r=i.indexOf(e);r<0||(i.splice(r,1),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.prev=e.next=e.parent=e.root=null)}}),this},e.replaceWith=function(t){var e=this;return l(this,function(n,i){var r=i.parent||i.root;if(r){var a,s=r.children,l=e._makeDomArray("function"===typeof t?t.call(i,n,i):t);o(l,null),a=s.indexOf(i),d(s,a,1,l,r),i.parent=i.prev=i.next=i.root=null}}),this},e.empty=function(){return l(this,function(t,e){f.forEach(e.children,function(t){t.next=t.prev=t.parent=null}),e.children.length=0}),this},e.html=function(t){if(void 0===t)return this[0]&&this[0].children?r.html(this[0].children,this.options):null;var e=this.options;return l(this,function(n,i){f.forEach(i.children,function(t){t.next=t.prev=t.parent=null});var r=t.cheerio?t.clone().get():a(""+t,e);o(r,i)}),this},e.toString=function(){return r.html(this,this.options)},e.text=function(t){return void 0===t?r.text(this):"function"===typeof t?l(this,function(n,i){var o=[i];return e.text.call(o,t.call(i,n,r.text(o)))}):(l(this,function(e,n){f.forEach(n.children,function(t){t.next=t.prev=t.parent=null});var i={data:""+t,type:"text",parent:n,prev:null,next:null,children:[]};o(i,n)}),this)},e.clone=function(){return this._make(c(this.get(),this.options))}},"9fa6":function(t,e,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(){this.message="String contains an invalid character"}function o(t){for(var e,n,o=String(t),a="",s=0,l=i;o.charAt(0|s)||(l="=",s%1);a+=l.charAt(63&e>>8-s%1*8)){if(n=o.charCodeAt(s+=.75),n>255)throw new r;e=e<<8|n}return a}r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",t.exports=o},a16e:function(t,e,n){var i=n("f0f2"),r=n("9166"),o=n("64b2"),a=n("7073"),s=c(o),l=c(i);function c(t){var e=Object.keys(t).join("|"),n=f(t);e+="|#[xX][\\da-fA-F]+|#\\d+";var i=new RegExp("&(?:"+e+");","g");return function(t){return String(t).replace(i,n)}}var u=function(){for(var t=Object.keys(r).sort(h),e=Object.keys(i).sort(h),n=0,o=0;n<e.length;n++)t[o]===e[n]?(e[n]+=";?",o++):e[n]+=";";var a=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=f(i);function l(t){return";"!==t.substr(-1)&&(t+=";"),s(t)}return function(t){return String(t).replace(a,l)}}();function h(t,e){return t<e?1:-1}function f(t){return function(e){return"#"===e.charAt(1)?"X"===e.charAt(2)||"x"===e.charAt(2)?a(parseInt(e.substr(3),16)):a(parseInt(e.substr(2),10)):t[e.slice(1,-1)]}}t.exports={XML:s,HTML:u,HTMLStrict:l}},a611:function(t,e){e.removeSubsets=function(t){var e,n,i,r=t.length;while(--r>-1){e=n=t[r],t[r]=null,i=!0;while(n){if(t.indexOf(n)>-1){i=!1,t.splice(r,1);break}n=n.parent}i&&(t[r]=e)}return t};var n={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16},i=e.compareDocumentPosition=function(t,e){var i,r,o,a,s,l,c=[],u=[];if(t===e)return 0;i=t;while(i)c.unshift(i),i=i.parent;i=e;while(i)u.unshift(i),i=i.parent;l=0;while(c[l]===u[l])l++;return 0===l?n.DISCONNECTED:(r=c[l-1],o=r.children,a=c[l],s=u[l],o.indexOf(a)>o.indexOf(s)?r===e?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:r===t?n.PRECEDING|n.CONTAINS:n.PRECEDING)};e.uniqueSort=function(t){var e,r,o=t.length;t=t.slice();while(--o>-1)e=t[o],r=t.indexOf(e),r>-1&&r<o&&t.splice(o,1);return t.sort(function(t,e){var r=i(t,e);return r&n.PRECEDING?-1:r&n.FOLLOWING?1:0}),t}},a95b:function(t,e,n){var i=n("4d1e"),r=e.isTag=i.isTag;e.testElement=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){if("tag_name"===n){if(!r(e)||!t.tag_name(e.name))return!1}else if("tag_type"===n){if(!t.tag_type(e.type))return!1}else if("tag_contains"===n){if(r(e)||!t.tag_contains(e.data))return!1}else if(!e.attribs||!t[n](e.attribs[n]))return!1}else;return!0};var o={tag_name:function(t){return"function"===typeof t?function(e){return r(e)&&t(e.name)}:"*"===t?r:function(e){return r(e)&&e.name===t}},tag_type:function(t){return"function"===typeof t?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return"function"===typeof t?function(e){return!r(e)&&t(e.data)}:function(e){return!r(e)&&e.data===t}}};function a(t,e){return"function"===typeof e?function(n){return n.attribs&&e(n.attribs[t])}:function(n){return n.attribs&&n.attribs[t]===e}}function s(t,e){return function(n){return t(n)||e(n)}}e.getElements=function(t,e,n,i){var r=Object.keys(t).map(function(e){var n=t[e];return e in o?o[e](n):a(e,n)});return 0===r.length?[]:this.filter(r.reduce(s),e,n,i)},e.getElementById=function(t,e,n){return Array.isArray(e)||(e=[e]),this.findOne(a("id",t),e,!1!==n)},e.getElementsByTagName=function(t,e,n,i){return this.filter(o.tag_name(t),e,n,i)},e.getElementsByTagType=function(t,e,n,i){return this.filter(o.tag_type(t),e,n,i)}},aa6f:function(t,e){var n=9007199254740991,i="[object Arguments]",r="[object Function]",o="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;function s(t,e){var n=-1,i=t?t.length:0;while(++n<i)if(!1===e(t[n],n,t))break;return t}function l(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}function c(t,e){return function(n){return t(e(n))}}var u=Object.prototype,h=u.hasOwnProperty,f=u.toString,p=u.propertyIsEnumerable,d=c(Object.keys,Object);function g(t,e){var n=C(t)||E(t)?l(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!h.call(t,o)||r&&("length"==o||x(o,i))||n.push(o);return n}var v=w(y),m=b();function y(t,e){return t&&m(t,e,N)}function _(t){if(!T(t))return d(t);var e=[];for(var n in Object(t))h.call(t,n)&&"constructor"!=n&&e.push(n);return e}function w(t,e){return function(n,i){if(null==n)return n;if(!P(n))return t(n,i);var r=n.length,o=e?r:-1,a=Object(n);while(e?o--:++o<r)if(!1===i(a[o],o,a))break;return n}}function b(t){return function(e,n,i){var r=-1,o=Object(e),a=i(e),s=a.length;while(s--){var l=a[t?s:++r];if(!1===n(o[l],l,o))break}return e}}function x(t,e){return e=null==e?n:e,!!e&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<e}function T(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||u;return t===n}function S(t,e){var n=C(t)?s:v;return n(t,"function"==typeof e?e:I)}function E(t){return k(t)&&h.call(t,"callee")&&(!p.call(t,"callee")||f.call(t)==i)}var C=Array.isArray;function P(t){return null!=t&&O(t.length)&&!A(t)}function k(t){return L(t)&&P(t)}function A(t){var e=R(t)?f.call(t):"";return e==r||e==o}function O(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}function R(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function L(t){return!!t&&"object"==typeof t}function N(t){return P(t)?g(t):_(t)}function I(t){return t}t.exports=S},aa78:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;//! openseadragon 2.4.0
//! Built on 2018-07-20
//! Git commit: v2.4.0-0-446af4d
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function OpenSeadragon(t){return new OpenSeadragon.Viewer(t)}(function(t){t.version={versionStr:"2.4.0",major:parseInt("2",10),minor:parseInt("4",10),revision:parseInt("0",10)};var e={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},n=Object.prototype.toString,i=Object.prototype.hasOwnProperty;t.isFunction=function(e){return"function"===t.type(e)},t.isArray=Array.isArray||function(e){return"array"===t.type(e)},t.isWindow=function(t){return t&&"object"===typeof t&&"setInterval"in t},t.type=function(t){return null===t||void 0===t?String(t):e[n.call(t)]||"object"},t.isPlainObject=function(e){if(!e||"object"!==OpenSeadragon.type(e)||e.nodeType||t.isWindow(e))return!1;if(e.constructor&&!i.call(e,"constructor")&&!i.call(e.constructor.prototype,"isPrototypeOf"))return!1;var n;for(var r in e)n=r;return void 0===n||i.call(e,n)},t.isEmptyObject=function(t){for(var e in t)return!1;return!0},t.freezeObject=function(e){return Object.freeze?t.freezeObject=Object.freeze:t.freezeObject=function(t){return t},t.freezeObject(e)},t.supportsCanvas=function(){var e=document.createElement("canvas");return!(!t.isFunction(e.getContext)||!e.getContext("2d"))}(),t.isCanvasTainted=function(t){var e=!1;try{t.getContext("2d").getImageData(0,0,1,1)}catch(n){e=!0}return e},t.pixelDensityRatio=function(){if(t.supportsCanvas){var e=document.createElement("canvas").getContext("2d"),n=window.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return Math.max(n,1)/i}return 1}()})(OpenSeadragon),function($){$.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=arguments.length,l=!1,c=1;for("boolean"===typeof a&&(l=a,a=arguments[1]||{},c=2),"object"===typeof a||OpenSeadragon.isFunction(a)||(a={}),s===c&&(a=this,--c);c<s;c++)if(t=arguments[c],null!==t||void 0!==t)for(e in t)n=a[e],i=t[e],a!==i&&(l&&i&&(OpenSeadragon.isPlainObject(i)||(r=OpenSeadragon.isArray(i)))?(r?(r=!1,o=n&&OpenSeadragon.isArray(n)?n:[]):o=n&&OpenSeadragon.isPlainObject(n)?n:{},a[e]=OpenSeadragon.extend(l,o,i)):void 0!==i&&(a[e]=i));return a};var isIOSDevice=function(){if("object"!==typeof navigator)return!1;var t=navigator.userAgent;return"string"===typeof t&&(-1!==t.indexOf("iPhone")||-1!==t.indexOf("iPad")||-1!==t.indexOf("iPod"))};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(t,e){return function(){var n=arguments;return void 0===n&&(n=[]),e.apply(t,n)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(t){return"string"==typeof t&&(t=document.getElementById(t)),t},getElementPosition:function(t){var e,n,i=new $.Point;t=$.getElement(t),e="fixed"==$.getElementStyle(t).position,n=getOffsetParent(t,e);while(n)i.x+=t.offsetLeft,i.y+=t.offsetTop,e&&(i=i.plus($.getPageScroll())),t=n,e="fixed"==$.getElementStyle(t).position,n=getOffsetParent(t,e);return i},getElementOffset:function(t){t=$.getElement(t);var e,n,i=t&&t.ownerDocument,r={top:0,left:0};return i?(e=i.documentElement,"undefined"!==typeof t.getBoundingClientRect&&(r=t.getBoundingClientRect()),n=i==i.window?i:9===i.nodeType&&(i.defaultView||i.parentWindow),new $.Point(r.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0),r.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0))):new $.Point},getElementSize:function(t){return t=$.getElement(t),new $.Point(t.clientWidth,t.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(t){return t=$.getElement(t),t.currentStyle}:function(t){return t=$.getElement(t),window.getComputedStyle(t,"")},getCssPropertyWithVendorPrefix:function(t){var e={};return $.getCssPropertyWithVendorPrefix=function(t){if(void 0!==e[t])return e[t];var n=document.createElement("div").style,i=null;if(void 0!==n[t])i=t;else for(var r=["Webkit","Moz","MS","O","webkit","moz","ms","o"],o=$.capitalizeFirstLetter(t),a=0;a<r.length;a++){var s=r[a]+o;if(void 0!==n[s]){i=s;break}}return e[t]=i,i},$.getCssPropertyWithVendorPrefix(t)},capitalizeFirstLetter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},positiveModulo:function(t,e){var n=t%e;return n<0&&(n+=e),n},pointInElement:function(t,e){t=$.getElement(t);var n=$.getElementOffset(t),i=$.getElementSize(t);return e.x>=n.x&&e.x<n.x+i.x&&e.y<n.y+i.y&&e.y>=n.y},getEvent:function(t){return $.getEvent=t?function(t){return t}:function(){return window.event},$.getEvent(t)},getMousePosition:function(t){if("number"==typeof t.pageX)$.getMousePosition=function(t){var e=new $.Point;return t=$.getEvent(t),e.x=t.pageX,e.y=t.pageY,e};else{if("number"!=typeof t.clientX)throw new Error("Unknown event mouse position, no known technique.");$.getMousePosition=function(t){var e=new $.Point;return t=$.getEvent(t),e.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop,e}}return $.getMousePosition(t)},getPageScroll:function(){var t=document.documentElement||{},e=document.body||{};if("number"==typeof window.pageXOffset)$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(e.scrollLeft||e.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!t.scrollLeft&&!t.scrollTop)return new $.Point(0,0);$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return $.getPageScroll()},setPageScroll:function(t){if("undefined"!==typeof window.scrollTo)$.setPageScroll=function(t){window.scrollTo(t.x,t.y)};else{var e=$.getPageScroll();if(e.x===t.x&&e.y===t.y)return;document.body.scrollLeft=t.x,document.body.scrollTop=t.y;var n=$.getPageScroll();if(n.x!==e.x&&n.y!==e.y)return void($.setPageScroll=function(t){document.body.scrollLeft=t.x,document.body.scrollTop=t.y});if(document.documentElement.scrollLeft=t.x,document.documentElement.scrollTop=t.y,n=$.getPageScroll(),n.x!==e.x&&n.y!==e.y)return void($.setPageScroll=function(t){document.documentElement.scrollLeft=t.x,document.documentElement.scrollTop=t.y});$.setPageScroll=function(t){}}return $.setPageScroll(t)},getWindowSize:function(){var t=document.documentElement||{},e=document.body||{};if("number"==typeof window.innerWidth)$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(t.clientWidth||t.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!e.clientWidth&&!e.clientHeight)throw new Error("Unknown window size, no known technique.");$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)}}return $.getWindowSize()},makeCenteredNode:function(t){t=$.getElement(t);var e=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(e[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(e[1].style,{display:"table-row"}),$.extend(e[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),e[0].appendChild(e[1]),e[1].appendChild(e[2]),e[2].appendChild(t),e[0]},makeNeutralElement:function(t){var e=document.createElement(t),n=e.style;return n.background="transparent none",n.border="none",n.margin="0px",n.padding="0px",n.position="static",e},now:function(){return Date.now?$.now=Date.now:$.now=function(){return(new Date).getTime()},$.now()},makeTransparentImage:function(t){return $.makeTransparentImage=function(t){var e=$.makeNeutralElement("img");return e.src=t,e},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(t){var e=$.makeNeutralElement("img"),n=null;return n=$.makeNeutralElement("span"),n.style.display="inline-block",e.onload=function(){n.style.width=n.style.width||e.width+"px",n.style.height=n.style.height||e.height+"px",e.onload=null,e=null},e.src=t,n.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"', sizingMethod='scale')",n}),$.makeTransparentImage(t)},setElementOpacity:function(t,e,n){var i,r;t=$.getElement(t),n&&!$.Browser.alpha&&(e=Math.round(e)),$.Browser.opacity?t.style.opacity=e<1?e:"":e<1?(i=Math.round(100*e),r="alpha(opacity="+i+")",t.style.filter=r):t.style.filter=""},setElementTouchActionNone:function(t){t=$.getElement(t),"undefined"!==typeof t.style.touchAction?t.style.touchAction="none":"undefined"!==typeof t.style.msTouchAction&&(t.style.msTouchAction="none")},addClass:function(t,e){t=$.getElement(t),t.className?-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=" "+e):t.className=e},indexOf:function(t,e,n){return Array.prototype.indexOf?this.indexOf=function(t,e,n){return t.indexOf(e,n)}:this.indexOf=function(t,e,n){var i,r,o=n||0;if(!t)throw new TypeError;if(r=t.length,0===r||o>=r)return-1;for(o<0&&(o=r-Math.abs(o)),i=o;i<r;i++)if(t[i]===e)return i;return-1},this.indexOf(t,e,n)},removeClass:function(t,e){var n,i,r=[];for(t=$.getElement(t),n=t.className.split(/\s+/),i=0;i<n.length;i++)n[i]&&n[i]!==e&&r.push(n[i]);t.className=r.join(" ")},addEvent:function(){if(window.addEventListener)return function(t,e,n,i){t=$.getElement(t),t.addEventListener(e,n,i)};if(window.attachEvent)return function(t,e,n,i){t=$.getElement(t),t.attachEvent("on"+e,n)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(t,e,n,i){t=$.getElement(t),t.removeEventListener(e,n,i)};if(window.detachEvent)return function(t,e,n,i){t=$.getElement(t),t.detachEvent("on"+e,n)};throw new Error("No known event model.")}(),cancelEvent:function(t){t=$.getEvent(t),t.preventDefault?$.cancelEvent=function(t){t.preventDefault()}:$.cancelEvent=function(t){t=$.getEvent(t),t.cancel=!0,t.returnValue=!1},$.cancelEvent(t)},stopEvent:function(t){t=$.getEvent(t),t.stopPropagation?$.stopEvent=function(t){t.stopPropagation()}:$.stopEvent=function(t){t=$.getEvent(t),t.cancelBubble=!0},$.stopEvent(t)},createCallback:function(t,e){var n,i=[];for(n=2;n<arguments.length;n++)i.push(arguments[n]);return function(){var n,r=i.concat([]);for(n=0;n<arguments.length;n++)r.push(arguments[n]);return e.apply(t,r)}},getUrlParameter:function(t){var e=URLPARAMS[t];return e||null},getUrlProtocol:function(t){var e=t.match(/^([a-z]+:)\/\//i);return null===e?window.location.protocol:e[1].toLowerCase()},createAjaxRequest:function(t){var e;try{e=!!new ActiveXObject("Microsoft.XMLHTTP")}catch(n){e=!1}if(e)window.XMLHttpRequest?$.createAjaxRequest=function(t){return t?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");$.createAjaxRequest=function(){return new XMLHttpRequest}}return $.createAjaxRequest(t)},makeAjaxRequest:function(t,e,n){var i,r,o;$.isPlainObject(t)&&(e=t.success,n=t.error,i=t.withCredentials,r=t.headers,o=t.responseType||null,t=t.url);var a=$.getUrlProtocol(t),s=$.createAjaxRequest("file:"===a);if(!$.isFunction(e))throw new Error("makeAjaxRequest requires a success callback");s.onreadystatechange=function(){4==s.readyState&&(s.onreadystatechange=function(){},s.status>=200&&s.status<300||0===s.status&&"http:"!==a&&"https:"!==a?e(s):($.console.log("AJAX request returned %d: %s",s.status,t),$.isFunction(n)&&n(s)))};try{if(s.open("GET",t,!0),o&&(s.responseType=o),r)for(var l in r)r.hasOwnProperty(l)&&r[l]&&s.setRequestHeader(l,r[l]);i&&(s.withCredentials=!0),s.send(null)}catch(f){var c=f.message,u=$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10;if(u&&"undefined"!=typeof f.number&&-2147024891==f.number&&(c+="\nSee http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain"),$.console.log("%s while making AJAX request: %s",f.name,c),s.onreadystatechange=function(){},window.XDomainRequest){var h=new XDomainRequest;if(h){h.onload=function(t){$.isFunction(e)&&e({responseText:h.responseText,status:200,statusText:"OK"})},h.onerror=function(t){$.isFunction(n)&&n({responseText:h.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{h.open("GET",t),h.send()}catch(p){$.isFunction(n)&&n(s,f)}}}else $.isFunction(n)&&n(s,f)}return s},jsonp:function(t){var e,n=t.url,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement,r=t.callbackName||"openseadragon"+$.now(),o=window[r],a="$1"+r+"$2",s=t.param||"callback",l=t.callback;n=n.replace(/(\=)\?(&|$)|\?\?/i,a),n+=(/\?/.test(n)?"&":"?")+s+"="+r,window[r]=function(t){if(o)window[r]=o;else try{delete window[r]}catch(e){}l&&$.isFunction(l)&&l(t)},e=document.createElement("script"),void 0===t.async&&!1===t.async||(e.async="async"),t.scriptCharset&&(e.charset=t.scriptCharset),e.src=n,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,i&&e.parentNode&&i.removeChild(e),e=void 0)},i.insertBefore(e,i.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(t){if(window.DOMParser)$.parseXml=function(t){var e,n=null;return e=new DOMParser,n=e.parseFromString(t,"text/xml"),n};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");$.parseXml=function(t){var e=null;return e=new ActiveXObject("Microsoft.XMLDOM"),e.async=!1,e.loadXML(t),e}}return $.parseXml(t)},parseJSON:function(string){return window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(t){return t=t||"",!!FILEFORMATS[t.toLowerCase()]}}),$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};(function(){var t,e=navigator.appVersion,n=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(n.substring(n.indexOf("MSIE")+5,n.indexOf(";",n.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(n.indexOf("Firefox")>=0?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(n.substring(n.indexOf("Firefox")+8))):n.indexOf("Safari")>=0?($.Browser.vendor=n.indexOf("Chrome")>=0?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(n.substring(n.substring(0,n.indexOf("Safari")).lastIndexOf("/")+1,n.indexOf("Safari")))):(t=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!==t.exec(n)&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(e);break}var i,r,o,a=window.location.search.substring(1),s=a.split("&");for(o=0;o<s.length;o++)i=s[o],r=i.indexOf("="),r>0&&(URLPARAMS[i.substring(0,r)]=decodeURIComponent(i.substring(r+1)));$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)})();var nullfunction=function(t){};function getOffsetParent(t,e){return e&&t!=document.body?document.body:t.offsetParent}$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},function(t){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,n=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.msCancelAnimationFrame;if(e&&n)$.requestAnimationFrame=function(){return e.apply(t,arguments)},$.cancelAnimationFrame=function(){return n.apply(t,arguments)};else{var i,r=[],o=[],a=0;$.requestAnimationFrame=function(t){return r.push([++a,t]),i||(i=setInterval(function(){if(r.length){var t=$.now(),e=o;o=r,r=e;while(o.length)o.shift()[1](t)}else clearInterval(i),i=void 0},20)),a},$.cancelAnimationFrame=function(t){var e,n;for(e=0,n=r.length;e<n;e+=1)if(r[e][0]===t)return void r.splice(e,1);for(e=0,n=o.length;e<n;e+=1)if(o[e][0]===t)return void o.splice(e,1)}}}(window)}(OpenSeadragon),function(t,e){__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=e,__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(0,function(){return OpenSeadragon}),function(t){var e={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(e.supportsFullScreen=!0,e.getFullScreenElement=function(){return document.fullscreenElement},e.requestFullScreen=function(t){return t.requestFullscreen()},e.exitFullScreen=function(){document.exitFullscreen()},e.fullScreenEventName="fullscreenchange",e.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(e.supportsFullScreen=!0,e.getFullScreenElement=function(){return document.msFullscreenElement},e.requestFullScreen=function(t){return t.msRequestFullscreen()},e.exitFullScreen=function(){document.msExitFullscreen()},e.fullScreenEventName="MSFullscreenChange",e.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(e.supportsFullScreen=!0,e.getFullScreenElement=function(){return document.webkitFullscreenElement},e.requestFullScreen=function(t){return t.webkitRequestFullscreen()},e.exitFullScreen=function(){document.webkitExitFullscreen()},e.fullScreenEventName="webkitfullscreenchange",e.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(e.supportsFullScreen=!0,e.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},e.requestFullScreen=function(t){return t.webkitRequestFullScreen()},e.exitFullScreen=function(){document.webkitCancelFullScreen()},e.fullScreenEventName="webkitfullscreenchange",e.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(e.supportsFullScreen=!0,e.getFullScreenElement=function(){return document.mozFullScreenElement},e.requestFullScreen=function(t){return t.mozRequestFullScreen()},e.exitFullScreen=function(){document.mozCancelFullScreen()},e.fullScreenEventName="mozfullscreenchange",e.fullScreenErrorEventName="mozfullscreenerror"),e.isFullScreen=function(){return null!==e.getFullScreenElement()},e.cancelFullScreen=function(){t.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),e.exitFullScreen()},t.extend(t,e)}(OpenSeadragon),function(t){t.EventSource=function(){this.events={}},t.EventSource.prototype={addOnceHandler:function(t,e,n,i){var r=this;i=i||1;var o=0,a=function(n){o++,o===i&&r.removeHandler(t,a),e(n)};this.addHandler(t,a,n)},addHandler:function(e,n,i){var r=this.events[e];r||(this.events[e]=r=[]),n&&t.isFunction(n)&&(r[r.length]={handler:n,userData:i||null})},removeHandler:function(e,n){var i,r=this.events[e],o=[];if(r&&t.isArray(r)){for(i=0;i<r.length;i++)r[i].handler!==n&&o.push(r[i]);this.events[e]=o}},removeAllHandlers:function(t){if(t)this.events[t]=[];else for(var e in this.events)this.events[e]=[]},getHandler:function(t){var e=this.events[t];return e&&e.length?(e=1===e.length?[e[0]]:Array.apply(null,e),function(t,n){var i,r=e.length;for(i=0;i<r;i++)e[i]&&(n.eventSource=t,n.userData=e[i].userData,e[i].handler(n))}):null},raiseEvent:function(t,e){var n=this.getHandler(t);n&&(e||(e={}),n(this,e))}}}(OpenSeadragon),function(t){var e=[],n={};function i(e){var i,r=n[e.hash],o=r.activePointersLists.length;for(i=0;i<o;i++)r.activePointersLists[i].captureCount>0&&(t.removeEvent(t.MouseTracker.captureElement,"mousemove",r.mousemovecaptured,!0),t.removeEvent(t.MouseTracker.captureElement,"mouseup",r.mouseupcaptured,!0),t.removeEvent(t.MouseTracker.captureElement,t.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",r.pointermovecaptured,!0),t.removeEvent(t.MouseTracker.captureElement,t.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",r.pointerupcaptured,!0),t.removeEvent(t.MouseTracker.captureElement,"touchmove",r.touchmovecaptured,!0),t.removeEvent(t.MouseTracker.captureElement,"touchend",r.touchendcaptured,!0),r.activePointersLists[i].captureCount=0);for(i=0;i<o;i++)r.activePointersLists.pop()}function r(e){var r,o,a=n[e.hash];if(!a.tracking){for(o=0;o<t.MouseTracker.subscribeEvents.length;o++)r=t.MouseTracker.subscribeEvents[o],t.addEvent(e.element,r,a[r],!1);i(e),a.tracking=!0}}function o(e){var r,o,a=n[e.hash];if(a.tracking){for(o=0;o<t.MouseTracker.subscribeEvents.length;o++)r=t.MouseTracker.subscribeEvents[o],t.removeEvent(e.element,r,a[r],!1);i(e),a.tracking=!1}}function a(e,i){var r=n[e.hash];if("pointerevent"===i)return{upName:t.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:r.pointerupcaptured,moveName:t.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:r.pointermovecaptured};if("mouse"===i)return{upName:"mouseup",upHandler:r.mouseupcaptured,moveName:"mousemove",moveHandler:r.mousemovecaptured};if("touch"===i)return{upName:"touchend",upHandler:r.touchendcaptured,moveName:"touchmove",moveHandler:r.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function s(e,n,i){var r,o=e.getActivePointersListByType(n);o.captureCount+=i||1,1===o.captureCount&&(t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<9?e.element.setCapture(!0):(r=a(e,t.MouseTracker.havePointerEvents?"pointerevent":n),gt&&vt(window.top)&&t.addEvent(window.top,r.upName,r.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,r.upName,r.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,r.moveName,r.moveHandler,!0)))}function l(e,n,i){var r,o=e.getActivePointersListByType(n);o.captureCount-=i||1,0===o.captureCount&&(t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<9?e.element.releaseCapture():(r=a(e,t.MouseTracker.havePointerEvents?"pointerevent":n),gt&&vt(window.top)&&t.removeEvent(window.top,r.upName,r.upHandler,!0),t.removeEvent(t.MouseTracker.captureElement,r.moveName,r.moveHandler,!0),t.removeEvent(t.MouseTracker.captureElement,r.upName,r.upHandler,!0)))}function c(e){var n;if(t.MouseTracker.unprefixedPointerEvents)n=e.pointerType;else switch(e.pointerType){case 2:n="touch";break;case 3:n="pen";break;case 4:n="mouse";break;default:n=""}return n}function u(e){return t.getMousePosition(e)}function h(t,e){return f(u(t),e)}function f(e,n){var i=t.getElementOffset(n);return e.minus(i)}function p(e,n){return new t.Point((e.x+n.x)/2,(e.y+n.y)/2)}function d(e,n){e.clickHandler&&t.cancelEvent(n)}function g(e,n){e.dblClickHandler&&t.cancelEvent(n)}function v(e,n){var i;e.keyDownHandler&&(n=t.getEvent(n),i=e.keyDownHandler({eventSource:e,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:e.userData}),i||t.cancelEvent(n))}function m(e,n){var i;e.keyUpHandler&&(n=t.getEvent(n),i=e.keyUpHandler({eventSource:e,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:e.userData}),i||t.cancelEvent(n))}function y(e,n){var i;e.keyHandler&&(n=t.getEvent(n),i=e.keyHandler({eventSource:e,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:e.userData}),i||t.cancelEvent(n))}function _(e,n){var i;e.focusHandler&&(n=t.getEvent(n),i=e.focusHandler({eventSource:e,originalEvent:n,preventDefaultAction:!1,userData:e.userData}),!1===i&&t.cancelEvent(n))}function w(e,n){var i;e.blurHandler&&(n=t.getEvent(n),i=e.blurHandler({eventSource:e,originalEvent:n,preventDefaultAction:!1,userData:e.userData}),!1===i&&t.cancelEvent(n))}function b(t,e){T(t,e,e)}function x(e,n){n=t.getEvent(n);var i={target:n.target||n.srcElement,type:"wheel",shiftKey:n.shiftKey||!1,clientX:n.clientX,clientY:n.clientY,pageX:n.pageX?n.pageX:n.clientX,pageY:n.pageY?n.pageY:n.clientY,deltaMode:"MozMousePixelScroll"==n.type?0:1,deltaX:0,deltaZ:0};"mousewheel"==t.MouseTracker.wheelEventName?i.deltaY=-n.wheelDelta/t.DEFAULT_SETTINGS.pixelsPerWheelLine:i.deltaY=n.detail,T(e,i,n)}function T(e,n,i){var r,o=0;o=n.deltaY<0?1:-1,e.scrollHandler&&(r=e.scrollHandler({eventSource:e,pointerType:"mouse",position:h(n,e.element),scroll:o,shift:n.shiftKey,isTouchEvent:!1,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===r&&t.cancelEvent(i))}function S(t,e){if(t===e)return!1;while(e&&e!==t)e=e.parentNode;return e===t}function E(e,n){n=t.getEvent(n),P(e,n)}function C(e,n){n=t.getEvent(n),n.currentTarget===n.relatedTarget||S(n.currentTarget,n.relatedTarget)||P(e,n)}function P(e,n){var i={id:t.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:u(n),currentTime:t.now()};lt(e,n,[i])}function k(e,n){n=t.getEvent(n),O(e,n)}function A(e,n){n=t.getEvent(n),n.currentTarget===n.relatedTarget||S(n.currentTarget,n.relatedTarget)||O(e,n)}function O(e,n){var i={id:t.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:u(n),currentTime:t.now()};ct(e,n,[i])}function R(e){return t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<9?1===e?0:2===e?2:4===e?1:-1:e}function L(e,n){var i;n=t.getEvent(n),i={id:t.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:u(n),currentTime:t.now()},ut(e,n,[i],R(n.button))&&(t.stopEvent(n),s(e,"mouse")),(e.clickHandler||e.dblClickHandler||e.pressHandler||e.dragHandler||e.dragEndHandler)&&t.cancelEvent(n)}function N(t,e){M(t,e)}function I(e,n){M(e,n),t.stopEvent(n)}function M(e,n){var i;n=t.getEvent(n),i={id:t.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:u(n),currentTime:t.now()},ht(e,n,[i],R(n.button))&&l(e,"mouse")}function D(t,e){B(t,e)}function j(e,n){B(e,n),t.stopEvent(n)}function B(e,n){var i;n=t.getEvent(n),i={id:t.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:u(n),currentTime:t.now()},ft(e,n,[i])}function H(t,e,n){var i,r=n.getLength(),o=[];if("touch"===n.type||n.contacts>0){for(i=0;i<r;i++)o.push(n.getByIndex(i));o.length>0&&(ht(t,e,o,0),n.captureCount=1,l(t,n.type),ct(t,e,o))}}function F(n,i){var r,o,a,l,c=i.changedTouches.length,h=[],f=n.getActivePointersListByType("touch");for(r=t.now(),f.getLength()>i.touches.length-c&&(t.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),H(n,i,f)),o=0;o<c;o++)h.push({id:i.changedTouches[o].identifier,type:"touch",currentPos:u(i.changedTouches[o]),currentTime:r});for(lt(n,i,h),o=0;o<e.length;o++)if(e[o]!==n&&e[o].isTracking()&&S(e[o].element,n.element)){for(l=[],a=0;a<c;a++)l.push({id:i.changedTouches[a].identifier,type:"touch",currentPos:u(i.changedTouches[a]),currentTime:r});lt(e[o],i,l)}ut(n,i,h,0)&&(t.stopEvent(i),s(n,"touch",c)),t.cancelEvent(i)}function z(t,e){q(t,e)}function U(e,n){q(e,n),t.stopEvent(n)}function q(n,i){var r,o,a,s,c=i.changedTouches.length,h=[];for(r=t.now(),o=0;o<c;o++)h.push({id:i.changedTouches[o].identifier,type:"touch",currentPos:u(i.changedTouches[o]),currentTime:r});for(ht(n,i,h,0)&&l(n,"touch",c),ct(n,i,h),o=0;o<e.length;o++)if(e[o]!==n&&e[o].isTracking()&&S(e[o].element,n.element)){for(s=[],a=0;a<c;a++)s.push({id:i.changedTouches[a].identifier,type:"touch",currentPos:u(i.changedTouches[a]),currentTime:r});ct(e[o],i,s)}t.cancelEvent(i)}function $(t,e){W(t,e)}function V(e,n){W(e,n),t.stopEvent(n)}function W(e,n){var i,r=n.changedTouches.length,o=[];for(i=0;i<r;i++)o.push({id:n.changedTouches[i].identifier,type:"touch",currentPos:u(n.changedTouches[i]),currentTime:t.now()});ft(e,n,o),t.cancelEvent(n)}function G(t,e){var n=t.getActivePointersListByType("touch");H(t,e,n)}function Z(t,e){return e.stopPropagation(),e.preventDefault(),!1}function X(t,e){return e.stopPropagation(),e.preventDefault(),!1}function Y(e,n){var i;n.currentTarget===n.relatedTarget||S(n.currentTarget,n.relatedTarget)||(i={id:n.pointerId,type:c(n),isPrimary:n.isPrimary,currentPos:u(n),currentTime:t.now()},lt(e,n,[i]))}function K(e,n){var i;n.currentTarget===n.relatedTarget||S(n.currentTarget,n.relatedTarget)||(i={id:n.pointerId,type:c(n),isPrimary:n.isPrimary,currentPos:u(n),currentTime:t.now()},ct(e,n,[i]))}function J(e,n){var i;i={id:n.pointerId,type:c(n),isPrimary:n.isPrimary,currentPos:u(n),currentTime:t.now()},ut(e,n,[i],n.button)&&(t.stopEvent(n),s(e,i.type)),(e.clickHandler||e.dblClickHandler||e.pressHandler||e.dragHandler||e.dragEndHandler||e.pinchHandler)&&t.cancelEvent(n)}function Q(t,e){et(t,e)}function tt(e,n){var i=e.getActivePointersListByType(c(n));i.getById(n.pointerId)&&et(e,n),t.stopEvent(n)}function et(e,n){var i;i={id:n.pointerId,type:c(n),isPrimary:n.isPrimary,currentPos:u(n),currentTime:t.now()},ht(e,n,[i],n.button)&&l(e,i.type)}function nt(t,e){rt(t,e)}function it(e,n){var i=e.getActivePointersListByType(c(n));i.getById(n.pointerId)&&rt(e,n),t.stopEvent(n)}function rt(e,n){var i;i={id:n.pointerId,type:c(n),isPrimary:n.isPrimary,currentPos:u(n),currentTime:t.now()},ft(e,n,[i])}function ot(t,e){var n;n={id:e.pointerId,type:c(e)},pt(t,e,[n])}function at(t,e){return e.hasOwnProperty("isPrimary")||(0===t.getLength()?e.isPrimary=!0:e.isPrimary=!1),e.speed=0,e.direction=0,e.contactPos=e.currentPos,e.contactTime=e.currentTime,e.lastPos=e.currentPos,e.lastTime=e.currentTime,t.add(e)}function st(t,e){var n,i;return t.getById(e.id)?(n=t.removeById(e.id),e.hasOwnProperty("isPrimary")||(i=t.getPrimary(),i||(i=t.getByIndex(0),i&&(i.isPrimary=!0)))):n=t.getLength(),n}function lt(e,n,i){var r,o,a,s,l=e.getActivePointersListByType(i[0].type),c=i.length;for(r=0;r<c;r++)o=i[r],a=l.getById(o.id),a?(a.insideElement=!0,a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=o.currentPos,a.currentTime=o.currentTime,o=a):(o.captured=!1,o.insideElementPressed=!1,o.insideElement=!0,at(l,o)),e.enterHandler&&(s=e.enterHandler({eventSource:e,pointerType:o.type,position:f(o.currentPos,e.element),buttons:l.buttons,pointers:e.getActivePointerCount(),insideElementPressed:o.insideElementPressed,buttonDownAny:0!==l.buttons,isTouchEvent:"touch"===o.type,originalEvent:n,preventDefaultAction:!1,userData:e.userData}),!1===s&&t.cancelEvent(n))}function ct(e,n,i){var r,o,a,s,l=e.getActivePointersListByType(i[0].type),c=i.length;for(r=0;r<c;r++)o=i[r],a=l.getById(o.id),a&&(a.captured?(a.insideElement=!1,a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=o.currentPos,a.currentTime=o.currentTime):st(l,a),o=a),e.exitHandler&&(s=e.exitHandler({eventSource:e,pointerType:o.type,position:f(o.currentPos,e.element),buttons:l.buttons,pointers:e.getActivePointerCount(),insideElementPressed:!!a&&a.insideElementPressed,buttonDownAny:0!==l.buttons,isTouchEvent:"touch"===o.type,originalEvent:n,preventDefaultAction:!1,userData:e.userData}),!1===s&&t.cancelEvent(n))}function ut(e,i,r,o){var a,s,l,c,u=n[e.hash],h=e.getActivePointersListByType(r[0].type),d=r.length;"undefined"!==typeof i.buttons?h.buttons=i.buttons:t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<9?0===o?h.buttons+=1:1===o?h.buttons+=4:2===o?h.buttons+=2:3===o?h.buttons+=8:4===o?h.buttons+=16:5===o&&(h.buttons+=32):0===o?h.buttons|=1:1===o?h.buttons|=4:2===o?h.buttons|=2:3===o?h.buttons|=8:4===o?h.buttons|=16:5===o&&(h.buttons|=32);var g=e.getActivePointersListsExceptType(r[0].type);for(s=0;s<g.length;s++)H(e,i,g[s]);if(0!==o)return e.nonPrimaryPressHandler&&(a=e.nonPrimaryPressHandler({eventSource:e,pointerType:r[0].type,position:f(r[0].currentPos,e.element),button:o,buttons:h.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===a&&t.cancelEvent(i)),!1;for(s=0;s<d;s++)l=r[s],c=h.getById(l.id),c?(c.captured=!0,c.insideElementPressed=!0,c.insideElement=!0,c.contactPos=l.currentPos,c.contactTime=l.currentTime,c.lastPos=c.currentPos,c.lastTime=c.currentTime,c.currentPos=l.currentPos,c.currentTime=l.currentTime,l=c):(l.captured=!0,l.insideElementPressed=!0,l.insideElement=!0,at(h,l)),h.addContact(),(e.dragHandler||e.dragEndHandler||e.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.addPoint(e,l),1===h.contacts?e.pressHandler&&(a=e.pressHandler({eventSource:e,pointerType:l.type,position:f(l.contactPos,e.element),buttons:h.buttons,isTouchEvent:"touch"===l.type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===a&&t.cancelEvent(i)):2===h.contacts&&e.pinchHandler&&"touch"===l.type&&(u.pinchGPoints=h.asArray(),u.lastPinchDist=u.currentPinchDist=u.pinchGPoints[0].currentPos.distanceTo(u.pinchGPoints[1].currentPos),u.lastPinchCenter=u.currentPinchCenter=p(u.pinchGPoints[0].currentPos,u.pinchGPoints[1].currentPos));return!0}function ht(e,i,r,o){var a,s,l,c,u,h,d,g=n[e.hash],v=e.getActivePointersListByType(r[0].type),m=r.length,y=!1,_=!1;if("undefined"!==typeof i.buttons?v.buttons=i.buttons:t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<9?0===o?v.buttons-=1:1===o?v.buttons-=4:2===o?v.buttons-=2:3===o?v.buttons-=8:4===o?v.buttons-=16:5===o&&(v.buttons-=32):0===o?v.buttons^=-2:1===o?v.buttons^=-5:2===o?v.buttons^=-3:3===o?v.buttons^=-9:4===o?v.buttons^=-17:5===o&&(v.buttons^=-33),0!==o){e.nonPrimaryReleaseHandler&&(a=e.nonPrimaryReleaseHandler({eventSource:e,pointerType:r[0].type,position:f(r[0].currentPos,e.element),button:o,buttons:v.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===a&&t.cancelEvent(i));var w=e.getActivePointersListByType("mouse");return H(e,i,w),!1}for(c=0;c<m;c++)u=r[c],h=v.getById(u.id),h&&(h.captured&&(h.captured=!1,y=!0,_=!0),h.lastPos=h.currentPos,h.lastTime=h.currentTime,h.currentPos=u.currentPos,h.currentTime=u.currentTime,h.insideElement||st(v,h),s=h.currentPos,l=h.currentTime,_?(v.removeContact(),(e.dragHandler||e.dragEndHandler||e.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.removePoint(e,h),0===v.contacts?(e.releaseHandler&&(a=e.releaseHandler({eventSource:e,pointerType:h.type,position:f(s,e.element),buttons:v.buttons,insideElementPressed:h.insideElementPressed,insideElementReleased:h.insideElement,isTouchEvent:"touch"===h.type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===a&&t.cancelEvent(i)),e.dragEndHandler&&!h.currentPos.equals(h.contactPos)&&(a=e.dragEndHandler({eventSource:e,pointerType:h.type,position:f(h.currentPos,e.element),speed:h.speed,direction:h.direction,shift:i.shiftKey,isTouchEvent:"touch"===h.type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===a&&t.cancelEvent(i)),(e.clickHandler||e.dblClickHandler)&&h.insideElement&&(d=l-h.contactTime<=e.clickTimeThreshold&&h.contactPos.distanceTo(s)<=e.clickDistThreshold,e.clickHandler&&(a=e.clickHandler({eventSource:e,pointerType:h.type,position:f(h.currentPos,e.element),quick:d,shift:i.shiftKey,isTouchEvent:"touch"===h.type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===a&&t.cancelEvent(i)),e.dblClickHandler&&d&&(v.clicks++,1===v.clicks?(g.lastClickPos=s,g.dblClickTimeOut=setTimeout(function(){v.clicks=0},e.dblClickTimeThreshold)):2===v.clicks&&(clearTimeout(g.dblClickTimeOut),v.clicks=0,g.lastClickPos.distanceTo(s)<=e.dblClickDistThreshold&&(a=e.dblClickHandler({eventSource:e,pointerType:h.type,position:f(h.currentPos,e.element),shift:i.shiftKey,isTouchEvent:"touch"===h.type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===a&&t.cancelEvent(i)),g.lastClickPos=null)))):2===v.contacts&&e.pinchHandler&&"touch"===h.type&&(g.pinchGPoints=v.asArray(),g.lastPinchDist=g.currentPinchDist=g.pinchGPoints[0].currentPos.distanceTo(g.pinchGPoints[1].currentPos),g.lastPinchCenter=g.currentPinchCenter=p(g.pinchGPoints[0].currentPos,g.pinchGPoints[1].currentPos))):e.releaseHandler&&(a=e.releaseHandler({eventSource:e,pointerType:h.type,position:f(s,e.element),buttons:v.buttons,insideElementPressed:h.insideElementPressed,insideElementReleased:h.insideElement,isTouchEvent:"touch"===h.type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===a&&t.cancelEvent(i)));return y}function ft(e,i,r){var o,a,s,l,c,u,h=n[e.hash],d=e.getActivePointersListByType(r[0].type),g=r.length;for("undefined"!==typeof i.buttons&&(d.buttons=i.buttons),o=0;o<g;o++)a=r[o],s=d.getById(a.id),s?(a.hasOwnProperty("isPrimary")&&(s.isPrimary=a.isPrimary),s.lastPos=s.currentPos,s.lastTime=s.currentTime,s.currentPos=a.currentPos,s.currentTime=a.currentTime):(a.captured=!1,a.insideElementPressed=!1,a.insideElement=!0,at(d,a));e.stopHandler&&"mouse"===r[0].type&&(clearTimeout(e.stopTimeOut),e.stopTimeOut=setTimeout(function(){dt(e,i,r[0].type)},e.stopDelay)),0===d.contacts?e.moveHandler&&(u=e.moveHandler({eventSource:e,pointerType:r[0].type,position:f(r[0].currentPos,e.element),buttons:d.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===u&&t.cancelEvent(i)):1===d.contacts?(e.moveHandler&&(s=d.asArray()[0],u=e.moveHandler({eventSource:e,pointerType:s.type,position:f(s.currentPos,e.element),buttons:d.buttons,isTouchEvent:"touch"===s.type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===u&&t.cancelEvent(i)),e.dragHandler&&(s=d.asArray()[0],c=s.currentPos.minus(s.lastPos),u=e.dragHandler({eventSource:e,pointerType:s.type,position:f(s.currentPos,e.element),buttons:d.buttons,delta:c,speed:s.speed,direction:s.direction,shift:i.shiftKey,isTouchEvent:"touch"===s.type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===u&&t.cancelEvent(i))):2===d.contacts&&(e.moveHandler&&(l=d.asArray(),u=e.moveHandler({eventSource:e,pointerType:l[0].type,position:f(p(l[0].currentPos,l[1].currentPos),e.element),buttons:d.buttons,isTouchEvent:"touch"===l[0].type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===u&&t.cancelEvent(i)),e.pinchHandler&&"touch"===r[0].type&&(c=h.pinchGPoints[0].currentPos.distanceTo(h.pinchGPoints[1].currentPos),c!=h.currentPinchDist&&(h.lastPinchDist=h.currentPinchDist,h.currentPinchDist=c,h.lastPinchCenter=h.currentPinchCenter,h.currentPinchCenter=p(h.pinchGPoints[0].currentPos,h.pinchGPoints[1].currentPos),u=e.pinchHandler({eventSource:e,pointerType:"touch",gesturePoints:h.pinchGPoints,lastCenter:f(h.lastPinchCenter,e.element),center:f(h.currentPinchCenter,e.element),lastDistance:h.lastPinchDist,distance:h.currentPinchDist,shift:i.shiftKey,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===u&&t.cancelEvent(i))))}function pt(t,e,n){ht(t,e,n,0),ct(t,e,n)}function dt(t,e,n){t.stopHandler&&t.stopHandler({eventSource:t,pointerType:n,position:h(e,t.element),buttons:t.getActivePointersListByType(n).buttons,isTouchEvent:"touch"===n,originalEvent:e,preventDefaultAction:!1,userData:t.userData})}t.MouseTracker=function(i){e.push(this);var r=arguments;t.isPlainObject(i)||(i={element:r[0],clickTimeThreshold:r[1],clickDistThreshold:r[2]}),this.hash=Math.random(),this.element=t.getElement(i.element),this.clickTimeThreshold=i.clickTimeThreshold||t.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=i.clickDistThreshold||t.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=i.dblClickTimeThreshold||t.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=i.dblClickDistThreshold||t.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=i.userData||null,this.stopDelay=i.stopDelay||50,this.enterHandler=i.enterHandler||null,this.exitHandler=i.exitHandler||null,this.pressHandler=i.pressHandler||null,this.nonPrimaryPressHandler=i.nonPrimaryPressHandler||null,this.releaseHandler=i.releaseHandler||null,this.nonPrimaryReleaseHandler=i.nonPrimaryReleaseHandler||null,this.moveHandler=i.moveHandler||null,this.scrollHandler=i.scrollHandler||null,this.clickHandler=i.clickHandler||null,this.dblClickHandler=i.dblClickHandler||null,this.dragHandler=i.dragHandler||null,this.dragEndHandler=i.dragEndHandler||null,this.pinchHandler=i.pinchHandler||null,this.stopHandler=i.stopHandler||null,this.keyDownHandler=i.keyDownHandler||null,this.keyUpHandler=i.keyUpHandler||null,this.keyHandler=i.keyHandler||null,this.focusHandler=i.focusHandler||null,this.blurHandler=i.blurHandler||null;var o=this;n[this.hash]={click:function(t){d(o,t)},dblclick:function(t){g(o,t)},keydown:function(t){v(o,t)},keyup:function(t){m(o,t)},keypress:function(t){y(o,t)},focus:function(t){_(o,t)},blur:function(t){w(o,t)},wheel:function(t){b(o,t)},mousewheel:function(t){x(o,t)},DOMMouseScroll:function(t){x(o,t)},MozMousePixelScroll:function(t){x(o,t)},mouseenter:function(t){E(o,t)},mouseleave:function(t){k(o,t)},mouseover:function(t){C(o,t)},mouseout:function(t){A(o,t)},mousedown:function(t){L(o,t)},mouseup:function(t){N(o,t)},mouseupcaptured:function(t){I(o,t)},mousemove:function(t){D(o,t)},mousemovecaptured:function(t){j(o,t)},touchstart:function(t){F(o,t)},touchend:function(t){z(o,t)},touchendcaptured:function(t){U(o,t)},touchmove:function(t){$(o,t)},touchmovecaptured:function(t){V(o,t)},touchcancel:function(t){G(o,t)},gesturestart:function(t){Z(o,t)},gesturechange:function(t){X(o,t)},pointerover:function(t){Y(o,t)},MSPointerOver:function(t){Y(o,t)},pointerout:function(t){K(o,t)},MSPointerOut:function(t){K(o,t)},pointerdown:function(t){J(o,t)},MSPointerDown:function(t){J(o,t)},pointerup:function(t){Q(o,t)},MSPointerUp:function(t){Q(o,t)},pointermove:function(t){nt(o,t)},MSPointerMove:function(t){nt(o,t)},pointercancel:function(t){ot(o,t)},MSPointerCancel:function(t){ot(o,t)},pointerupcaptured:function(t){tt(o,t)},pointermovecaptured:function(t){it(o,t)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},i.startDisabled||this.setTracking(!0)},t.MouseTracker.prototype={destroy:function(){var t;for(o(this),this.element=null,t=0;t<e.length;t++)if(e[t]===this){e.splice(t,1);break}n[this.hash]=null,delete n[this.hash]},isTracking:function(){return n[this.hash].tracking},setTracking:function(t){return t?r(this):o(this),this},getActivePointersListsExceptType:function(t){for(var e=n[this.hash],i=[],r=0;r<e.activePointersLists.length;++r)e.activePointersLists[r].type!==t&&i.push(e.activePointersLists[r]);return i},getActivePointersListByType:function(e){var i,r,o=n[this.hash],a=o.activePointersLists.length;for(i=0;i<a;i++)if(o.activePointersLists[i].type===e)return o.activePointersLists[i];return r=new t.MouseTracker.GesturePointList(e),o.activePointersLists.push(r),r},getActivePointerCount:function(){var t,e=n[this.hash],i=e.activePointersLists.length,r=0;for(t=0;t<i;t++)r+=e.activePointersLists[t].getLength();return r},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},t.MouseTracker.resetAllMouseTrackers=function(){for(var t=0;t<e.length;t++)e[t].isTracking()&&(e[t].setTracking(!1),e[t].setTracking(!0))},t.MouseTracker.gesturePointVelocityTracker=function(){var e=[],n=0,i=0,r=function(t,e){return t.hash.toString()+e.type+e.id.toString()},o=function(){var n,r,o,a,s,l,c=e.length,u=t.now();for(a=u-i,i=u,n=0;n<c;n++)r=e[n],o=r.gPoint,o.direction=Math.atan2(o.currentPos.y-r.lastPos.y,o.currentPos.x-r.lastPos.x),s=r.lastPos.distanceTo(o.currentPos),r.lastPos=o.currentPos,l=1e3*s/(a+1),o.speed=.75*l+.25*o.speed},a=function(a,s){var l=r(a,s);e.push({guid:l,gPoint:s,lastPos:s.currentPos}),1===e.length&&(i=t.now(),n=window.setInterval(o,50))},s=function(t,i){var o,a=r(t,i),s=e.length;for(o=0;o<s;o++)if(e[o].guid===a){e.splice(o,1),s--,0===s&&window.clearInterval(n);break}};return{addPoint:a,removePoint:s}}(),t.MouseTracker.captureElement=document,t.MouseTracker.wheelEventName=t.Browser.vendor==t.BROWSERS.IE&&t.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",t.MouseTracker.supportsMouseCapture=function(){var e=document.createElement("div");return t.isFunction(e.setCapture)&&t.isFunction(e.releaseCapture)}(),t.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",t.MouseTracker.wheelEventName],"DOMMouseScroll"==t.MouseTracker.wheelEventName&&t.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||t.Browser.vendor!==t.BROWSERS.IE)?(t.MouseTracker.havePointerEvents=!0,t.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),t.MouseTracker.unprefixedPointerEvents=!0,navigator.maxTouchPoints?t.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:t.MouseTracker.maxTouchPoints=0,t.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(t.MouseTracker.havePointerEvents=!0,t.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),t.MouseTracker.unprefixedPointerEvents=!1,navigator.msMaxTouchPoints?t.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:t.MouseTracker.maxTouchPoints=0,t.MouseTracker.haveMouseEnter=!1):(t.MouseTracker.havePointerEvents=!1,t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<9?(t.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),t.MouseTracker.haveMouseEnter=!0):(t.MouseTracker.subscribeEvents.push("mouseover","mouseout"),t.MouseTracker.haveMouseEnter=!1),t.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&t.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&t.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),t.MouseTracker.mousePointerId="legacy-mouse",t.MouseTracker.maxTouchPoints=10),t.MouseTracker.GesturePointList=function(t){this._gPoints=[],this.type=t,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},t.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(t){return this._gPoints.push(t)},removeById:function(t){var e,n=this._gPoints.length;for(e=0;e<n;e++)if(this._gPoints[e].id===t){this._gPoints.splice(e,1);break}return this._gPoints.length},getByIndex:function(t){return t<this._gPoints.length?this._gPoints[t]:null},getById:function(t){var e,n=this._gPoints.length;for(e=0;e<n;e++)if(this._gPoints[e].id===t)return this._gPoints[e];return null},getPrimary:function(t){var e,n=this._gPoints.length;for(e=0;e<n;e++)if(this._gPoints[e].isPrimary)return this._gPoints[e];return null},addContact:function(){++this.contacts,this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};var gt=function(){try{return window.self!==window.top}catch(t){return!0}}();function vt(t){try{return t.addEventListener&&t.removeEventListener}catch(e){return!1}}}(OpenSeadragon),function(t){t.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},t.Control=function(e,n,i){var r=e.parentNode;"number"===typeof n&&(t.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),n={anchor:n}),n.attachToViewer="undefined"===typeof n.attachToViewer||n.attachToViewer,this.autoFade="undefined"===typeof n.autoFade||n.autoFade,this.element=e,this.anchor=n.anchor,this.container=i,this.anchor==t.ControlAnchor.ABSOLUTE?(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof n.top?n.top+"px":n.top,this.wrapper.style.left="number"==typeof n.left?n.left+"px":n.left,this.wrapper.style.height="number"==typeof n.height?n.height+"px":n.height,this.wrapper.style.width="number"==typeof n.width?n.width+"px":n.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor==t.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),n.attachToViewer?this.anchor==t.ControlAnchor.TOP_RIGHT||this.anchor==t.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):r.appendChild(this.wrapper)},t.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!=this.wrapper.style.display},setVisible:function(e){this.wrapper.style.display=e?this.anchor==t.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(e){this.element[t.SIGNAL]&&t.Browser.vendor==t.BROWSERS.IE?t.setElementOpacity(this.element,e,!0):t.setElementOpacity(this.wrapper,e,!0)}}}(OpenSeadragon),function(t){function e(t,e){var n,i=t.controls;for(n=i.length-1;n>=0;n--)if(i[n].element==e)return n;return-1}t.ControlDock=function(e){var n,i,r=["topleft","topright","bottomright","bottomleft"];for(t.extend(!0,this,{id:"controldock-"+t.now()+"-"+Math.floor(1e6*Math.random()),container:t.makeNeutralElement("div"),controls:[]},e),this.container.onsubmit=function(){return!1},this.element&&(this.element=t.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),i=0;i<r.length;i++)n=r[i],this.controls[n]=t.makeNeutralElement("div"),this.controls[n].style.position="absolute",n.match("left")&&(this.controls[n].style.left="0px"),n.match("right")&&(this.controls[n].style.right="0px"),n.match("top")&&(this.controls[n].style.top="0px"),n.match("bottom")&&(this.controls[n].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},t.ControlDock.prototype={addControl:function(n,i){n=t.getElement(n);var r=null;if(!(e(this,n)>=0)){switch(i.anchor){case t.ControlAnchor.TOP_RIGHT:r=this.controls.topright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingTop="0px";break;case t.ControlAnchor.BOTTOM_RIGHT:r=this.controls.bottomright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingBottom="0px";break;case t.ControlAnchor.BOTTOM_LEFT:r=this.controls.bottomleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingBottom="0px";break;case t.ControlAnchor.TOP_LEFT:r=this.controls.topleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingTop="0px";break;case t.ControlAnchor.ABSOLUTE:r=this.container,n.style.margin="0px",n.style.padding="0px";break;default:case t.ControlAnchor.NONE:r=this.container,n.style.margin="0px",n.style.padding="0px";break}this.controls.push(new t.Control(n,i,r)),n.style.display="inline-block"}},removeControl:function(n){n=t.getElement(n);var i=e(this,n);return i>=0&&(this.controls[i].destroy(),this.controls.splice(i,1)),this},clearControls:function(){while(this.controls.length>0)this.controls.pop().destroy();return this},areControlsEnabled:function(){var t;for(t=this.controls.length-1;t>=0;t--)if(this.controls[t].isVisible())return!0;return!1},setControlsEnabled:function(t){var e;for(e=this.controls.length-1;e>=0;e--)this.controls[e].setVisible(t);return this}}}(OpenSeadragon),function(t){t.Placement=t.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function(t){var e={},n=1;function i(e){return e=t.getElement(e),new t.Point(0===e.clientWidth?1:e.clientWidth,0===e.clientHeight?1:e.clientHeight)}function r(e,n,i,r,o){var a=e;if("string"==t.type(n))if(n.match(/^\s*<.*>\s*$/))n=t.parseXml(n);else if(n.match(/^\s*[\{\[].*[\}\]]\s*$/))try{var s=t.parseJSON(n);n=s}catch(c){}function l(t,e){t.ready?r(t):(t.addHandler("ready",function(){r(t)}),t.addHandler("open-failed",function(t){o({message:t.message,source:e})}))}setTimeout(function(){if("string"==t.type(n))n=new t.TileSource({url:n,crossOriginPolicy:void 0!==i.crossOriginPolicy?i.crossOriginPolicy:e.crossOriginPolicy,ajaxWithCredentials:e.ajaxWithCredentials,ajaxHeaders:e.ajaxHeaders,useCanvas:e.useCanvas,success:function(t){r(t.tileSource)}}),n.addHandler("open-failed",function(t){o(t)});else if(t.isPlainObject(n)||n.nodeType)if(void 0!==n.crossOriginPolicy||void 0===i.crossOriginPolicy&&void 0===e.crossOriginPolicy||(n.crossOriginPolicy=void 0!==i.crossOriginPolicy?i.crossOriginPolicy:e.crossOriginPolicy),void 0===n.ajaxWithCredentials&&(n.ajaxWithCredentials=e.ajaxWithCredentials),void 0===n.useCanvas&&(n.useCanvas=e.useCanvas),t.isFunction(n.getTileUrl)){var s=new t.TileSource(n);s.getTileUrl=n.getTileUrl,r(s)}else{var c=t.TileSource.determineType(a,n);if(!c)return void o({message:"Unable to load TileSource",source:n});var u=c.prototype.configure.apply(a,[n]);l(new c(u),n)}else l(n,n)})}function o(e,n){if(n instanceof t.Overlay)return n;var i=null;if(n.element)i=t.getElement(n.element);else{var r=n.id?n.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());i=t.getElement(n.id),i||(i=document.createElement("a"),i.href="#/overlay/"+r),i.id=r,t.addClass(i,n.className?n.className:"openseadragon-overlay")}var o=n.location,a=n.width,s=n.height;if(!o){var l=n.x,c=n.y;if(void 0!==n.px){var u=e.viewport.imageToViewportRectangle(new t.Rect(n.px,n.py,a||0,s||0));l=u.x,c=u.y,a=void 0!==a?u.width:void 0,s=void 0!==s?u.height:void 0}o=new t.Point(l,c)}var h=n.placement;return h&&"string"===t.type(h)&&(h=t.Placement[n.placement.toUpperCase()]),new t.Overlay({element:i,location:o,placement:h,onDraw:n.onDraw,checkResize:n.checkResize,width:a,height:s,rotationMode:n.rotationMode})}function a(t,e){var n;for(n=t.length-1;n>=0;n--)if(t[n].element===e)return n;return-1}function s(e,n){return t.requestAnimationFrame(function(){n(e)})}function l(e){t.requestAnimationFrame(function(){u(e)})}function c(e){e.autoHideControls&&(e.controlsShouldFade=!0,e.controlsFadeBeginTime=t.now()+e.controlsFadeDelay,window.setTimeout(function(){l(e)},e.controlsFadeDelay))}function u(e){var n,i,r,o;if(e.controlsShouldFade){for(n=t.now(),i=n-e.controlsFadeBeginTime,r=1-i/e.controlsFadeLength,r=Math.min(1,r),r=Math.max(0,r),o=e.controls.length-1;o>=0;o--)e.controls[o].autoFade&&e.controls[o].setOpacity(r);r>0&&l(e)}}function h(t){var e;for(t.controlsShouldFade=!1,e=t.controls.length-1;e>=0;e--)t.controls[e].setOpacity(1)}function f(){h(this)}function p(){c(this)}function d(e){var n={originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction,preventVerticalPan:e.preventVerticalPan,preventHorizontalPan:e.preventHorizontalPan};if(this.raiseEvent("canvas-key",n),n.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 38:return n.preventVerticalPan||(e.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 40:return n.preventVerticalPan||(e.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 37:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;case 39:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;default:return!0}}function g(e){var n={originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction,preventVerticalPan:e.preventVerticalPan,preventHorizontalPan:e.preventHorizontalPan};if(this.raiseEvent("canvas-key",n),n.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return n.preventVerticalPan||(e.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-40))),this.viewport.applyConstraints()),!1;case 115:case 83:return n.preventVerticalPan||(e.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,40))),this.viewport.applyConstraints()),!1;case 97:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-40,0))),this.viewport.applyConstraints()),!1;case 100:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(40,0))),this.viewport.applyConstraints()),!1;case 114:return this.viewport.flipped?this.viewport.setRotation(this.viewport.degrees-90):this.viewport.setRotation(this.viewport.degrees+90),this.viewport.applyConstraints(),!1;case 82:return this.viewport.flipped?this.viewport.setRotation(this.viewport.degrees+90):this.viewport.setRotation(this.viewport.degrees-90),this.viewport.applyConstraints(),!1;case 102:return this.viewport.toggleFlip(),!1;default:return!0}}function v(t){var e,n=document.activeElement==this.canvas;n||this.canvas.focus(),this.viewport.flipped&&(t.position.x=this.viewport.getContainerSize().x-t.position.x);var i={tracker:t.eventSource,position:t.position,quick:t.quick,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction};this.raiseEvent("canvas-click",i),!i.preventDefaultAction&&this.viewport&&t.quick&&(e=this.gestureSettingsByDeviceType(t.pointerType),e.clickToZoom&&(this.viewport.zoomBy(t.shift?1/this.zoomPerClick:this.zoomPerClick,e.zoomToRefPoint?this.viewport.pointFromPixel(t.position,!0):null),this.viewport.applyConstraints()))}function m(t){var e,n={tracker:t.eventSource,position:t.position,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction};this.raiseEvent("canvas-double-click",n),!n.preventDefaultAction&&this.viewport&&(e=this.gestureSettingsByDeviceType(t.pointerType),e.dblClickToZoom&&(this.viewport.zoomBy(t.shift?1/this.zoomPerClick:this.zoomPerClick,e.zoomToRefPoint?this.viewport.pointFromPixel(t.position,!0):null),this.viewport.applyConstraints()))}function y(t){var e,n={tracker:t.eventSource,position:t.position,delta:t.delta,speed:t.speed,direction:t.direction,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction};if(this.raiseEvent("canvas-drag",n),!n.preventDefaultAction&&this.viewport){if(e=this.gestureSettingsByDeviceType(t.pointerType),this.panHorizontal||(t.delta.x=0),this.panVertical||(t.delta.y=0),this.viewport.flipped&&(t.delta.x=-t.delta.x),this.constrainDuringPan){var i=this.viewport.deltaPointsFromPixels(t.delta.negate());this.viewport.centerSpringX.target.value+=i.x,this.viewport.centerSpringY.target.value+=i.y;var r=this.viewport.getBounds(),o=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=i.x,this.viewport.centerSpringY.target.value-=i.y,r.x!=o.x&&(t.delta.x=0),r.y!=o.y&&(t.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(t.delta.negate()),e.flickEnabled&&!this.constrainDuringPan)}}function _(e){if(!e.preventDefaultAction&&this.viewport){var n=this.gestureSettingsByDeviceType(e.pointerType);if(n.flickEnabled&&e.speed>=n.flickMinSpeed){var i=0;this.panHorizontal&&(i=n.flickMomentum*e.speed*Math.cos(e.direction));var r=0;this.panVertical&&(r=n.flickMomentum*e.speed*Math.sin(e.direction));var o=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),a=this.viewport.pointFromPixel(new t.Point(o.x-i,o.y-r));this.viewport.panTo(a,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{tracker:e.eventSource,position:e.position,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent})}function w(t){this.raiseEvent("canvas-enter",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function b(e){window.location!=window.parent.location&&t.MouseTracker.resetAllMouseTrackers(),this.raiseEvent("canvas-exit",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function x(t){this.raiseEvent("canvas-press",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,insideElementPressed:t.insideElementPressed,insideElementReleased:t.insideElementReleased,originalEvent:t.originalEvent})}function T(t){this.raiseEvent("canvas-release",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,insideElementPressed:t.insideElementPressed,insideElementReleased:t.insideElementReleased,originalEvent:t.originalEvent})}function S(t){this.raiseEvent("canvas-nonprimary-press",{tracker:t.eventSource,position:t.position,pointerType:t.pointerType,button:t.button,buttons:t.buttons,originalEvent:t.originalEvent})}function E(t){this.raiseEvent("canvas-nonprimary-release",{tracker:t.eventSource,position:t.position,pointerType:t.pointerType,button:t.button,buttons:t.buttons,originalEvent:t.originalEvent})}function C(t){var e,n,i,r;if(!t.preventDefaultAction&&this.viewport&&(e=this.gestureSettingsByDeviceType(t.pointerType),e.pinchToZoom&&(n=this.viewport.pointFromPixel(t.center,!0),i=this.viewport.pointFromPixel(t.lastCenter,!0),r=i.minus(n),this.panHorizontal||(r.x=0),this.panVertical||(r.y=0),this.viewport.zoomBy(t.distance/t.lastDistance,n,!0),e.zoomToRefPoint&&this.viewport.panBy(r,!0),this.viewport.applyConstraints()),e.pinchRotate)){var o=Math.atan2(t.gesturePoints[0].currentPos.y-t.gesturePoints[1].currentPos.y,t.gesturePoints[0].currentPos.x-t.gesturePoints[1].currentPos.x),a=Math.atan2(t.gesturePoints[0].lastPos.y-t.gesturePoints[1].lastPos.y,t.gesturePoints[0].lastPos.x-t.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(o-a)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:t.eventSource,gesturePoints:t.gesturePoints,lastCenter:t.lastCenter,center:t.center,lastDistance:t.lastDistance,distance:t.distance,shift:t.shift,originalEvent:t.originalEvent}),!1}function P(e){var n,i,r,o;if(r=t.now(),o=r-this._lastScrollTime,o>this.minScrollDeltaTime){if(this._lastScrollTime=r,this.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x),!e.preventDefaultAction&&this.viewport&&(n=this.gestureSettingsByDeviceType(e.pointerType),n.scrollToZoom&&(i=Math.pow(this.zoomPerScroll,e.scroll),this.viewport.zoomBy(i,n.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints())),this.raiseEvent("canvas-scroll",{tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent}),n&&n.scrollToZoom)return!1}else if(n=this.gestureSettingsByDeviceType(e.pointerType),n&&n.scrollToZoom)return!1}function k(t){e[this.hash].mouseInside=!0,h(this),this.raiseEvent("container-enter",{tracker:t.eventSource,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function A(t){t.pointers<1&&(e[this.hash].mouseInside=!1,e[this.hash].animating||c(this)),this.raiseEvent("container-exit",{tracker:t.eventSource,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function O(t){R(t),t.isOpen()?t._updateRequestId=s(t,O):t._updateRequestId=!1}function R(t){if(!t._opening){if(t.autoResize){var n=i(t.container),r=e[t.hash].prevContainerSize;if(!n.equals(r)){var o=t.viewport;if(t.preserveImageSizeOnResize){var a=r.x/n.x,s=o.getZoom()*a,l=o.getCenter();o.resize(n,!1),o.zoomTo(s,null,!0),o.panTo(l,!0)}else{var u=o.getBounds();o.resize(n,!0),o.fitBoundsWithConstraints(u,!0)}e[t.hash].prevContainerSize=n,e[t.hash].forceRedraw=!0}}var f=t.viewport.update(),p=t.world.update()||f;f&&t.raiseEvent("viewport-change"),t.referenceStrip&&(p=t.referenceStrip.update(t.viewport)||p),!e[t.hash].animating&&p&&(t.raiseEvent("animation-start"),h(t)),(p||e[t.hash].forceRedraw||t.world.needsDraw())&&(L(t),t._drawOverlays(),t.navigator&&t.navigator.update(t.viewport),e[t.hash].forceRedraw=!1,p&&t.raiseEvent("animation")),e[t.hash].animating&&!p&&(t.raiseEvent("animation-finish"),e[t.hash].mouseInside||c(t)),e[t.hash].animating=p}}function L(t){t.imageLoader.clear(),t.drawer.clear(),t.world.draw(),t.raiseEvent("update-viewport",{})}function N(t,e){return t?t+e:e}function I(){e[this.hash].lastZoomTime=t.now(),e[this.hash].zoomFactor=this.zoomPerSecond,e[this.hash].zooming=!0,j(this)}function M(){e[this.hash].lastZoomTime=t.now(),e[this.hash].zoomFactor=1/this.zoomPerSecond,e[this.hash].zooming=!0,j(this)}function D(){e[this.hash].zooming=!1}function j(e){t.requestAnimationFrame(t.delegate(e,B))}function B(){var n,i,r;e[this.hash].zooming&&this.viewport&&(n=t.now(),i=n-e[this.hash].lastZoomTime,r=Math.pow(e[this.hash].zoomFactor,i/1e3),this.viewport.zoomBy(r),this.viewport.applyConstraints(),e[this.hash].lastZoomTime=n,j(this))}function H(){this.viewport&&(e[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function F(){this.viewport&&(e[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function z(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function U(){this.viewport&&this.viewport.goHome()}function q(){this.isFullPage()&&!t.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function $(){if(this.viewport){var e=this.viewport.getRotation();e=this.viewport.flipped?t.positiveModulo(e+90,360):t.positiveModulo(e-90,360),this.viewport.setRotation(e)}}function V(){if(this.viewport){var e=this.viewport.getRotation();e=this.viewport.flipped?t.positiveModulo(e-90,360):t.positiveModulo(e+90,360),this.viewport.setRotation(e)}}function W(){this.viewport.toggleFlip()}function G(){var t=this._sequenceIndex-1;this.navPrevNextWrap&&t<0&&(t+=this.tileSources.length),this.goToPage(t)}function Z(){var t=this._sequenceIndex+1;this.navPrevNextWrap&&t>=this.tileSources.length&&(t=0),this.goToPage(t)}t.Viewer=function(r){var o,a=arguments,l=this;if(t.isPlainObject(r)||(r={id:a[0],xmlPath:a.length>1?a[1]:void 0,prefixUrl:a.length>2?a[2]:void 0,controls:a.length>3?a[3]:void 0,overlays:a.length>4?a[4]:void 0}),r.config&&(t.extend(!0,r,r.config),delete r.config),t.extend(!0,this,{id:r.id,hash:r.hash||n++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},t.DEFAULT_SETTINGS,r),"undefined"===typeof this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for("undefined"!==typeof e[this.hash]&&t.console.warn("Hash "+this.hash+" has already been used."),e[this.hash]={fsBoundsDelta:new t.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=t.now(),t.EventSource.call(this),this.addHandler("open-failed",function(e){var n=t.getString("Errors.OpenFailed",e.eventSource,e.message);l._showMessage(n)}),t.ControlDock.call(this,r),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=t.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(t){t.width="100%",t.height="100%",t.overflow="hidden",t.position="absolute",t.top="0px",t.left="0px"}(this.canvas.style),t.setElementTouchActionNone(this.canvas),""!==r.tabIndex&&(this.canvas.tabIndex=void 0===r.tabIndex?0:r.tabIndex),this.container.className="openseadragon-container",function(t){t.width="100%",t.height="100%",t.position="relative",t.overflow="hidden",t.left="0px",t.top="0px",t.textAlign="left"}(this.container.style),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new t.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:t.delegate(this,d),keyHandler:t.delegate(this,g),clickHandler:t.delegate(this,v),dblClickHandler:t.delegate(this,m),dragHandler:t.delegate(this,y),dragEndHandler:t.delegate(this,_),enterHandler:t.delegate(this,w),exitHandler:t.delegate(this,b),pressHandler:t.delegate(this,x),releaseHandler:t.delegate(this,T),nonPrimaryPressHandler:t.delegate(this,S),nonPrimaryReleaseHandler:t.delegate(this,E),scrollHandler:t.delegate(this,P),pinchHandler:t.delegate(this,C)}),this.outerTracker=new t.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:t.delegate(this,k),exitHandler:t.delegate(this,A)}),this.toolbar&&(this.toolbar=new t.ControlDock({element:this.toolbar})),this.bindStandardControls(),e[this.hash].prevContainerSize=i(this.container),this.world=new t.World({viewer:this}),this.world.addHandler("add-item",function(t){l.source=l.world.getItemAt(0).source,e[l.hash].forceRedraw=!0,l._updateRequestId||(l._updateRequestId=s(l,O))}),this.world.addHandler("remove-item",function(t){l.world.getItemCount()?l.source=l.world.getItemAt(0).source:l.source=null,e[l.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(t){l.viewport&&l.viewport._setContentBounds(l.world.getHomeBounds(),l.world.getContentFactor())}),this.world.addHandler("item-index-change",function(t){l.source=l.world.getItemAt(0).source}),this.viewport=new t.Viewport({containerSize:e[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new t.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:r.timeout}),this.tileCache=new t.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new t.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=t.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(o=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(o,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(o=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(o,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new t.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),o=0;o<this.customControls.length;o++)this.addControl(this.customControls[o].id,{anchor:this.customControls[o].anchor});t.requestAnimationFrame(function(){c(l)})},t.extend(t.Viewer.prototype,t.EventSource.prototype,t.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(e){return t.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(e)},openTileSource:function(e){return t.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(e)},open:function(e,n){var i=this;if(this.close(),e){if(this.sequenceMode&&t.isArray(e))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),"undefined"==typeof n||isNaN(n)||(this.initialPage=n),this.tileSources=e,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),void this._updateSequenceButtons(this._sequenceIndex);if(t.isArray(e)||(e=[e]),e.length){this._opening=!0;for(var r,a=e.length,s=0,l=0,c=function(){if(s+l===a)if(s){!i._firstOpen&&i.preserveViewport||(i.viewport.goHome(!0),i.viewport.update()),i._firstOpen=!1;var t=e[0];if(t.tileSource&&(t=t.tileSource),i.overlays&&!i.preserveOverlays)for(var n=0;n<i.overlays.length;n++)i.currentOverlays[n]=o(i,i.overlays[n]);i._drawOverlays(),i._opening=!1,i.raiseEvent("open",{source:t})}else i._opening=!1,i.raiseEvent("open-failed",r)},u=function(e){t.isPlainObject(e)&&e.tileSource||(e={tileSource:e}),void 0!==e.index&&(t.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete e.index),void 0===e.collectionImmediately&&(e.collectionImmediately=!0);var n=e.success;e.success=function(t){if(s++,e.tileSource.overlays)for(var r=0;r<e.tileSource.overlays.length;r++)i.addOverlay(e.tileSource.overlays[r]);n&&n(t),c()};var o=e.error;e.error=function(t){l++,r||(r=t),o&&o(t),c()},i.addTiledImage(e)},h=0;h<e.length;h++)u(e[h]);return this}}},close:function(){return e[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),e[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(e[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(t.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)while(this.element.firstChild)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),e[this.hash]=null,delete e[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(t){return this.innerTracker.setTracking(t),this.outerTracker.setTracking(t),this.raiseEvent("mouse-enabled",{enabled:t}),this},areControlsEnabled:function(){var t,e=this.controls.length;for(t=0;t<this.controls.length;t++)e=e&&this.controls[t].isVisibile();return e},setControlsEnabled:function(t){return t?h(this):c(this),this.raiseEvent("controls-enabled",{enabled:t}),this},setDebugMode:function(t){for(var e=0;e<this.world.getItemCount();e++)this.world.getItemAt(e).debugMode=t;this.debugMode=t,this.forceRedraw()},isFullPage:function(){return e[this.hash].fullPage},setFullPage:function(n){var i,r,o=document.body,a=o.style,s=document.documentElement.style,l=this;if(n==this.isFullPage())return this;var c={fullPage:n,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",c),c.preventDefaultAction)return this;if(n){for(this.elementSize=t.getElementSize(this.element),this.pageScroll=t.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=a.margin,this.docMargin=s.margin,a.margin="0",s.margin="0",this.bodyPadding=a.padding,this.docPadding=s.padding,a.padding="0",s.padding="0",this.bodyWidth=a.width,this.docWidth=s.width,a.width="100%",s.width="100%",this.bodyHeight=a.height,this.docHeight=s.height,a.height="100%",s.height="100%",this.previousBody=[],e[this.hash].prevElementParent=this.element.parentNode,e[this.hash].prevNextSibling=this.element.nextSibling,e[this.hash].prevElementWidth=this.element.style.width,e[this.hash].prevElementHeight=this.element.style.height,i=o.childNodes.length,r=0;r<i;r++)this.previousBody.push(o.childNodes[0]),o.removeChild(o.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,o.appendChild(this.toolbar.element),t.addClass(this.toolbar.element,"fullpage")),t.addClass(this.element,"fullpage"),o.appendChild(this.element),this.element.style.height=t.getWindowSize().y+"px",this.element.style.width=t.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=t.getElementSize(this.element).y-t.getElementSize(this.toolbar.element).y+"px"),e[this.hash].fullPage=!0,t.delegate(this,k)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,a.margin=this.bodyMargin,s.margin=this.docMargin,a.padding=this.bodyPadding,s.padding=this.docPadding,a.width=this.bodyWidth,s.width=this.docWidth,a.height=this.bodyHeight,s.height=this.docHeight,o.removeChild(this.element),i=this.previousBody.length,r=0;r<i;r++)o.appendChild(this.previousBody.shift());t.removeClass(this.element,"fullpage"),e[this.hash].prevElementParent.insertBefore(this.element,e[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(o.removeChild(this.toolbar.element),t.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=e[this.hash].prevElementWidth,this.element.style.height=e[this.hash].prevElementHeight;var u=0,h=function(){t.setPageScroll(l.pageScroll);var e=t.getPageScroll();u++,u<10&&(e.x!==l.pageScroll.x||e.y!==l.pageScroll.y)&&t.requestAnimationFrame(h)};t.requestAnimationFrame(h),e[this.hash].fullPage=!1,t.delegate(this,A)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:n}),this},setFullScreen:function(e){var n=this;if(!t.supportsFullScreen)return this.setFullPage(e);if(t.isFullScreen()===e)return this;var i={fullScreen:e,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",i),i.preventDefaultAction)return this;if(e){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var r=function(){var e=t.isFullScreen();e||(t.removeEvent(document,t.fullScreenEventName,r),t.removeEvent(document,t.fullScreenErrorEventName,r),n.setFullPage(!1),n.isFullPage()&&(n.element.style.width=n.fullPageStyleWidth,n.element.style.height=n.fullPageStyleHeight)),n.navigator&&n.viewport&&n.navigator.update(n.viewport),n.raiseEvent("full-screen",{fullScreen:e})};t.addEvent(document,t.fullScreenEventName,r),t.addEvent(document,t.fullScreenErrorEventName,r),t.requestFullScreen(document.body)}else t.exitFullScreen();return this},isVisible:function(){return"hidden"!=this.container.style.visibility},setVisible:function(t){return this.container.style.visibility=t?"":"hidden",this.raiseEvent("visible",{visible:t}),this},addTiledImage:function(e){t.console.assert(e,"[Viewer.addTiledImage] options is required"),t.console.assert(e.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),t.console.assert(!e.replace||e.index>-1&&e.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var n=this;e.replace&&(e.replaceItem=n.world.getItemAt(e.index)),this._hideMessage(),void 0===e.placeholderFillStyle&&(e.placeholderFillStyle=this.placeholderFillStyle),void 0===e.opacity&&(e.opacity=this.opacity),void 0===e.preload&&(e.preload=this.preload),void 0===e.compositeOperation&&(e.compositeOperation=this.compositeOperation),void 0===e.crossOriginPolicy&&(e.crossOriginPolicy=void 0!==e.tileSource.crossOriginPolicy?e.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===e.ajaxWithCredentials&&(e.ajaxWithCredentials=this.ajaxWithCredentials),void 0===e.loadTilesWithAjax&&(e.loadTilesWithAjax=this.loadTilesWithAjax),void 0===e.ajaxHeaders||null===e.ajaxHeaders?e.ajaxHeaders=this.ajaxHeaders:t.isPlainObject(e.ajaxHeaders)&&t.isPlainObject(this.ajaxHeaders)&&(e.ajaxHeaders=t.extend({},this.ajaxHeaders,e.ajaxHeaders));var i={options:e};function o(t){for(var r=0;r<n._loadQueue.length;r++)if(n._loadQueue[r]===i){n._loadQueue.splice(r,1);break}0===n._loadQueue.length&&a(i),n.raiseEvent("add-item-failed",t),e.error&&e.error(t)}function a(t){n.collectionMode&&(n.world.arrange({immediately:t.options.collectionImmediately,rows:n.collectionRows,columns:n.collectionColumns,layout:n.collectionLayout,tileSize:n.collectionTileSize,tileMargin:n.collectionTileMargin}),n.world.setAutoRefigureSizes(!0))}function s(){var e,i,r;while(n._loadQueue.length){if(e=n._loadQueue[0],!e.tileSource)break;if(n._loadQueue.splice(0,1),e.options.replace){var o=n.world.getIndexOfItem(e.options.replaceItem);-1!=o&&(e.options.index=o),n.world.removeItem(e.options.replaceItem)}i=new t.TiledImage({viewer:n,source:e.tileSource,viewport:n.viewport,drawer:n.drawer,tileCache:n.tileCache,imageLoader:n.imageLoader,x:e.options.x,y:e.options.y,width:e.options.width,height:e.options.height,fitBounds:e.options.fitBounds,fitBoundsPlacement:e.options.fitBoundsPlacement,clip:e.options.clip,placeholderFillStyle:e.options.placeholderFillStyle,opacity:e.options.opacity,preload:e.options.preload,degrees:e.options.degrees,compositeOperation:e.options.compositeOperation,springStiffness:n.springStiffness,animationTime:n.animationTime,minZoomImageRatio:n.minZoomImageRatio,wrapHorizontal:n.wrapHorizontal,wrapVertical:n.wrapVertical,immediateRender:n.immediateRender,blendTime:n.blendTime,alwaysBlend:n.alwaysBlend,minPixelRatio:n.minPixelRatio,smoothTileEdgesMinZoom:n.smoothTileEdgesMinZoom,iOSDevice:n.iOSDevice,crossOriginPolicy:e.options.crossOriginPolicy,ajaxWithCredentials:e.options.ajaxWithCredentials,loadTilesWithAjax:e.options.loadTilesWithAjax,ajaxHeaders:e.options.ajaxHeaders,debugMode:n.debugMode}),n.collectionMode&&n.world.setAutoRefigureSizes(!1),n.world.addItem(i,{index:e.options.index}),0===n._loadQueue.length&&a(e),1!==n.world.getItemCount()||n.preserveViewport||n.viewport.goHome(!0),n.navigator&&(r=t.extend({},e.options,{replace:!1,originalTiledImage:i,tileSource:e.tileSource}),n.navigator.addTiledImage(r)),e.options.success&&e.options.success({item:i})}}t.isArray(e.tileSource)?setTimeout(function(){o({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:e.tileSource,options:e})}):(this._loadQueue.push(i),r(this,e.tileSource,e,function(t){i.tileSource=t,s()},function(t){t.options=e,o(t),s()}))},addSimpleImage:function(e){t.console.assert(e,"[Viewer.addSimpleImage] options is required"),t.console.assert(e.url,"[Viewer.addSimpleImage] options.url is required");var n=t.extend({},e,{tileSource:{type:"image",url:e.url}});delete n.url,this.addTiledImage(n)},addLayer:function(e){var n=this;t.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var i=t.extend({},e,{success:function(t){n.raiseEvent("add-layer",{options:e,drawer:t.item})},error:function(t){n.raiseEvent("add-layer-failed",t)}});return this.addTiledImage(i),this},getLayerAtLevel:function(e){return t.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(e)},getLevelOfLayer:function(e){return t.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(e)},getLayersCount:function(){return t.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(e,n){return t.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(e,n)},removeLayer:function(e){return t.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(e)},forceRedraw:function(){return e[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var e=t.delegate(this,f),n=t.delegate(this,p),i=t.delegate(this,Z),r=t.delegate(this,G),o=this.navImages,a=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(a=!1),this.previousButton=new t.Button({element:this.previousButton?t.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.PreviousPage"),srcRest:N(this.prefixUrl,o.previous.REST),srcGroup:N(this.prefixUrl,o.previous.GROUP),srcHover:N(this.prefixUrl,o.previous.HOVER),srcDown:N(this.prefixUrl,o.previous.DOWN),onRelease:r,onFocus:e,onBlur:n}),this.nextButton=new t.Button({element:this.nextButton?t.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.NextPage"),srcRest:N(this.prefixUrl,o.next.REST),srcGroup:N(this.prefixUrl,o.next.GROUP),srcHover:N(this.prefixUrl,o.next.HOVER),srcDown:N(this.prefixUrl,o.next.DOWN),onRelease:i,onFocus:e,onBlur:n}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),a&&(this.paging=new t.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:t.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||t.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var e=t.delegate(this,I),n=t.delegate(this,D),i=t.delegate(this,H),r=t.delegate(this,M),o=t.delegate(this,F),a=t.delegate(this,U),s=t.delegate(this,q),l=t.delegate(this,$),c=t.delegate(this,V),u=t.delegate(this,W),h=t.delegate(this,f),d=t.delegate(this,p),g=this.navImages,v=[],m=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(m=!1),this.showZoomControl&&(v.push(this.zoomInButton=new t.Button({element:this.zoomInButton?t.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomIn"),srcRest:N(this.prefixUrl,g.zoomIn.REST),srcGroup:N(this.prefixUrl,g.zoomIn.GROUP),srcHover:N(this.prefixUrl,g.zoomIn.HOVER),srcDown:N(this.prefixUrl,g.zoomIn.DOWN),onPress:e,onRelease:n,onClick:i,onEnter:e,onExit:n,onFocus:h,onBlur:d})),v.push(this.zoomOutButton=new t.Button({element:this.zoomOutButton?t.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomOut"),srcRest:N(this.prefixUrl,g.zoomOut.REST),srcGroup:N(this.prefixUrl,g.zoomOut.GROUP),srcHover:N(this.prefixUrl,g.zoomOut.HOVER),srcDown:N(this.prefixUrl,g.zoomOut.DOWN),onPress:r,onRelease:n,onClick:o,onEnter:r,onExit:n,onFocus:h,onBlur:d}))),this.showHomeControl&&v.push(this.homeButton=new t.Button({element:this.homeButton?t.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Home"),srcRest:N(this.prefixUrl,g.home.REST),srcGroup:N(this.prefixUrl,g.home.GROUP),srcHover:N(this.prefixUrl,g.home.HOVER),srcDown:N(this.prefixUrl,g.home.DOWN),onRelease:a,onFocus:h,onBlur:d})),this.showFullPageControl&&v.push(this.fullPageButton=new t.Button({element:this.fullPageButton?t.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.FullPage"),srcRest:N(this.prefixUrl,g.fullpage.REST),srcGroup:N(this.prefixUrl,g.fullpage.GROUP),srcHover:N(this.prefixUrl,g.fullpage.HOVER),srcDown:N(this.prefixUrl,g.fullpage.DOWN),onRelease:s,onFocus:h,onBlur:d})),this.showRotationControl&&(v.push(this.rotateLeftButton=new t.Button({element:this.rotateLeftButton?t.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateLeft"),srcRest:N(this.prefixUrl,g.rotateleft.REST),srcGroup:N(this.prefixUrl,g.rotateleft.GROUP),srcHover:N(this.prefixUrl,g.rotateleft.HOVER),srcDown:N(this.prefixUrl,g.rotateleft.DOWN),onRelease:l,onFocus:h,onBlur:d})),v.push(this.rotateRightButton=new t.Button({element:this.rotateRightButton?t.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateRight"),srcRest:N(this.prefixUrl,g.rotateright.REST),srcGroup:N(this.prefixUrl,g.rotateright.GROUP),srcHover:N(this.prefixUrl,g.rotateright.HOVER),srcDown:N(this.prefixUrl,g.rotateright.DOWN),onRelease:c,onFocus:h,onBlur:d}))),this.showFlipControl&&v.push(this.flipButton=new t.Button({element:this.flipButton?t.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Flip"),srcRest:N(this.prefixUrl,g.flip.REST),srcGroup:N(this.prefixUrl,g.flip.GROUP),srcHover:N(this.prefixUrl,g.flip.HOVER),srcDown:N(this.prefixUrl,g.flip.DOWN),onRelease:u,onFocus:h,onBlur:d})),m&&(this.buttons=new t.ButtonGroup({buttons:v,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",t.delegate(this,z)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function(t){return this.tileSources&&t>=0&&t<this.tileSources.length&&(this._sequenceIndex=t,this._updateSequenceButtons(t),this.open(this.tileSources[t]),this.referenceStrip&&this.referenceStrip.setFocus(t),this.raiseEvent("page",{page:t})),this},addOverlay:function(e,n,i,r){var s;if(s=t.isPlainObject(e)?e:{element:e,location:n,placement:i,onDraw:r},e=t.getElement(s.element),a(this.currentOverlays,e)>=0)return this;var l=o(this,s);return this.currentOverlays.push(l),l.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:e,location:s.location,placement:s.placement}),this},updateOverlay:function(n,i,r){var o;return n=t.getElement(n),o=a(this.currentOverlays,n),o>=0&&(this.currentOverlays[o].update(i,r),e[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:n,location:i,placement:r})),this},removeOverlay:function(n){var i;return n=t.getElement(n),i=a(this.currentOverlays,n),i>=0&&(this.currentOverlays[i].destroy(),this.currentOverlays.splice(i,1),e[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:n})),this},clearOverlays:function(){while(this.currentOverlays.length>0)this.currentOverlays.pop().destroy();return e[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(e){var n;return e=t.getElement(e),n=a(this.currentOverlays,e),n>=0?this.currentOverlays[n]:null},_updateSequenceButtons:function(t){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==t?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(t>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(e){this._hideMessage();var n=t.makeNeutralElement("div");n.appendChild(document.createTextNode(e)),this.messageDiv=t.makeCenteredNode(n),t.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var t=this.messageDiv;t&&(t.parentNode.removeChild(t),delete this.messageDiv)},gestureSettingsByDeviceType:function(t){switch(t){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var t,e=this.currentOverlays.length;for(t=0;t<e;t++)this.currentOverlays[t].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new t.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else t.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')}})}(OpenSeadragon),function(t){function e(t){var e={tracker:t.eventSource,position:t.position,quick:t.quick,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction};if(this.viewer.raiseEvent("navigator-click",e),!e.preventDefaultAction&&t.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(t.position.x=this.viewport.getContainerSize().x-t.position.x);var n=this.viewport.pointFromPixel(t.position);this.panVertical?this.panHorizontal||(n.x=this.viewer.viewport.getCenter(!0).x):n.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(n),this.viewer.viewport.applyConstraints()}}function n(t){var e={tracker:t.eventSource,position:t.position,delta:t.delta,speed:t.speed,direction:t.direction,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction};this.viewer.raiseEvent("navigator-drag",e),!e.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(t.delta.x=0),this.panVertical||(t.delta.y=0),this.viewer.viewport.flipped&&(t.delta.x=-t.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(t.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function i(t){t.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function r(t){return this.viewer.raiseEvent("navigator-scroll",{tracker:t.eventSource,position:t.position,scroll:t.scroll,shift:t.shift,originalEvent:t.originalEvent}),!1}function o(t,e){a(t,"rotate("+e+"deg)")}function a(t,e){t.style.webkitTransform=e,t.style.mozTransform=e,t.style.msTransform=e,t.style.oTransform=e,t.style.transform=e}t.Navigator=function(a){var s,l,c=a.viewer,u=this;function h(t){o(u.displayRegionContainer,t),o(u.displayRegion,-t),u.viewport.setRotation(t)}if(a.id?(this.element=document.getElementById(a.id),a.controlOptions={anchor:t.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(a.id="navigator-"+t.now(),this.element=t.makeNeutralElement("div"),a.controlOptions={anchor:t.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:a.autoFade},a.position&&("BOTTOM_RIGHT"==a.position?a.controlOptions.anchor=t.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"==a.position?a.controlOptions.anchor=t.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"==a.position?a.controlOptions.anchor=t.ControlAnchor.TOP_RIGHT:"TOP_LEFT"==a.position?a.controlOptions.anchor=t.ControlAnchor.TOP_LEFT:"ABSOLUTE"==a.position&&(a.controlOptions.anchor=t.ControlAnchor.ABSOLUTE,a.controlOptions.top=a.top,a.controlOptions.left=a.left,a.controlOptions.height=a.height,a.controlOptions.width=a.width))),this.element.id=a.id,this.element.className+=" navigator",a=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.navigatorSizeRatio},a,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:a.autoResize,minZoomImageRatio:1,background:a.background,opacity:a.opacity,borderColor:a.borderColor,displayRegionColor:a.displayRegionColor}),a.minPixelRatio=this.minPixelRatio=c.minPixelRatio,t.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new t.Point(1,1),this.totalBorderWidths=new t.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),a.controlOptions.anchor!=t.ControlAnchor.NONE&&function(t,e){t.margin="0px",t.border=e+"px solid "+a.borderColor,t.padding="0px",t.background=a.background,t.opacity=a.opacity,t.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=t.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(t,e){t.position="relative",t.top="0px",t.left="0px",t.fontSize="0px",t.overflow="hidden",t.border=e+"px solid "+a.displayRegionColor,t.margin="0px",t.padding="0px",t.background="transparent",t["float"]="left",t.cssFloat="left",t.styleFloat="left",t.zIndex=999999999,t.cursor="default"}(this.displayRegion.style,this.borderWidth),this.displayRegionContainer=t.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",c.addControl(this.element,a.controlOptions),this._resizeWithViewer=a.controlOptions.anchor!=t.ControlAnchor.ABSOLUTE&&a.controlOptions.anchor!=t.ControlAnchor.NONE,this._resizeWithViewer&&(a.width&&a.height?(this.element.style.height="number"==typeof a.height?a.height+"px":a.height,this.element.style.width="number"==typeof a.width?a.width+"px":a.width):(s=t.getElementSize(c.element),this.element.style.height=Math.round(s.y*a.sizeRatio)+"px",this.element.style.width=Math.round(s.x*a.sizeRatio)+"px",this.oldViewerSize=s),l=t.getElementSize(this.element),this.elementArea=l.x*l.y),this.oldContainerSize=new t.Point(0,0),t.Viewer.apply(this,[a]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),a.navigatorRotate){var f=a.viewer.viewport?a.viewer.viewport.getRotation():a.viewer.degrees||0;h(f),a.viewer.addHandler("rotate",function(t){h(t.degrees)})}this.innerTracker.destroy(),this.innerTracker=new t.MouseTracker({element:this.element,dragHandler:t.delegate(this,n),clickHandler:t.delegate(this,e),releaseHandler:t.delegate(this,i),scrollHandler:t.delegate(this,r)}),this.addHandler("reset-size",function(){u.viewport&&u.viewport.goHome(!0)}),c.world.addHandler("item-index-change",function(t){window.setTimeout(function(){var e=u.world.getItemAt(t.previousIndex);u.world.setItemIndex(e,t.newIndex)},1)}),c.world.addHandler("remove-item",function(t){var e=t.item,n=u._getMatchingItem(e);n&&u.world.removeItem(n)}),this.update(c.viewport)},t.extend(t.Navigator.prototype,t.EventSource.prototype,t.Viewer.prototype,{updateSize:function(){if(this.viewport){var e=new t.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);e.equals(this.oldContainerSize)||(this.viewport.resize(e,!0),this.viewport.goHome(!0),this.oldContainerSize=e,this.drawer.clear(),this.world.draw())}},setFlip:function(t){return this.viewport.setFlip(t),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(t){a(this.displayRegion,t),a(this.canvas,t),a(this.element,t)},update:function(e){var n,i,r,o,a,s;if(n=t.getElementSize(this.viewer.element),this._resizeWithViewer&&n.x&&n.y&&!n.equals(this.oldViewerSize)&&(this.oldViewerSize=n,this.maintainSizeRatio||!this.elementArea?(i=n.x*this.sizeRatio,r=n.y*this.sizeRatio):(i=Math.sqrt(this.elementArea*(n.x/n.y)),r=this.elementArea/i),this.element.style.width=Math.round(i)+"px",this.element.style.height=Math.round(r)+"px",this.elementArea||(this.elementArea=i*r),this.updateSize()),e&&this.viewport){o=e.getBoundsNoRotate(!0),a=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!1),s=this.viewport.pixelFromPointNoRotate(o.getBottomRight(),!1).minus(this.totalBorderWidths);var l=this.displayRegion.style;l.display=this.world.getItemCount()?"block":"none",l.top=Math.round(a.y)+"px",l.left=Math.round(a.x)+"px";var c=Math.abs(a.x-s.x),u=Math.abs(a.y-s.y);l.width=Math.round(Math.max(c,0))+"px",l.height=Math.round(Math.max(u,0))+"px"}},addTiledImage:function(e){var n=this,i=e.originalTiledImage;delete e.original;var r=t.extend({},e,{success:function(t){var e=t.item;function r(){n._matchBounds(e,i)}function o(){n._matchOpacity(e,i)}function a(){n._matchCompositeOperation(e,i)}e._originalForNavigator=i,n._matchBounds(e,i,!0),i.addHandler("bounds-change",r),i.addHandler("clip-change",r),i.addHandler("opacity-change",o),i.addHandler("composite-operation-change",a)}});return t.Viewer.prototype.addTiledImage.apply(this,[r])},_getMatchingItem:function(t){for(var e,n=this.world.getItemCount(),i=0;i<n;i++)if(e=this.world.getItemAt(i),e._originalForNavigator===t)return e;return null},_matchBounds:function(t,e,n){var i=e.getBoundsNoRotate();t.setPosition(i.getTopLeft(),n),t.setWidth(i.width,n),t.setRotation(e.getRotation(),n),t.setClip(e.getClip())},_matchOpacity:function(t,e){t.setOpacity(e.opacity)},_matchCompositeOperation:function(t,e){t.setCompositeOperation(e.compositeOperation)}})}(OpenSeadragon),function(t){var e={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};t.extend(t,{getString:function(n){var i,r=n.split("."),o=null,a=arguments,s=e;for(i=0;i<r.length-1;i++)s=s[r[i]]||{};return o=s[r[i]],"string"!=typeof o&&(t.console.log("Untranslated source string:",n),o=""),o.replace(/\{\d+\}/g,function(t){var e=parseInt(t.match(/\d+/),10)+1;return e<a.length?a[e]:""})},setString:function(t,n){var i,r=t.split("."),o=e;for(i=0;i<r.length-1;i++)o[r[i]]||(o[r[i]]={}),o=o[r[i]];o[r[i]]=n}})}(OpenSeadragon),function(t){t.Point=function(t,e){this.x="number"==typeof t?t:0,this.y="number"==typeof e?e:0},t.Point.prototype={clone:function(){return new t.Point(this.x,this.y)},plus:function(e){return new t.Point(this.x+e.x,this.y+e.y)},minus:function(e){return new t.Point(this.x-e.x,this.y-e.y)},times:function(e){return new t.Point(this.x*e,this.y*e)},divide:function(e){return new t.Point(this.x/e,this.y/e)},negate:function(){return new t.Point(-this.x,-this.y)},distanceTo:function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},squaredDistanceTo:function(t){return Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2)},apply:function(e){return new t.Point(e(this.x),e(this.y))},equals:function(e){return e instanceof t.Point&&this.x===e.x&&this.y===e.y},rotate:function(e,n){var i,r;if(n=n||new t.Point(0,0),e%90===0){var o=t.positiveModulo(e,360);switch(o){case 0:i=1,r=0;break;case 90:i=0,r=1;break;case 180:i=-1,r=0;break;case 270:i=0,r=-1;break}}else{var a=e*Math.PI/180;i=Math.cos(a),r=Math.sin(a)}var s=i*(this.x-n.x)-r*(this.y-n.y)+n.x,l=r*(this.x-n.x)+i*(this.y-n.y)+n.y;return new t.Point(s,l)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(OpenSeadragon),function(t){function e(e){var n,i,r=e.responseText,o=e.status;if(!e)throw new Error(t.getString("Errors.Security"));if(200!==e.status&&0!==e.status)throw o=e.status,n=404==o?"Not Found":e.statusText,new Error(t.getString("Errors.Status",o,n));if(r.match(/\s*<.*/))try{i=e.responseXML&&e.responseXML.documentElement?e.responseXML:t.parseXml(r)}catch(a){i=e.responseText}else if(r.match(/\s*[\{\[].*/))try{i=t.parseJSON(r)}catch(a){i=r}else i=r;return i}t.TileSource=function(e,n,i,r,o,a){var s,l,c=this,u=arguments;if(s=t.isPlainObject(e)?e:{width:u[0],height:u[1],tileSize:u[2],tileOverlap:u[3],minLevel:u[4],maxLevel:u[5]},t.EventSource.call(this),t.extend(!0,this,s),!this.success)for(l=0;l<arguments.length;l++)if(t.isFunction(arguments[l])){this.success=arguments[l];break}this.success&&this.addHandler("ready",function(t){c.success(t)}),"string"==t.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new t.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=s.width&&s.height?s.width/s.height:1,this.dimensions=new t.Point(s.width,s.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=s.tileOverlap?s.tileOverlap:0,this.minLevel=s.minLevel?s.minLevel:0,this.maxLevel=void 0!==s.maxLevel&&null!==s.maxLevel?s.maxLevel:s.width&&s.height?Math.ceil(Math.log(Math.max(s.width,s.height))/Math.log(2)):0,this.success&&t.isFunction(this.success)&&this.success(this))},t.TileSource.prototype={getTileSize:function(e){return t.console.error("[TileSource.getTileSize] is deprecated.Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(t){return this._tileWidth?this._tileWidth:this.getTileSize(t)},getTileHeight:function(t){return this._tileHeight?this._tileHeight:this.getTileSize(t)},getLevelScale:function(t){var e,n={};for(e=0;e<=this.maxLevel;e++)n[e]=1/Math.pow(2,this.maxLevel-e);return this.getLevelScale=function(t){return n[t]},this.getLevelScale(t)},getNumTiles:function(e){var n=this.getLevelScale(e),i=Math.ceil(n*this.dimensions.x/this.getTileWidth(e)),r=Math.ceil(n*this.dimensions.y/this.getTileHeight(e));return new t.Point(i,r)},getPixelRatio:function(e){var n=this.dimensions.times(this.getLevelScale(e)),i=1/n.x,r=1/n.y;return new t.Point(i,r)},getClosestLevel:function(){var t,e;for(t=this.minLevel+1;t<=this.maxLevel;t++)if(e=this.getNumTiles(t),e.x>1||e.y>1)break;return t-1},getTileAtPoint:function(e,n){var i=n.x>=0&&n.x<=1&&n.y>=0&&n.y<=1/this.aspectRatio;t.console.assert(i,"[TileSource.getTileAtPoint] must be called with a valid point.");var r=this.dimensions.x*this.getLevelScale(e),o=n.x*r,a=n.y*r,s=Math.floor(o/this.getTileWidth(e)),l=Math.floor(a/this.getTileHeight(e));n.x>=1&&(s=this.getNumTiles(e).x-1);var c=1e-15;return n.y>=1/this.aspectRatio-c&&(l=this.getNumTiles(e).y-1),new t.Point(s,l)},getTileBounds:function(e,n,i,r){var o=this.dimensions.times(this.getLevelScale(e)),a=this.getTileWidth(e),s=this.getTileHeight(e),l=0===n?0:a*n-this.tileOverlap,c=0===i?0:s*i-this.tileOverlap,u=a+(0===n?1:2)*this.tileOverlap,h=s+(0===i?1:2)*this.tileOverlap,f=1/o.x;return u=Math.min(u,o.x-l),h=Math.min(h,o.y-c),r?new t.Rect(0,0,u,h):new t.Rect(l*f,c*f,u*f,h*f)},getImageInfo:function(n){var i,r,o,a,s,l,c,u=this;n&&(s=n.split("/"),l=s[s.length-1],c=l.lastIndexOf("."),c>-1&&(s[s.length-1]=l.slice(0,c))),r=function(e){"string"===typeof e&&(e=t.parseXml(e));var i=t.TileSource.determineType(u,e,n);i?(a=i.prototype.configure.apply(u,[e,n]),void 0===a.ajaxWithCredentials&&(a.ajaxWithCredentials=u.ajaxWithCredentials),o=new i(a),u.ready=!0,u.raiseEvent("ready",{tileSource:o})):u.raiseEvent("open-failed",{message:"Unable to load TileSource",source:n})},n.match(/\.js$/)?(i=n.split("/").pop().replace(".js",""),t.jsonp({url:n,async:!1,callbackName:i,callback:r})):t.makeAjaxRequest({url:n,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(t){var n=e(t);r(n)},error:function(t,e){var i;try{i="HTTP "+t.status+" attempting to load TileSource"}catch(o){var r;r="undefined"!=typeof e&&e.toString?e.toString():"Unknown error",i=r+" attempting to load TileSource"}u.raiseEvent("open-failed",{message:i,source:n})}})},supports:function(t,e){return!1},configure:function(t,e){throw new Error("Method not implemented.")},getTileUrl:function(t,e,n){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(t,e,n){return{}},tileExists:function(t,e,n){var i=this.getNumTiles(t);return t>=this.minLevel&&t<=this.maxLevel&&e>=0&&n>=0&&e<i.x&&n<i.y}},t.extend(!0,t.TileSource.prototype,t.EventSource.prototype),t.TileSource.determineType=function(e,n,i){var r;for(r in OpenSeadragon)if(r.match(/.+TileSource$/)&&t.isFunction(OpenSeadragon[r])&&t.isFunction(OpenSeadragon[r].prototype.supports)&&OpenSeadragon[r].prototype.supports.call(e,n,i))return OpenSeadragon[r];t.console.error("No TileSource was able to open %s %s",i,n)}}(OpenSeadragon),function(t){function e(e,i){if(!i||!i.documentElement)throw new Error(t.getString("Errors.Xml"));var r,o,a,s,l,c=i.documentElement,u=c.localName||c.tagName,h=i.documentElement.namespaceURI,f=null,p=[];if("Image"==u)try{if(s=c.getElementsByTagName("Size")[0],void 0===s&&(s=c.getElementsByTagNameNS(h,"Size")[0]),f={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:c.getAttribute("Url"),Format:c.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(c.getAttribute("Overlap"),10),TileSize:parseInt(c.getAttribute("TileSize"),10),Size:{Height:parseInt(s.getAttribute("Height"),10),Width:parseInt(s.getAttribute("Width"),10)}}},!t.imageFormatSupported(f.Image.Format))throw new Error(t.getString("Errors.ImageFormat",f.Image.Format.toUpperCase()));for(r=c.getElementsByTagName("DisplayRect"),void 0===r&&(r=c.getElementsByTagNameNS(h,"DisplayRect")[0]),l=0;l<r.length;l++)o=r[l],a=o.getElementsByTagName("Rect")[0],void 0===a&&(a=o.getElementsByTagNameNS(h,"Rect")[0]),p.push({Rect:{X:parseInt(a.getAttribute("X"),10),Y:parseInt(a.getAttribute("Y"),10),Width:parseInt(a.getAttribute("Width"),10),Height:parseInt(a.getAttribute("Height"),10),MinLevel:parseInt(o.getAttribute("MinLevel"),10),MaxLevel:parseInt(o.getAttribute("MaxLevel"),10)}});return p.length&&(f.Image.DisplayRect=p),n(e,f)}catch(v){throw v instanceof Error?v:new Error(t.getString("Errors.Dzi"))}else{if("Collection"==u)throw new Error(t.getString("Errors.Dzc"));if("Error"==u){var d=c.getElementsByTagName("Message")[0],g=d.firstChild.nodeValue;throw new Error(g)}}throw new Error(t.getString("Errors.Dzi"))}function n(e,n){var i,r,o=n.Image,a=o.Url,s=o.Format,l=o.Size,c=o.DisplayRect||[],u=parseInt(l.Width,10),h=parseInt(l.Height,10),f=parseInt(o.TileSize,10),p=parseInt(o.Overlap,10),d=[];for(r=0;r<c.length;r++)i=c[r].Rect,d.push(new t.DisplayRect(parseInt(i.X,10),parseInt(i.Y,10),parseInt(i.Width,10),parseInt(i.Height,10),parseInt(i.MinLevel,10),parseInt(i.MaxLevel,10)));return t.extend(!0,{width:u,height:h,tileSize:f,tileOverlap:p,minLevel:null,maxLevel:null,tilesUrl:a,fileFormat:s,displayRects:d},n)}t.DziTileSource=function(e,n,i,r,o,a,s,l,c){var u,h,f,p;if(p=t.isPlainObject(e)?e:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=p.tilesUrl,this.fileFormat=p.fileFormat,this.displayRects=p.displayRects,this.displayRects)for(u=this.displayRects.length-1;u>=0;u--)for(h=this.displayRects[u],f=h.minLevel;f<=h.maxLevel;f++)this._levelRects[f]||(this._levelRects[f]=[]),this._levelRects[f].push(h);t.TileSource.apply(this,[p])},t.extend(t.DziTileSource.prototype,t.TileSource.prototype,{supports:function(t,e){var n;return t.Image?n=t.Image.xmlns:t.documentElement&&("Image"!=t.documentElement.localName&&"Image"!=t.documentElement.tagName||(n=t.documentElement.namespaceURI)),n=(n||"").toLowerCase(),-1!==n.indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==n.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(i,r){var o;return o=t.isPlainObject(i)?n(this,i):e(this,i),r&&!o.tilesUrl&&(o.tilesUrl=r.replace(/([^\/]+?)(\.(dzi|xml|js)?(\?[^\/]*)?)?\/?$/,"$1_files/"),-1!=r.search(/\.(dzi|xml|js)\?/)?o.queryParams=r.match(/\?.*/):o.queryParams=""),o},getTileUrl:function(t,e,n){return[this.tilesUrl,t,"/",e,"_",n,".",this.fileFormat,this.queryParams].join("")},tileExists:function(t,e,n){var i,r,o,a,s,l,c,u=this._levelRects[t];if(this.minLevel&&t<this.minLevel||this.maxLevel&&t>this.maxLevel)return!1;if(!u||!u.length)return!0;for(c=u.length-1;c>=0;c--)if(i=u[c],!(t<i.minLevel||t>i.maxLevel)&&(r=this.getLevelScale(t),o=i.x*r,a=i.y*r,s=o+i.width*r,l=a+i.height*r,o=Math.floor(o/this._tileWidth),a=Math.floor(a/this._tileWidth),s=Math.ceil(s/this._tileWidth),l=Math.ceil(l/this._tileWidth),o<=e&&e<s&&a<=n&&n<l))return!0;return!1}})}(OpenSeadragon),function(t){function e(t){var e=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json"],n=-1!=e.indexOf(t[0]);return!n||-1!=t.indexOf("sizeByW")}function n(t){for(var e=[],n=0;n<t.sizes.length;n++)e.push({url:t["@id"]+"/full/"+t.sizes[n].width+",/0/default.jpg",width:t.sizes[n].width,height:t.sizes[n].height});return e.sort(function(t,e){return t.width-e.width})}function i(e){if(!e||!e.documentElement)throw new Error(t.getString("Errors.Xml"));var n=e.documentElement,i=n.tagName,o=null;if("info"==i)try{return o={},r(n,o),o}catch(a){throw a instanceof Error?a:new Error(t.getString("Errors.IIIF"))}throw new Error(t.getString("Errors.IIIF"))}function r(e,n,i){var o,a;if(3==e.nodeType&&i)a=e.nodeValue.trim(),a.match(/^\d*$/)&&(a=Number(a)),n[i]?(t.isArray(n[i])||(n[i]=[n[i]]),n[i].push(a)):n[i]=a;else if(1==e.nodeType)for(o=0;o<e.childNodes.length;o++)r(e.childNodes[o],n,e.nodeName)}t.IIIFTileSource=function(i){if(t.extend(!0,this,i),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(i.tileSizePerScaleFactor={},this.tile_width&&this.tile_height)i.tileWidth=this.tile_width,i.tileHeight=this.tile_height;else if(this.tile_width)i.tileSize=this.tile_width;else if(this.tile_height)i.tileSize=this.tile_height;else if(this.tiles)if(1==this.tiles.length)i.tileWidth=this.tiles[0].width,i.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var r=0;r<this.tiles.length;r++)for(var o=0;o<this.tiles[r].scaleFactors.length;o++){var a=this.tiles[r].scaleFactors[o];this.scale_factors.push(a),i.tileSizePerScaleFactor[a]={width:this.tiles[r].width,height:this.tiles[r].height||this.tiles[r].width}}}else if(e(i.profile)){for(var s=Math.min(this.height,this.width),l=[256,512,1024],c=[],u=0;u<l.length;u++)l[u]<=s&&c.push(l[u]);c.length>0?i.tileSize=Math.max.apply(null,c):i.tileSize=s}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,i.levels=n(this),t.extend(!0,i,{width:i.levels[i.levels.length-1].width,height:i.levels[i.levels.length-1].height,tileSize:Math.max(i.height,i.width),tileOverlap:0,minLevel:0,maxLevel:i.levels.length-1}),this.levels=i.levels):t.console.error("Nothing in the info.json to construct image pyramids from");if(!i.maxLevel&&!this.emulateLegacyImagePyramid)if(this.scale_factors){var h=Math.max.apply(null,this.scale_factors);i.maxLevel=Math.round(Math.log(h)*Math.LOG2E)}else i.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));t.TileSource.apply(this,[i])},t.extend(t.IIIFTileSource.prototype,t.TileSource.prototype,{supports:function(t,e){return!(!t.protocol||"http://iiif.io/api/image"!=t.protocol)||(!(!t["@context"]||"http://library.stanford.edu/iiif/image-api/1.1/context.json"!=t["@context"]&&"http://iiif.io/api/image/1/context.json"!=t["@context"])||(!(!t.profile||0!==t.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html"))||(!!(t.identifier&&t.width&&t.height)||!(!t.documentElement||"info"!=t.documentElement.tagName||"http://library.stanford.edu/iiif/image-api/ns/"!=t.documentElement.namespaceURI))))},configure:function(e,n){if(t.isPlainObject(e))return e["@context"]?e:(e["@context"]="http://iiif.io/api/image/1.0/context.json",e["@id"]=n.replace("/info.json",""),e);var r=i(e);return r["@context"]="http://iiif.io/api/image/1.0/context.json",r["@id"]=n.replace("/info.xml",""),r},getTileWidth:function(e){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileWidth.call(this,e);var n=Math.pow(2,this.maxLevel-e);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].width:this._tileWidth},getTileHeight:function(e){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileHeight.call(this,e);var n=Math.pow(2,this.maxLevel-e);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].height:this._tileHeight},getLevelScale:function(e){if(this.emulateLegacyImagePyramid){var n=NaN;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].width/this.levels[this.maxLevel].width),n}return t.TileSource.prototype.getLevelScale.call(this,e)},getNumTiles:function(e){if(this.emulateLegacyImagePyramid){var n=this.getLevelScale(e);return n?new t.Point(1,1):new t.Point(0,0)}return t.TileSource.prototype.getNumTiles.call(this,e)},getTileAtPoint:function(e,n){return this.emulateLegacyImagePyramid?new t.Point(0,0):t.TileSource.prototype.getTileAtPoint.call(this,e,n)},getTileUrl:function(t,e,n){if(this.emulateLegacyImagePyramid){var i=null;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(i=this.levels[t].url),i}var r,o,a,s,l,c,u,h,f,p,d,g,v="0",m=Math.pow(.5,this.maxLevel-t),y=Math.ceil(this.width*m),_=Math.ceil(this.height*m);return r=this.getTileWidth(t),o=this.getTileHeight(t),a=Math.ceil(r/m),s=Math.ceil(o/m),d=this["@context"].indexOf("/1.0/context.json")>-1||this["@context"].indexOf("/1.1/context.json")>-1||this["@context"].indexOf("/1/context.json")>-1?"native.jpg":"default.jpg",y<r&&_<o?(p=y+",",l="full"):(c=e*a,u=n*s,h=Math.min(a,this.width-c),f=Math.min(s,this.height-u),p=Math.ceil(h*m)+",",l=[c,u,h,f].join(",")),g=[this["@id"],l,p,v,d].join("/"),g}})}(OpenSeadragon),function(t){t.OsmTileSource=function(e,n,i,r,o){var a;a=t.isPlainObject(e)?e:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},a.width&&a.height||(a.width=65572864,a.height=65572864),a.tileSize||(a.tileSize=256,a.tileOverlap=0),a.tilesUrl||(a.tilesUrl="http://tile.openstreetmap.org/"),a.minLevel=8,t.TileSource.apply(this,[a])},t.extend(t.OsmTileSource.prototype,t.TileSource.prototype,{supports:function(t,e){return t.type&&"openstreetmaps"==t.type},configure:function(t,e){return t},getTileUrl:function(t,e,n){return this.tilesUrl+(t-8)+"/"+e+"/"+n+".png"}})}(OpenSeadragon),function(t){t.TmsTileSource=function(e,n,i,r,o){var a;a=t.isPlainObject(e)?e:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var s,l=256*Math.ceil(a.width/256),c=256*Math.ceil(a.height/256);s=l>c?l/256:c/256,a.maxLevel=Math.ceil(Math.log(s)/Math.log(2))-1,a.tileSize=256,a.width=l,a.height=c,t.TileSource.apply(this,[a])},t.extend(t.TmsTileSource.prototype,t.TileSource.prototype,{supports:function(t,e){return t.type&&"tiledmapservice"==t.type},configure:function(t,e){return t},getTileUrl:function(t,e,n){var i=this.getNumTiles(t).y-1;return this.tilesUrl+t+"/"+e+"/"+(i-n)+".png"}})}(OpenSeadragon),function(t){t.ZoomifyTileSource=function(t){t.tileSize=256;var e={x:t.width,y:t.height};t.imageSizes=[{x:t.width,y:t.height}],t.gridSize=[this._getGridSize(t.width,t.height,t.tileSize)];while(parseInt(e.x,10)>t.tileSize||parseInt(e.y,10)>t.tileSize)e.x=Math.floor(e.x/2),e.y=Math.floor(e.y/2),t.imageSizes.push({x:e.x,y:e.y}),t.gridSize.push(this._getGridSize(e.x,e.y,t.tileSize));t.imageSizes.reverse(),t.gridSize.reverse(),t.minLevel=0,t.maxLevel=t.gridSize.length-1,OpenSeadragon.TileSource.apply(this,[t])},t.extend(t.ZoomifyTileSource.prototype,t.TileSource.prototype,{_getGridSize:function(t,e,n){return{x:Math.ceil(t/n),y:Math.ceil(e/n)}},_calculateAbsoluteTileNumber:function(t,e,n){for(var i=0,r={},o=0;o<t;o++)r=this.gridSize[o],i+=r.x*r.y;return r=this.gridSize[t],i+=r.x*n+e,i},supports:function(t,e){return t.type&&"zoomifytileservice"==t.type},configure:function(t,e){return t},getTileUrl:function(t,e,n){var i=0,r=this._calculateAbsoluteTileNumber(t,e,n);return i=Math.floor(r/256),this.tilesUrl+"TileGroup"+i+"/"+t+"-"+e+"-"+n+".jpg"}})}(OpenSeadragon),function(t){function e(e){var n,i,r=[];for(i=0;i<e.length;i++)n=e[i],n.height&&n.width&&n.url?r.push({url:n.url,width:Number(n.width),height:Number(n.height)}):t.console.error("Unsupported image format: %s",n.url?n.url:"<no URL>");return r.sort(function(t,e){return t.height-e.height})}function n(e,n){if(!n||!n.documentElement)throw new Error(t.getString("Errors.Xml"));var r,o,a=n.documentElement,s=a.tagName,l=null,c=[];if("image"==s)try{for(l={type:a.getAttribute("type"),levels:[]},c=a.getElementsByTagName("level"),o=0;o<c.length;o++)r=c[o],l.levels.push({url:r.getAttribute("url"),width:parseInt(r.getAttribute("width"),10),height:parseInt(r.getAttribute("height"),10)});return i(e,l)}catch(u){throw u instanceof Error?u:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"==s)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"==s)throw new Error("Error: "+n)}throw new Error("Unknown element "+s)}function i(t,e){return e.levels}t.LegacyTileSource=function(n){var i,r,o;t.isArray(n)&&(i={type:"legacy-image-pyramid",levels:n}),i.levels=e(i.levels),i.levels.length>0?(r=i.levels[i.levels.length-1].width,o=i.levels[i.levels.length-1].height):(r=0,o=0,t.console.error("No supported image formats found")),t.extend(!0,i,{width:r,height:o,tileSize:Math.max(o,r),tileOverlap:0,minLevel:0,maxLevel:i.levels.length>0?i.levels.length-1:0}),t.TileSource.apply(this,[i]),this.levels=i.levels},t.extend(t.LegacyTileSource.prototype,t.TileSource.prototype,{supports:function(t,e){return t.type&&"legacy-image-pyramid"==t.type||t.documentElement&&"legacy-image-pyramid"==t.documentElement.getAttribute("type")},configure:function(e,r){var o;return o=t.isPlainObject(e)?i(this,e):n(this,e),o},getLevelScale:function(t){var e=NaN;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(e=this.levels[t].width/this.levels[this.maxLevel].width),e},getNumTiles:function(e){var n=this.getLevelScale(e);return n?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(t,e,n){var i=null;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(i=this.levels[t].url),i}})}(OpenSeadragon),function(t){t.ImageTileSource=function(e){e=t.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},e),t.TileSource.apply(this,[e])},t.extend(t.ImageTileSource.prototype,t.TileSource.prototype,{supports:function(t,e){return t.type&&"image"===t.type},configure:function(t,e){return t},getImageInfo:function(e){var n=this._image=new Image,i=this;this.crossOriginPolicy&&(n.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(n.useCredentials=this.ajaxWithCredentials),t.addEvent(n,"load",function(){i.width=Object.prototype.hasOwnProperty.call(n,"naturalWidth")?n.naturalWidth:n.width,i.height=Object.prototype.hasOwnProperty.call(n,"naturalHeight")?n.naturalHeight:n.height,i.aspectRatio=i.width/i.height,i.dimensions=new t.Point(i.width,i.height),i._tileWidth=i.width,i._tileHeight=i.height,i.tileOverlap=0,i.minLevel=0,i.levels=i._buildLevels(),i.maxLevel=i.levels.length-1,i.ready=!0,i.raiseEvent("ready",{tileSource:i})}),t.addEvent(n,"error",function(){i.raiseEvent("open-failed",{message:"Error loading image at "+e,source:e})}),n.src=e},getLevelScale:function(t){var e=NaN;return t>=this.minLevel&&t<=this.maxLevel&&(e=this.levels[t].width/this.levels[this.maxLevel].width),e},getNumTiles:function(e){var n=this.getLevelScale(e);return n?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(t,e,n){var i=null;return t>=this.minLevel&&t<=this.maxLevel&&(i=this.levels[t].url),i},getContext2D:function(t,e,n){var i=null;return t>=this.minLevel&&t<=this.maxLevel&&(i=this.levels[t].context2D),i},_buildLevels:function(){var e=[{url:this._image.src,width:Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,height:Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height}];if(!this.buildPyramid||!t.supportsCanvas||!this.useCanvas)return delete this._image,e;var n=Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,i=Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height,r=document.createElement("canvas"),o=r.getContext("2d");if(r.width=n,r.height=i,o.drawImage(this._image,0,0,n,i),e[0].context2D=o,delete this._image,t.isCanvasTainted(r))return e;while(n>=2&&i>=2){n=Math.floor(n/2),i=Math.floor(i/2);var a=document.createElement("canvas"),s=a.getContext("2d");a.width=n,a.height=i,s.drawImage(r,0,0,n,i),e.splice(0,0,{context2D:s,width:n,height:i}),r=a,o=s}return e}})}(OpenSeadragon),function(t){t.TileSourceCollection=function(e,n,i,r){t.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function(t){function e(e){t.requestAnimationFrame(function(){n(e)})}function n(n){var i,r,o;n.shouldFade&&(i=t.now(),r=i-n.fadeBeginTime,o=1-r/n.fadeLength,o=Math.min(1,o),o=Math.max(0,o),n.imgGroup&&t.setElementOpacity(n.imgGroup,o,!0),o>0&&e(n))}function i(n){n.shouldFade=!0,n.fadeBeginTime=t.now()+n.fadeDelay,window.setTimeout(function(){e(n)},n.fadeDelay)}function r(e){e.shouldFade=!1,e.imgGroup&&t.setElementOpacity(e.imgGroup,1,!0)}function o(e,n){e.element.disabled||(n>=t.ButtonState.GROUP&&e.currentState==t.ButtonState.REST&&(r(e),e.currentState=t.ButtonState.GROUP),n>=t.ButtonState.HOVER&&e.currentState==t.ButtonState.GROUP&&(e.imgHover&&(e.imgHover.style.visibility=""),e.currentState=t.ButtonState.HOVER),n>=t.ButtonState.DOWN&&e.currentState==t.ButtonState.HOVER&&(e.imgDown&&(e.imgDown.style.visibility=""),e.currentState=t.ButtonState.DOWN))}function a(e,n){e.element.disabled||(n<=t.ButtonState.HOVER&&e.currentState==t.ButtonState.DOWN&&(e.imgDown&&(e.imgDown.style.visibility="hidden"),e.currentState=t.ButtonState.HOVER),n<=t.ButtonState.GROUP&&e.currentState==t.ButtonState.HOVER&&(e.imgHover&&(e.imgHover.style.visibility="hidden"),e.currentState=t.ButtonState.GROUP),n<=t.ButtonState.REST&&e.currentState==t.ButtonState.GROUP&&(i(e),e.currentState=t.ButtonState.REST))}t.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},t.Button=function(e){var n=this;t.EventSource.call(this),t.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},e),this.element=e.element||t.makeNeutralElement("div"),e.element||(this.imgRest=t.makeTransparentImage(this.srcRest),this.imgGroup=t.makeTransparentImage(this.srcGroup),this.imgHover=t.makeTransparentImage(this.srcHover),this.imgDown=t.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,this.element.style.position="relative",t.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",t.Browser.vendor==t.BROWSERS.FIREFOX&&t.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=t.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new t.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(e){e.insideElementPressed?(o(n,t.ButtonState.DOWN),n.raiseEvent("enter",{originalEvent:e.originalEvent})):e.buttonDownAny||o(n,t.ButtonState.HOVER)},focusHandler:function(t){this.enterHandler(t),n.raiseEvent("focus",{originalEvent:t.originalEvent})},exitHandler:function(e){a(n,t.ButtonState.GROUP),e.insideElementPressed&&n.raiseEvent("exit",{originalEvent:e.originalEvent})},blurHandler:function(t){this.exitHandler(t),n.raiseEvent("blur",{originalEvent:t.originalEvent})},pressHandler:function(e){o(n,t.ButtonState.DOWN),n.raiseEvent("press",{originalEvent:e.originalEvent})},releaseHandler:function(e){e.insideElementPressed&&e.insideElementReleased?(a(n,t.ButtonState.HOVER),n.raiseEvent("release",{originalEvent:e.originalEvent})):e.insideElementPressed?a(n,t.ButtonState.GROUP):o(n,t.ButtonState.HOVER)},clickHandler:function(t){t.quick&&n.raiseEvent("click",{originalEvent:t.originalEvent})},keyHandler:function(t){return 13!==t.keyCode||(n.raiseEvent("click",{originalEvent:t.originalEvent}),n.raiseEvent("release",{originalEvent:t.originalEvent}),!1)}}),a(this,t.ButtonState.REST)},t.extend(t.Button.prototype,t.EventSource.prototype,{notifyGroupEnter:function(){o(this,t.ButtonState.GROUP)},notifyGroupExit:function(){a(this,t.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,t.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,t.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}})}(OpenSeadragon),function(t){t.ButtonGroup=function(e){t.extend(!0,this,{buttons:[],clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},e);var n,i=this.buttons.concat([]),r=this;if(this.element=e.element||t.makeNeutralElement("div"),!e.group)for(this.label=t.makeNeutralElement("label"),this.element.style.display="inline-block",this.element.appendChild(this.label),n=0;n<i.length;n++)this.element.appendChild(i[n].element);t.setElementTouchActionNone(this.element),this.tracker=new t.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(t){var e;for(e=0;e<r.buttons.length;e++)r.buttons[e].notifyGroupEnter()},exitHandler:function(t){var e;if(!t.insideElementPressed)for(e=0;e<r.buttons.length;e++)r.buttons[e].notifyGroupExit()}})},t.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(t){t.Rect=function(e,n,i,r,o){var a,s;this.x="number"===typeof e?e:0,this.y="number"===typeof n?n:0,this.width="number"===typeof i?i:0,this.height="number"===typeof r?r:0,this.degrees="number"===typeof o?o:0,this.degrees=t.positiveModulo(this.degrees,360),this.degrees>=270?(a=this.getTopRight(),this.x=a.x,this.y=a.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=270):this.degrees>=180?(a=this.getBottomRight(),this.x=a.x,this.y=a.y,this.degrees-=180):this.degrees>=90&&(a=this.getBottomLeft(),this.x=a.x,this.y=a.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=90)},t.Rect.fromSummits=function(e,n,i){var r=e.distanceTo(n),o=e.distanceTo(i),a=n.minus(e),s=Math.atan(a.y/a.x);return a.x<0?s+=Math.PI:a.y<0&&(s+=2*Math.PI),new t.Rect(e.x,e.y,r,o,s/Math.PI*180)},t.Rect.prototype={clone:function(){return new t.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new t.Point(this.x,this.y)},getBottomRight:function(){return new t.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new t.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new t.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new t.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new t.Point(this.width,this.height)},equals:function(e){return e instanceof t.Rect&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height&&this.degrees===e.degrees},times:function(e){return new t.Rect(this.x*e,this.y*e,this.width*e,this.height*e,this.degrees)},translate:function(e){return new t.Rect(this.x+e.x,this.y+e.y,this.width,this.height,this.degrees)},union:function(e){var n=this.getBoundingBox(),i=e.getBoundingBox(),r=Math.min(n.x,i.x),o=Math.min(n.y,i.y),a=Math.max(n.x+n.width,i.x+i.width),s=Math.max(n.y+n.height,i.y+i.height);return new t.Rect(r,o,a-r,s-o)},intersection:function(e){var n=1e-10,i=[],r=this.getTopLeft();e.containsPoint(r,n)&&i.push(r);var o=this.getTopRight();e.containsPoint(o,n)&&i.push(o);var a=this.getBottomLeft();e.containsPoint(a,n)&&i.push(a);var s=this.getBottomRight();e.containsPoint(s,n)&&i.push(s);var l=e.getTopLeft();this.containsPoint(l,n)&&i.push(l);var c=e.getTopRight();this.containsPoint(c,n)&&i.push(c);var u=e.getBottomLeft();this.containsPoint(u,n)&&i.push(u);var h=e.getBottomRight();this.containsPoint(h,n)&&i.push(h);for(var f=this._getSegments(),p=e._getSegments(),d=0;d<f.length;d++)for(var g=f[d],v=0;v<p.length;v++){var m=p[v],y=_(g[0],g[1],m[0],m[1]);y&&i.push(y)}function _(e,i,r,o){var a=i.minus(e),s=o.minus(r),l=-s.x*a.y+a.x*s.y;if(0===l)return null;var c=(a.x*(e.y-r.y)-a.y*(e.x-r.x))/l,u=(s.x*(e.y-r.y)-s.y*(e.x-r.x))/l;return-n<=c&&c<=1-n&&-n<=u&&u<=1-n?new t.Point(e.x+u*a.x,e.y+u*a.y):null}if(0===i.length)return null;for(var w=i[0].x,b=i[0].x,x=i[0].y,T=i[0].y,S=1;S<i.length;S++){var E=i[S];E.x<w&&(w=E.x),E.x>b&&(b=E.x),E.y<x&&(x=E.y),E.y>T&&(T=E.y)}return new t.Rect(w,x,b-w,T-x)},_getSegments:function(){var t=this.getTopLeft(),e=this.getTopRight(),n=this.getBottomLeft(),i=this.getBottomRight();return[[t,e],[e,i],[i,n],[n,t]]},rotate:function(e,n){if(e=t.positiveModulo(e,360),0===e)return this.clone();n=n||this.getCenter();var i=this.getTopLeft().rotate(e,n),r=this.getTopRight().rotate(e,n),o=r.minus(i);o=o.apply(function(t){var e=1e-15;return Math.abs(t)<e?0:t});var a=Math.atan(o.y/o.x);return o.x<0?a+=Math.PI:o.y<0&&(a+=2*Math.PI),new t.Rect(i.x,i.y,this.width,this.height,a/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var e=this.getTopLeft(),n=this.getTopRight(),i=this.getBottomLeft(),r=this.getBottomRight(),o=Math.min(e.x,n.x,i.x,r.x),a=Math.max(e.x,n.x,i.x,r.x),s=Math.min(e.y,n.y,i.y,r.y),l=Math.max(e.y,n.y,i.y,r.y);return new t.Rect(o,s,a-o,l-s)},getIntegerBoundingBox:function(){var e=this.getBoundingBox(),n=Math.floor(e.x),i=Math.floor(e.y),r=Math.ceil(e.width+e.x-n),o=Math.ceil(e.height+e.y-i);return new t.Rect(n,i,r,o)},containsPoint:function(t,e){e=e||0;var n=this.getTopLeft(),i=this.getTopRight(),r=this.getBottomLeft(),o=i.minus(n),a=r.minus(n);return(t.x-n.x)*o.x+(t.y-n.y)*o.y>=-e&&(t.x-i.x)*o.x+(t.y-i.y)*o.y<=e&&(t.x-n.x)*a.x+(t.y-n.y)*a.y>=-e&&(t.x-r.x)*a.x+(t.y-r.y)*a.y<=e},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(OpenSeadragon),function(t){var e={};function n(e){var n=Number(this.element.style.marginLeft.replace("px","")),i=Number(this.element.style.marginTop.replace("px","")),o=Number(this.element.style.width.replace("px","")),a=Number(this.element.style.height.replace("px","")),s=t.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&("horizontal"==this.scroll?-e.delta.x>0?n>-(o-s.x)&&(this.element.style.marginLeft=n+2*e.delta.x+"px",r(this,s.x,n+2*e.delta.x)):-e.delta.x<0&&n<0&&(this.element.style.marginLeft=n+2*e.delta.x+"px",r(this,s.x,n+2*e.delta.x)):-e.delta.y>0?i>-(a-s.y)&&(this.element.style.marginTop=i+2*e.delta.y+"px",r(this,s.y,i+2*e.delta.y)):-e.delta.y<0&&i<0&&(this.element.style.marginTop=i+2*e.delta.y+"px",r(this,s.y,i+2*e.delta.y))),!1}function i(e){var n=Number(this.element.style.marginLeft.replace("px","")),i=Number(this.element.style.marginTop.replace("px","")),o=Number(this.element.style.width.replace("px","")),a=Number(this.element.style.height.replace("px","")),s=t.getElementSize(this.viewer.canvas);return this.element&&("horizontal"==this.scroll?e.scroll>0?n>-(o-s.x)&&(this.element.style.marginLeft=n-60*e.scroll+"px",r(this,s.x,n-60*e.scroll)):e.scroll<0&&n<0&&(this.element.style.marginLeft=n-60*e.scroll+"px",r(this,s.x,n-60*e.scroll)):e.scroll<0?i>s.y-a&&(this.element.style.marginTop=i+60*e.scroll+"px",r(this,s.y,i+60*e.scroll)):e.scroll>0&&i<0&&(this.element.style.marginTop=i+60*e.scroll+"px",r(this,s.y,i+60*e.scroll))),!1}function r(e,n,i){var r,o,a,s,l,c,u;for(r="horizontal"==e.scroll?e.panelWidth:e.panelHeight,o=Math.ceil(n/r)+5,a=Math.ceil((Math.abs(i)+n)/r)+1,o=a-o,o=o<0?0:o,c=o;c<a&&c<e.panels.length;c++)if(u=e.panels[c],!u.activePanel){var h,f=e.viewer.tileSources[c];h=f.referenceStripThumbnailUrl?{type:"image",url:f.referenceStripThumbnailUrl}:f,s=new t.Viewer({id:u.id,tileSources:[h],element:u,navigatorSizeRatio:e.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0}),s.displayRegion=t.makeNeutralElement("div"),s.displayRegion.id=u.id+"-displayregion",s.displayRegion.className="displayregion",l=s.displayRegion.style,l.position="relative",l.top="0px",l.left="0px",l.fontSize="0px",l.overflow="hidden",l.float="left",l.cssFloat="left",l.styleFloat="left",l.zIndex=999999999,l.cursor="default",l.width=e.panelWidth-4+"px",l.height=e.panelHeight-4+"px",s.displayRegion.innerTracker=new t.MouseTracker({element:s.displayRegion,startDisabled:!0}),u.getElementsByTagName("div")[0].appendChild(s.displayRegion),e.miniViewers[u.id]=s,u.activePanel=!0}}function o(t){var e=t.eventSource.element;return"horizontal"==this.scroll?e.style.marginBottom="0px":e.style.marginLeft="0px",!1}function a(e){var n=e.eventSource.element;return"horizontal"==this.scroll?n.style.marginBottom="-"+t.getElementSize(n).y/2+"px":n.style.marginLeft="-"+t.getElementSize(n).x/2+"px",!1}function s(t){if(t.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 38:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 40:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 37:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 39:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}function l(t){if(t.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 61:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 97:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}t.ReferenceStrip=function(c){var u,h,f,p=this,d=c.viewer,g=t.getElementSize(d.element);for(c.id||(c.id="referencestrip-"+t.now(),this.element=t.makeNeutralElement("div"),this.element.id=c.id,this.element.className="referencestrip"),c=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.referenceStripSizeRatio,position:t.DEFAULT_SETTINGS.referenceStripPosition,scroll:t.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold},c,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),t.extend(this,c),e[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,h=this.element.style,h.marginTop="0px",h.marginRight="0px",h.marginBottom="0px",h.marginLeft="0px",h.left="0px",h.bottom="0px",h.border="0px",h.background="#000",h.position="relative",t.setElementTouchActionNone(this.element),t.setElementOpacity(this.element,.8),this.viewer=d,this.innerTracker=new t.MouseTracker({element:this.element,dragHandler:t.delegate(this,n),scrollHandler:t.delegate(this,i),enterHandler:t.delegate(this,o),exitHandler:t.delegate(this,a),keyDownHandler:t.delegate(this,s),keyHandler:t.delegate(this,l)}),c.width&&c.height?(this.element.style.width=c.width+"px",this.element.style.height=c.height+"px",d.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):"horizontal"==c.scroll?(this.element.style.width=g.x*c.sizeRatio*d.tileSources.length+12*d.tileSources.length+"px",this.element.style.height=g.y*c.sizeRatio+"px",d.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=g.y*c.sizeRatio*d.tileSources.length+12*d.tileSources.length+"px",this.element.style.width=g.x*c.sizeRatio+"px",d.addControl(this.element,{anchor:t.ControlAnchor.TOP_LEFT})),this.panelWidth=g.x*this.sizeRatio+8,this.panelHeight=g.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},f=0;f<d.tileSources.length;f++)u=t.makeNeutralElement("div"),u.id=this.element.id+"-"+f,u.style.width=p.panelWidth+"px",u.style.height=p.panelHeight+"px",u.style.display="inline",u.style.float="left",u.style.cssFloat="left",u.style.styleFloat="left",u.style.padding="2px",t.setElementTouchActionNone(u),u.innerTracker=new t.MouseTracker({element:u,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(e){e.eventSource.dragging=t.now()},releaseHandler:function(e){var n=e.eventSource,i=n.element.id,r=Number(i.split("-")[2]),o=t.now();e.insideElementPressed&&e.insideElementReleased&&n.dragging&&o-n.dragging<n.clickTimeThreshold&&(n.dragging=null,d.goToPage(r))}}),this.element.appendChild(u),u.activePanel=!1,this.panels.push(u);r(this,"vertical"==this.scroll?g.y:g.x,0),this.setFocus(0)},t.extend(t.ReferenceStrip.prototype,t.EventSource.prototype,t.Viewer.prototype,{setFocus:function(e){var n,i=t.getElement(this.element.id+"-"+e),a=t.getElementSize(this.viewer.canvas),s=Number(this.element.style.width.replace("px","")),l=Number(this.element.style.height.replace("px","")),c=-Number(this.element.style.marginLeft.replace("px","")),u=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==i&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=i,this.currentSelected.style.background="#999","horizontal"==this.scroll?(n=Number(e)*(this.panelWidth+3),n>c+a.x-this.panelWidth?(n=Math.min(n,s-a.x),this.element.style.marginLeft=-n+"px",r(this,a.x,-n)):n<c&&(n=Math.max(0,n-a.x/2),this.element.style.marginLeft=-n+"px",r(this,a.x,-n))):(n=Number(e)*(this.panelHeight+3),n>u+a.y-this.panelHeight?(n=Math.min(n,l-a.y),this.element.style.marginTop=-n+"px",r(this,a.y,-n)):n<u&&(n=Math.max(0,n-a.y/2),this.element.style.marginTop=-n+"px",r(this,a.y,-n))),this.currentPage=e,o.call(this,{eventSource:this.innerTracker}))},update:function(){return!!e[this.id].animating&&(t.console.log("image reference strip update"),!0)},destroy:function(){if(this.miniViewers)for(var t in this.miniViewers)this.miniViewers[t].destroy();this.element&&this.element.parentNode.removeChild(this.element)}})}(OpenSeadragon),function(t){t.DisplayRect=function(e,n,i,r,o,a){t.Rect.apply(this,[e,n,i,r]),this.minLevel=o,this.maxLevel=a},t.extend(t.DisplayRect.prototype,t.Rect.prototype)}(OpenSeadragon),function(t){function e(t,e){return(1-Math.exp(t*-e))/(1-Math.exp(-t))}t.Spring=function(e){var n=arguments;"object"!=typeof e&&(e={initial:n.length&&"number"==typeof n[0]?n[0]:void 0,springStiffness:n.length>1?n[1].springStiffness:5,animationTime:n.length>1?n[1].animationTime:1.5}),t.console.assert("number"===typeof e.springStiffness&&0!==e.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),t.console.assert("number"===typeof e.animationTime&&e.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),e.exponential&&(this._exponential=!0,delete e.exponential),t.extend(!0,this,e),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:t.now()},t.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},t.Spring.prototype={resetTo:function(e){t.console.assert(!this._exponential||0!==e,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=e,this.start.time=this.target.time=this.current.time=t.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(e){t.console.assert(!this._exponential||0!==e,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=e,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(e){this.start.value+=e,this.target.value+=e,this._exponential&&(t.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(e){this._exponential=e,this._exponential&&(t.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){var n,i;this.current.time=t.now(),this._exponential?(n=this.start._logValue,i=this.target._logValue):(n=this.start.value,i=this.target.value);var r=this.current.time>=this.target.time?i:n+(i-n)*e(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),o=this.current.value;return this._exponential?this.current.value=Math.exp(r):this.current.value=r,o!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(OpenSeadragon),function(t){function e(e){t.extend(!0,this,{timeout:t.DEFAULT_SETTINGS.timeout,jobId:null},e),this.image=null}function n(t,e,n){var i;t.jobsInProgress--,(!t.jobLimit||t.jobsInProgress<t.jobLimit)&&t.jobQueue.length>0&&(i=t.jobQueue.shift(),i.start(),t.jobsInProgress++),n(e.image,e.errorMsg,e.request)}e.prototype={errorMsg:null,start:function(){var e=this,n=this.abort;this.image=new Image,this.image.onload=function(){e.finish(!0)},this.image.onabort=this.image.onerror=function(){e.errorMsg="Image load aborted",e.finish(!1)},this.jobId=window.setTimeout(function(){e.errorMsg="Image load exceeded timeout",e.finish(!1)},this.timeout),this.loadWithAjax?(this.request=t.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(t){var n;try{n=new window.Blob([t.response])}catch(a){var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===a.name&&i){var r=new i;r.append(t.response),n=r.getBlob()}}0===n.size&&(e.errorMsg="Empty image response.",e.finish(!1));var o=(window.URL||window.webkitURL).createObjectURL(n);e.image.src=o},error:function(t){e.errorMsg="Image load aborted - XHR error",e.finish(!1)}}),this.abort=function(){e.request.abort(),"function"===typeof n&&n()}):(!1!==this.crossOriginPolicy&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(t){this.image.onload=this.image.onerror=this.image.onabort=null,t||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},t.ImageLoader=function(e){t.extend(!0,this,{jobLimit:t.DEFAULT_SETTINGS.imageLoaderLimit,timeout:t.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},e)},t.ImageLoader.prototype={addJob:function(t){var i=this,r=function(e){n(i,e,t.callback)},o={src:t.src,loadWithAjax:t.loadWithAjax,ajaxHeaders:t.loadWithAjax?t.ajaxHeaders:null,crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,callback:r,abort:t.abort,timeout:this.timeout},a=new e(o);!this.jobLimit||this.jobsInProgress<this.jobLimit?(a.start(),this.jobsInProgress++):this.jobQueue.push(a)},clear:function(){for(var t=0;t<this.jobQueue.length;t++){var e=this.jobQueue[t];"function"===typeof e.abort&&e.abort()}this.jobQueue=[]}}}(OpenSeadragon),function(t){t.Tile=function(t,e,n,i,r,o,a,s,l,c){this.level=t,this.x=e,this.y=n,this.bounds=i,this.sourceBounds=c,this.exists=r,this.url=o,this.context2D=a,this.loadWithAjax=s,this.ajaxHeaders=l,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},t.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(e){this.cacheImageRecord?this.loaded?(this.element||(this.element=t.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=e&&e.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",t.setElementOpacity(this.element,this.opacity)):t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()):t.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},drawCanvas:function(e,n,i,r){var o,a,s,l=this.position.times(t.pixelDensityRatio),c=this.size.times(t.pixelDensityRatio);this.context2D||this.cacheImageRecord?(o=this.context2D||this.cacheImageRecord.getRenderedContext(),this.loaded&&o?(e.save(),e.globalAlpha=this.opacity,"number"===typeof i&&1!==i&&(l=l.times(i),c=c.times(i)),r instanceof t.Point&&(l=l.plus(r)),1===e.globalAlpha&&this._hasTransparencyChannel()&&e.clearRect(l.x,l.y,c.x,c.y),n({context:e,tile:this,rendered:o}),this.sourceBounds?(a=Math.min(this.sourceBounds.width,o.canvas.width),s=Math.min(this.sourceBounds.height,o.canvas.height)):(a=o.canvas.width,s=o.canvas.height),e.drawImage(o.canvas,0,0,a,s,l.x,l.y,c.x,c.y),e.restore()):t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString())):t.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString())},getScaleForEdgeSmoothing:function(){var e;if(this.cacheImageRecord)e=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return t.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;e=this.context2D}return e.canvas.width/(this.size.x*t.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(e,n,i){var r=Math.max(1,Math.ceil((i.x-n.x)/2)),o=Math.max(1,Math.ceil((i.y-n.y)/2));return new t.Point(r,o).minus(this.position.times(t.pixelDensityRatio).times(e||1).apply(function(t){return t%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(t){t.OverlayPlacement=t.Placement,t.OverlayRotationMode=t.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),t.Overlay=function(e,n,i){var r;r=t.isPlainObject(e)?e:{element:e,location:n,placement:i},this.element=r.element,this.style=r.element.style,this._init(r)},t.Overlay.prototype={_init:function(e){this.location=e.location,this.placement=void 0===e.placement?t.Placement.TOP_LEFT:e.placement,this.onDraw=e.onDraw,this.checkResize=void 0===e.checkResize||e.checkResize,this.width=void 0===e.width?null:e.width,this.height=void 0===e.height?null:e.height,this.rotationMode=e.rotationMode||t.OverlayRotationMode.EXACT,this.location instanceof t.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=t.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new t.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(e,n){var i=t.Placement.properties[this.placement];i&&(i.isHorizontallyCentered?e.x-=n.x/2:i.isRight&&(e.x-=n.x),i.isVerticallyCentered?e.y-=n.y/2:i.isBottom&&(e.y-=n.y))},destroy:function(){var e=this.element,n=this.style;e.parentNode&&(e.parentNode.removeChild(e),e.prevElementParent&&(n.display="none",document.body.appendChild(e))),this.onDraw=null,n.top="",n.left="",n.position="",null!==this.width&&(n.width=""),null!==this.height&&(n.height="");var i=t.getCssPropertyWithVendorPrefix("transformOrigin"),r=t.getCssPropertyWithVendorPrefix("transform");i&&r&&(n[i]="",n[r]="")},drawHTML:function(e,n){var i=this.element;i.parentNode!==e&&(i.prevElementParent=i.parentNode,i.prevNextSibling=i.nextSibling,e.appendChild(i),this.style.position="absolute",this.size=t.getElementSize(i));var r=this._getOverlayPositionAndSize(n),o=r.position,a=this.size=r.size,s=r.rotate;if(this.onDraw)this.onDraw(o,a,this.element);else{var l=this.style;l.left=o.x+"px",l.top=o.y+"px",null!==this.width&&(l.width=a.x+"px"),null!==this.height&&(l.height=a.y+"px");var c=t.getCssPropertyWithVendorPrefix("transformOrigin"),u=t.getCssPropertyWithVendorPrefix("transform");c&&u&&(s?(l[c]=this._getTransformOrigin(),l[u]="rotate("+s+"deg)"):(l[c]="",l[u]="")),"none"!==l.display&&(l.display="block")}},_getOverlayPositionAndSize:function(e){var n=e.pixelFromPoint(this.location,!0),i=this._getSizeInPixels(e);this.adjust(n,i);var r=0;if(e.degrees&&this.rotationMode!==t.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var o=new t.Rect(n.x,n.y,i.x,i.y),a=this._getBoundingBox(o,e.degrees);n=a.getTopLeft(),i=a.getSize()}else r=e.degrees;return{position:n,size:i,rotate:r}},_getSizeInPixels:function(e){var n=this.size.x,i=this.size.y;if(null!==this.width||null!==this.height){var r=e.deltaPixelsFromPointsNoRotate(new t.Point(this.width||0,this.height||0),!0);null!==this.width&&(n=r.x),null!==this.height&&(i=r.y)}if(this.checkResize&&(null===this.width||null===this.height)){var o=this.size=t.getElementSize(this.element);null===this.width&&(n=o.x),null===this.height&&(i=o.y)}return new t.Point(n,i)},_getBoundingBox:function(t,e){var n=this._getPlacementPoint(t);return t.rotate(e,n).getBoundingBox()},_getPlacementPoint:function(e){var n=new t.Point(e.x,e.y),i=t.Placement.properties[this.placement];return i&&(i.isHorizontallyCentered?n.x+=e.width/2:i.isRight&&(n.x+=e.width),i.isVerticallyCentered?n.y+=e.height/2:i.isBottom&&(n.y+=e.height)),n},_getTransformOrigin:function(){var e="",n=t.Placement.properties[this.placement];return n?(n.isLeft?e="left":n.isRight&&(e="right"),n.isTop?e+=" top":n.isBottom&&(e+=" bottom"),e):e},update:function(e,n){var i=t.isPlainObject(e)?e:{location:e,placement:n};this._init({location:i.location||this.location,placement:void 0!==i.placement?i.placement:this.placement,onDraw:i.onDraw||this.onDraw,checkResize:i.checkResize||this.checkResize,width:void 0!==i.width?i.width:this.width,height:void 0!==i.height?i.height:this.height,rotationMode:i.rotationMode||this.rotationMode})},getBounds:function(e){t.console.assert(e,"A viewport must now be passed to Overlay.getBounds.");var n=this.width,i=this.height;if(null===n||null===i){var r=e.deltaPointsFromPixelsNoRotate(this.size,!0);null===n&&(n=r.x),null===i&&(i=r.y)}var o=this.location.clone();return this.adjust(o,new t.Point(n,i)),this._adjustBoundsForRotation(e,new t.Rect(o.x,o.y,n,i))},_adjustBoundsForRotation:function(e,n){if(!e||0===e.degrees||this.rotationMode===t.OverlayRotationMode.EXACT)return n;if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return n;var i=this._getOverlayPositionAndSize(e);return e.viewerElementToViewportRectangle(new t.Rect(i.position.x,i.position.y,i.size.x,i.size.y))}return n.rotate(-e.degrees,this._getPlacementPoint(n))}}}(OpenSeadragon),function(t){t.Drawer=function(e){t.console.assert(e.viewer,"[Drawer] options.viewer is required");var n=arguments;if(t.isPlainObject(e)||(e={source:n[0],viewport:n[1],element:n[2]}),t.console.assert(e.viewport,"[Drawer] options.viewport is required"),t.console.assert(e.element,"[Drawer] options.element is required"),e.source&&t.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=e.viewer,this.viewport=e.viewport,this.debugGridColor="string"===typeof e.debugGridColor?[e.debugGridColor]:e.debugGridColor||t.DEFAULT_SETTINGS.debugGridColor,e.opacity&&t.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=t.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=t.getElement(e.element),this.canvas=t.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var i=this._calculateCanvasSize();this.canvas.width=i.x,this.canvas.height=i.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",t.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas)},t.Drawer.prototype={addOverlay:function(e,n,i,r){return t.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(e,n,i,r),this},updateOverlay:function(e,n,i){return t.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(e,n,i),this},removeOverlay:function(e){return t.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(e),this},clearOverlays:function(){return t.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},setOpacity:function(e){t.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var n=this.viewer.world,i=0;i<n.getItemCount();i++)n.getItemAt(i).setOpacity(e);return this},getOpacity:function(){t.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var e=this.viewer.world,n=0,i=0;i<e.getItemCount();i++){var r=e.getItemAt(i).getOpacity();r>n&&(n=r)}return n},needsUpdate:function(){return t.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return t.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return t.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return t.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var t=this._calculateCanvasSize();if((this.canvas.width!=t.x||this.canvas.height!=t.y)&&(this.canvas.width=t.x,this.canvas.height=t.y,null!==this.sketchCanvas)){var e=this._calculateSketchCanvasSize();this.sketchCanvas.width=e.x,this.sketchCanvas.height=e.y}this._clear()}},_clear:function(t,e){if(this.useCanvas){var n=this._getContext(t);if(e)n.clearRect(e.x,e.y,e.width,e.height);else{var i=n.canvas;n.clearRect(0,0,i.width,i.height)}}},viewportToDrawerRectangle:function(e){var n=this.viewport.pixelFromPointNoRotate(e.getTopLeft(),!0),i=this.viewport.deltaPixelsFromPointsNoRotate(e.getSize(),!0);return new t.Rect(n.x*t.pixelDensityRatio,n.y*t.pixelDensityRatio,i.x*t.pixelDensityRatio,i.y*t.pixelDensityRatio)},drawTile:function(e,n,i,r,o){if(t.console.assert(e,"[Drawer.drawTile] tile is required"),t.console.assert(n,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var a=this._getContext(i);r=r||1,e.drawCanvas(a,n,r,o)}else e.drawHTML(this.canvas)},_getContext:function(t){var e=this.context;if(t){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var n=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=n.x,this.sketchCanvas.height=n.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var i=this;this.viewer.addHandler("rotate",function t(){if(0!==i.viewport.getRotation()){i.viewer.removeHandler("rotate",t);var e=i._calculateSketchCanvasSize();i.sketchCanvas.width=e.x,i.sketchCanvas.height=e.y}})}}e=this.sketchContext}return e},saveContext:function(t){this.useCanvas&&this._getContext(t).save()},restoreContext:function(t){this.useCanvas&&this._getContext(t).restore()},setClip:function(t,e){if(this.useCanvas){var n=this._getContext(e);n.beginPath(),n.rect(t.x,t.y,t.width,t.height),n.clip()}},drawRectangle:function(t,e,n){if(this.useCanvas){var i=this._getContext(n);i.save(),i.fillStyle=e,i.fillRect(t.x,t.y,t.width,t.height),i.restore()}},blendSketch:function(e,n,i,r){var o=e;if(t.isPlainObject(o)||(o={opacity:e,scale:n,translate:i,compositeOperation:r}),this.useCanvas&&this.sketchCanvas){e=o.opacity,r=o.compositeOperation;var a=o.bounds;if(this.context.save(),this.context.globalAlpha=e,r&&(this.context.globalCompositeOperation=r),a)a.x<0&&(a.width+=a.x,a.x=0),a.x+a.width>this.canvas.width&&(a.width=this.canvas.width-a.x),a.y<0&&(a.height+=a.y,a.y=0),a.y+a.height>this.canvas.height&&(a.height=this.canvas.height-a.y),this.context.drawImage(this.sketchCanvas,a.x,a.y,a.width,a.height,a.x,a.y,a.width,a.height);else{n=o.scale||1,i=o.translate;var s=i instanceof t.Point?i:new t.Point(0,0),l=0,c=0;if(i){var u=this.sketchCanvas.width-this.canvas.width,h=this.sketchCanvas.height-this.canvas.height;l=Math.round(u/2),c=Math.round(h/2)}this.context.drawImage(this.sketchCanvas,s.x-l*n,s.y-c*n,(this.canvas.width+2*l)*n,(this.canvas.height+2*c)*n,-l,-c,this.canvas.width+2*l,this.canvas.height+2*c)}this.context.restore()}},drawDebugInfo:function(e,n,i,r){if(this.useCanvas){var o=this.viewer.world.getIndexOfItem(r)%this.debugGridColor.length,a=this.context;a.save(),a.lineWidth=2*t.pixelDensityRatio,a.font="small-caps bold "+13*t.pixelDensityRatio+"px arial",a.strokeStyle=this.debugGridColor[o],a.fillStyle=this.debugGridColor[o],0!==this.viewport.degrees?this._offsetForRotation({degrees:this.viewport.degrees}):this.viewer.viewport.flipped&&this._flip(),r.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:r.getRotation(!0),point:r.viewport.pixelFromPointNoRotate(r._getRotationPoint(!0),!0)}),a.strokeRect(e.position.x*t.pixelDensityRatio,e.position.y*t.pixelDensityRatio,e.size.x*t.pixelDensityRatio,e.size.y*t.pixelDensityRatio);var s=(e.position.x+e.size.x/2)*t.pixelDensityRatio,l=(e.position.y+e.size.y/2)*t.pixelDensityRatio;a.translate(s,l),a.rotate(Math.PI/180*-this.viewport.degrees),a.translate(-s,-l),0===e.x&&0===e.y&&(a.fillText("Zoom: "+this.viewport.getZoom(),e.position.x*t.pixelDensityRatio,(e.position.y-30)*t.pixelDensityRatio),a.fillText("Pan: "+this.viewport.getBounds().toString(),e.position.x*t.pixelDensityRatio,(e.position.y-20)*t.pixelDensityRatio)),a.fillText("Level: "+e.level,(e.position.x+10)*t.pixelDensityRatio,(e.position.y+20)*t.pixelDensityRatio),a.fillText("Column: "+e.x,(e.position.x+10)*t.pixelDensityRatio,(e.position.y+30)*t.pixelDensityRatio),a.fillText("Row: "+e.y,(e.position.x+10)*t.pixelDensityRatio,(e.position.y+40)*t.pixelDensityRatio),a.fillText("Order: "+i+" of "+n,(e.position.x+10)*t.pixelDensityRatio,(e.position.y+50)*t.pixelDensityRatio),a.fillText("Size: "+e.size.toString(),(e.position.x+10)*t.pixelDensityRatio,(e.position.y+60)*t.pixelDensityRatio),a.fillText("Position: "+e.position.toString(),(e.position.x+10)*t.pixelDensityRatio,(e.position.y+70)*t.pixelDensityRatio),0!==this.viewport.degrees&&this._restoreRotationChanges(),r.getRotation(!0)%360!==0&&this._restoreRotationChanges(),a.restore()}},debugRect:function(e){if(this.useCanvas){var n=this.context;n.save(),n.lineWidth=2*t.pixelDensityRatio,n.strokeStyle=this.debugGridColor[0],n.fillStyle=this.debugGridColor[0],n.strokeRect(e.x*t.pixelDensityRatio,e.y*t.pixelDensityRatio,e.width*t.pixelDensityRatio,e.height*t.pixelDensityRatio),n.restore()}},getCanvasSize:function(e){var n=this._getContext(e).canvas;return new t.Point(n.width,n.height)},getCanvasCenter:function(){return new t.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(e){var n=e.point?e.point.times(t.pixelDensityRatio):this.getCanvasCenter(),i=this._getContext(e.useSketch);i.save(),i.translate(n.x,n.y),this.viewer.viewport.flipped?(i.rotate(Math.PI/180*-e.degrees),i.scale(-1,1)):i.rotate(Math.PI/180*e.degrees),i.translate(-n.x,-n.y)},_flip:function(e){e=e||{};var n=e.point?e.point.times(t.pixelDensityRatio):this.getCanvasCenter(),i=this._getContext(e.useSketch);i.translate(n.x,0),i.scale(-1,1),i.translate(-n.x,0)},_restoreRotationChanges:function(t){var e=this._getContext(t);e.restore()},_calculateCanvasSize:function(){var e=t.pixelDensityRatio,n=this.viewport.getContainerSize();return{x:n.x*e,y:n.y*e}},_calculateSketchCanvasSize:function(){var t=this._calculateCanvasSize();if(0===this.viewport.getRotation())return t;var e=Math.ceil(Math.sqrt(t.x*t.x+t.y*t.y));return{x:e,y:e}}}}(OpenSeadragon),function(t){t.Viewport=function(e){var n=arguments;n.length&&n[0]instanceof t.Point&&(e={containerSize:n[0],contentSize:n[1],config:n[2]}),e.config&&(t.extend(!0,e,e.config),delete e.config),this._margins=t.extend({left:0,top:0,right:0,bottom:0},e.margins||{}),delete e.margins,t.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:t.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:t.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:t.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:t.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:t.DEFAULT_SETTINGS.maxZoomLevel,degrees:t.DEFAULT_SETTINGS.degrees,flipped:t.DEFAULT_SETTINGS.flipped,homeFillsViewer:t.DEFAULT_SETTINGS.homeFillsViewer},e),this._updateContainerInnerSize(),this.centerSpringX=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new t.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new t.Rect(0,0,1,1),1),this.goHome(!0),this.update()},t.Viewport.prototype={resetContentSize:function(e){return t.console.assert(e,"[Viewport.resetContentSize] contentSize is required"),t.console.assert(e instanceof t.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),t.console.assert(e.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),t.console.assert(e.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new t.Rect(0,0,1,e.y/e.x),e.x),this},setHomeBounds:function(e,n){t.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(e,n)},_setContentBounds:function(e,n){t.console.assert(e,"[Viewport._setContentBounds] bounds is required"),t.console.assert(e instanceof t.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),t.console.assert(e.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),t.console.assert(e.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=e.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(n),this._contentBounds=e.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(n),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:n,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var t,e=this._contentAspectRatio/this.getAspectRatio();return t=this.homeFillsViewer?e>=1?e:1:e>=1?1:e,t/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var e=this._contentBounds.getCenter(),n=1/this.getHomeZoom(),i=n/this.getAspectRatio();return new t.Rect(e.x-n/2,e.y-i/2,n,i)},goHome:function(t){return this.viewer&&this.viewer.raiseEvent("home",{immediately:t}),this.fitBounds(this.getHomeBounds(),t)},getMinZoom:function(){var t=this.getHomeZoom(),e=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*t;return e},getMaxZoom:function(){var t=this.maxZoomLevel;return t||(t=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,t/=this._contentBounds.width),Math.max(t,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new t.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return t.extend({},this._margins)},setMargins:function(e){t.console.assert("object"===t.type(e),"[Viewport.setMargins] margins must be an object"),this._margins=t.extend({left:0,top:0,right:0,bottom:0},e),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(t){return this.getBoundsNoRotate(t).rotate(-this.getRotation())},getBoundsNoRotate:function(e){var n=this.getCenter(e),i=1/this.getZoom(e),r=i/this.getAspectRatio();return new t.Rect(n.x-i/2,n.y-r/2,i,r)},getBoundsWithMargins:function(t){return this.getBoundsNoRotateWithMargins(t).rotate(-this.getRotation(),this.getCenter(t))},getBoundsNoRotateWithMargins:function(t){var e=this.getBoundsNoRotate(t),n=this._containerInnerSize.x*this.getZoom(t);return e.x-=this._margins.left/n,e.y-=this._margins.top/n,e.width+=(this._margins.left+this._margins.right)/n,e.height+=(this._margins.top+this._margins.bottom)/n,e},getCenter:function(e){var n,i,r,o,a,s,l,c,u=new t.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),h=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return e?u:this.zoomPoint?(n=this.pixelFromPoint(this.zoomPoint,!0),i=this.getZoom(),r=1/i,o=r/this.getAspectRatio(),a=new t.Rect(u.x-r/2,u.y-o/2,r,o),s=this._pixelFromPoint(this.zoomPoint,a),l=s.minus(n),c=l.divide(this._containerInnerSize.x*i),h.plus(c)):h},getZoom:function(t){return t?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(t){return Math.max(Math.min(t,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(e){var n=new t.Rect(e.x,e.y,e.width,e.height);if(this.wrapHorizontal);else{var i=this.visibilityRatio*n.width,r=n.x+n.width,o=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,a=this._contentBoundsNoRotate.x-r+i,s=o-n.x-i;i>this._contentBoundsNoRotate.width?n.x+=(a+s)/2:s<0?n.x+=s:a>0&&(n.x+=a)}if(this.wrapVertical);else{var l=this.visibilityRatio*n.height,c=n.y+n.height,u=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,h=this._contentBoundsNoRotate.y-c+l,f=u-n.y-l;l>this._contentBoundsNoRotate.height?n.y+=(h+f)/2:f<0?n.y+=f:h>0&&(n.y+=h)}return n},_raiseConstraintsEvent:function(t){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:t})},applyConstraints:function(t){var e=this.getZoom(),n=this._applyZoomConstraints(e);e!==n&&this.zoomTo(n,this.zoomPoint,t);var i=this.getBoundsNoRotate(),r=this._applyBoundaryConstraints(i);return this._raiseConstraintsEvent(t),(i.x!==r.x||i.y!==r.y||t)&&this.fitBounds(r.rotate(-this.getRotation()),t),this},ensureVisible:function(t){return this.applyConstraints(t)},_fitBounds:function(e,n){n=n||{};var i=n.immediately||!1,r=n.constraints||!1,o=this.getAspectRatio(),a=e.getCenter(),s=new t.Rect(e.x,e.y,e.width,e.height,e.degrees+this.getRotation()).getBoundingBox();s.getAspectRatio()>=o?s.height=s.width/o:s.width=s.height*o,s.x=a.x-s.width/2,s.y=a.y-s.height/2;var l=1/s.width;if(r){var c=s.getAspectRatio(),u=this._applyZoomConstraints(l);l!==u&&(l=u,s.width=1/l,s.x=a.x-s.width/2,s.height=s.width/c,s.y=a.y-s.height/2),s=this._applyBoundaryConstraints(s),a=s.getCenter(),this._raiseConstraintsEvent(i)}if(i)return this.panTo(a,!0),this.zoomTo(l,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var h=this.getBounds(),f=this.getZoom();if(0===f||Math.abs(l/f-1)<1e-8)return this.zoomTo(l,!0),this.panTo(a,i);s=s.rotate(-this.getRotation());var p=s.getTopLeft().times(l).minus(h.getTopLeft().times(f)).divide(l-f);return this.zoomTo(l,p,i)},fitBounds:function(t,e){return this._fitBounds(t,{immediately:e,constraints:!1})},fitBoundsWithConstraints:function(t,e){return this._fitBounds(t,{immediately:e,constraints:!0})},fitVertically:function(e){var n=new t.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(n,e)},fitHorizontally:function(e){var n=new t.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(n,e)},getConstrainedBounds:function(t){var e,n;return e=this.getBounds(t),n=this._applyBoundaryConstraints(e),n},panBy:function(e,n){var i=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(i.plus(e),n)},panTo:function(t,e){return e?(this.centerSpringX.resetTo(t.x),this.centerSpringY.resetTo(t.y)):(this.centerSpringX.springTo(t.x),this.centerSpringY.springTo(t.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:t,immediately:e}),this},zoomBy:function(t,e,n){return this.zoomTo(this.zoomSpring.target.value*t,e,n)},zoomTo:function(e,n,i){var r=this;return this.zoomPoint=n instanceof t.Point&&!isNaN(n.x)&&!isNaN(n.y)?n:null,i?this._adjustCenterSpringsForZoomPoint(function(){r.zoomSpring.resetTo(e)}):this.zoomSpring.springTo(e),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:e,refPoint:n,immediately:i}),this},setRotation:function(e){return this.viewer&&this.viewer.drawer.canRotate()?(this.degrees=t.positiveModulo(e,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:e}),this):this},getRotation:function(){return this.degrees},resize:function(t,e){var n,i=this.getBoundsNoRotate(),r=i;return this.containerSize.x=t.x,this.containerSize.y=t.y,this._updateContainerInnerSize(),e&&(n=t.x/this.containerSize.x,r.width=i.width*n,r.height=r.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:t,maintain:e}),this.fitBounds(r,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new t.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var t=this;this._adjustCenterSpringsForZoomPoint(function(){t.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var e=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,e},_adjustCenterSpringsForZoomPoint:function(t){if(this.zoomPoint){var e=this.pixelFromPoint(this.zoomPoint,!0);t();var n=this.pixelFromPoint(this.zoomPoint,!0),i=n.minus(e),r=this.deltaPointsFromPixels(i,!0);this.centerSpringX.shiftBy(r.x),this.centerSpringY.shiftBy(r.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else t()},deltaPixelsFromPointsNoRotate:function(t,e){return t.times(this._containerInnerSize.x*this.getZoom(e))},deltaPixelsFromPoints:function(t,e){return this.deltaPixelsFromPointsNoRotate(t.rotate(this.getRotation()),e)},deltaPointsFromPixelsNoRotate:function(t,e){return t.divide(this._containerInnerSize.x*this.getZoom(e))},deltaPointsFromPixels:function(t,e){return this.deltaPointsFromPixelsNoRotate(t,e).rotate(-this.getRotation())},pixelFromPointNoRotate:function(t,e){return this._pixelFromPointNoRotate(t,this.getBoundsNoRotate(e))},pixelFromPoint:function(t,e){return this._pixelFromPoint(t,this.getBoundsNoRotate(e))},_pixelFromPointNoRotate:function(e,n){return e.minus(n.getTopLeft()).times(this._containerInnerSize.x/n.width).plus(new t.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(t,e){return this._pixelFromPointNoRotate(t.rotate(this.getRotation(),this.getCenter(!0)),e)},pointFromPixelNoRotate:function(e,n){var i=this.getBoundsNoRotate(n);return e.minus(new t.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/i.width).plus(i.getTopLeft())},pointFromPixel:function(t,e){return this.pointFromPixelNoRotate(t,e).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(e,n){var i=this._contentBoundsNoRotate.width;return new t.Point(e*this._contentSizeNoRotate.x/i,n*this._contentSizeNoRotate.x/i)},viewportToImageCoordinates:function(e,n){if(e instanceof t.Point)return this.viewportToImageCoordinates(e.x,e.y);if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)t.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===i){var r=this.viewer.world.getItemAt(0);return r.viewportToImageCoordinates(e,n,!0)}}return this._viewportToImageDelta(e-this._contentBoundsNoRotate.x,n-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(e,n){var i=this._contentBoundsNoRotate.width;return new t.Point(e/this._contentSizeNoRotate.x*i,n/this._contentSizeNoRotate.x*i)},imageToViewportCoordinates:function(e,n){if(e instanceof t.Point)return this.imageToViewportCoordinates(e.x,e.y);if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)t.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===i){var r=this.viewer.world.getItemAt(0);return r.imageToViewportCoordinates(e,n,!0)}}var o=this._imageToViewportDelta(e,n);return o.x+=this._contentBoundsNoRotate.x,o.y+=this._contentBoundsNoRotate.y,o},imageToViewportRectangle:function(e,n,i,r){var o=e;if(o instanceof t.Rect||(o=new t.Rect(e,n,i,r)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)t.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===a){var s=this.viewer.world.getItemAt(0);return s.imageToViewportRectangle(e,n,i,r,!0)}}var l=this.imageToViewportCoordinates(o.x,o.y),c=this._imageToViewportDelta(o.width,o.height);return new t.Rect(l.x,l.y,c.x,c.y,o.degrees)},viewportToImageRectangle:function(e,n,i,r){var o=e;if(o instanceof t.Rect||(o=new t.Rect(e,n,i,r)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)t.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===a){var s=this.viewer.world.getItemAt(0);return s.viewportToImageRectangle(e,n,i,r,!0)}}var l=this.viewportToImageCoordinates(o.x,o.y),c=this._viewportToImageDelta(o.width,o.height);return new t.Rect(l.x,l.y,c.x,c.y,o.degrees)},viewerElementToImageCoordinates:function(t){var e=this.pointFromPixel(t,!0);return this.viewportToImageCoordinates(e)},imageToViewerElementCoordinates:function(t){var e=this.imageToViewportCoordinates(t);return this.pixelFromPoint(e,!0)},windowToImageCoordinates:function(e){t.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var n=e.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(n)},imageToWindowCoordinates:function(e){t.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var n=this.imageToViewerElementCoordinates(e);return n.plus(t.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(t){return this.pointFromPixel(t,!0)},viewportToViewerElementCoordinates:function(t){return this.pixelFromPoint(t,!0)},viewerElementToViewportRectangle:function(e){return t.Rect.fromSummits(this.pointFromPixel(e.getTopLeft(),!0),this.pointFromPixel(e.getTopRight(),!0),this.pointFromPixel(e.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(e){return t.Rect.fromSummits(this.pixelFromPoint(e.getTopLeft(),!0),this.pixelFromPoint(e.getTopRight(),!0),this.pixelFromPoint(e.getBottomLeft(),!0))},windowToViewportCoordinates:function(e){t.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var n=e.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(n)},viewportToWindowCoordinates:function(e){t.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var n=this.viewportToViewerElementCoordinates(e);return n.plus(t.getElementPosition(this.viewer.element))},viewportToImageZoom:function(e){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)t.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===n){var i=this.viewer.world.getItemAt(0);return i.viewportToImageZoom(e)}}var r=this._contentSizeNoRotate.x,o=this._containerInnerSize.x,a=this._contentBoundsNoRotate.width,s=o/r*a;return e*s},imageToViewportZoom:function(e){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)t.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===n){var i=this.viewer.world.getItemAt(0);return i.imageToViewportZoom(e)}}var r=this._contentSizeNoRotate.x,o=this._containerInnerSize.x,a=this._contentBoundsNoRotate.width,s=r/o/a;return e*s},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(t){return this.flipped===t?this:(this.flipped=t,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:t}),this)}}}(OpenSeadragon),function(t){function e(t,e,i,r,o,a,s,l,c){var u=s.getBoundingBox().getTopLeft(),h=s.getBoundingBox().getBottomRight();t.viewer&&t.viewer.raiseEvent("update-level",{tiledImage:t,havedrawn:e,level:r,opacity:o,visibility:a,drawArea:s,topleft:u,bottomright:h,currenttime:l,best:c}),f(t.coverage,r),f(t.loadingCoverage,r);for(var p=t._getCornerTiles(r,u,h),d=p.topLeft,g=p.bottomRight,v=t.source.getNumTiles(r),m=t.viewport.pixelFromPoint(t.viewport.getCenter()),y=d.x;y<=g.x;y++)for(var _=d.y;_<=g.y;_++){if(!t.wrapHorizontal&&!t.wrapVertical){var w=t.source.getTileBounds(r,y,_);if(null===s.intersection(w))continue}c=n(t,i,e,y,_,r,o,a,m,v,l,c)}return c}function n(t,e,n,r,o,c,f,d,g,v,m,y){var _=i(r,o,c,t,t.source,t.tilesMatrix,m,v,t._worldWidthCurrent,t._worldHeightCurrent),w=n;t.viewer&&t.viewer.raiseEvent("update-tile",{tiledImage:t,tile:_}),h(t.coverage,c,r,o,!1);var b=_.loaded||_.loading||u(t.loadingCoverage,c,r,o);if(h(t.loadingCoverage,c,r,o,b),!_.exists)return y;if(e&&!w&&(u(t.coverage,c,r,o)?h(t.coverage,c,r,o,!0):w=!0),!w)return y;if(s(_,t.source.tileOverlap,t.viewport,g,d,t),!_.loaded)if(_.context2D)a(t,_);else{var x=t._tileCache.getImageRecord(_.cacheKey);if(x){var T=x.getImage();a(t,_,T)}}if(_.loaded){var S=l(t,_,r,o,c,f,m);S&&(t._needsDraw=!0)}else _.loading?t._tilesLoading++:b||(y=p(y,_));return y}function i(e,n,i,r,o,a,s,l,c,u){var h,f,p,d,g,v,m,y,_;return a[i]||(a[i]={}),a[i][e]||(a[i][e]={}),a[i][e][n]||(h=(l.x+e%l.x)%l.x,f=(l.y+n%l.y)%l.y,p=o.getTileBounds(i,h,f),d=o.getTileBounds(i,h,f,!0),g=o.tileExists(i,h,f),v=o.getTileUrl(i,h,f),r.loadTilesWithAjax?(m=o.getTileAjaxHeaders(i,h,f),t.isPlainObject(r.ajaxHeaders)&&(m=t.extend({},r.ajaxHeaders,m))):m=null,y=o.getContext2D?o.getContext2D(i,h,f):void 0,p.x+=(e-h)/l.x,p.y+=u/c*((n-f)/l.y),_=new t.Tile(i,e,n,p,g,v,y,r.loadTilesWithAjax,m,d),h===l.x-1&&(_.isRightMost=!0),f===l.y-1&&(_.isBottomMost=!0),a[i][e][n]=_),_=a[i][e][n],_.lastTouchTime=s,_}function r(t,e,n){e.loading=!0,t._imageLoader.addJob({src:e.url,loadWithAjax:e.loadWithAjax,ajaxHeaders:e.ajaxHeaders,crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,callback:function(i,r,a){o(t,e,n,i,r,a)},abort:function(){e.loading=!1}})}function o(e,n,i,r,o,s){if(!r)return t.console.log("Tile %s failed to load: %s - error: %s",n,n.url,o),e.viewer.raiseEvent("tile-load-failed",{tile:n,tiledImage:e,time:i,message:o,tileRequest:s}),n.loading=!1,void(n.exists=!1);if(i<e.lastResetTime)return t.console.log("Ignoring tile %s loaded before reset: %s",n,n.url),void(n.loading=!1);var l=function(){var t=e.source.getClosestLevel();a(e,n,r,t,s)};e._midDraw?window.setTimeout(l,1):l()}function a(t,e,n,i,r){var o=0;function a(){return o++,s}function s(){o--,0===o&&(e.loading=!1,e.loaded=!0,e.context2D||t._tileCache.cacheTile({image:n,tile:e,cutoff:i,tiledImage:t}),t._needsDraw=!0)}t.viewer.raiseEvent("tile-loaded",{tile:e,tiledImage:t,tileRequest:r,image:n,getCompletionCallback:a}),a()()}function s(e,n,i,r,o,a){var s=e.bounds.getTopLeft();s.x*=a._scaleSpring.current.value,s.y*=a._scaleSpring.current.value,s.x+=a._xSpring.current.value,s.y+=a._ySpring.current.value;var l=e.bounds.getSize();l.x*=a._scaleSpring.current.value,l.y*=a._scaleSpring.current.value;var c=i.pixelFromPointNoRotate(s,!0),u=i.pixelFromPointNoRotate(s,!1),h=i.deltaPixelsFromPointsNoRotate(l,!0),f=i.deltaPixelsFromPointsNoRotate(l,!1),p=u.plus(f.divide(2)),d=r.squaredDistanceTo(p);n||(h=h.plus(new t.Point(1,1))),e.isRightMost&&a.wrapHorizontal&&(h.x+=.75),e.isBottomMost&&a.wrapVertical&&(h.y+=.75),e.position=c,e.size=h,e.squaredDistance=d,e.visibility=o}function l(t,e,n,i,r,o,a){var s,l,c=1e3*t.blendTime;if(e.blendStart||(e.blendStart=a),s=a-e.blendStart,l=c?Math.min(1,s/c):1,t.alwaysBlend&&(l*=o),e.opacity=l,t.lastDrawn.push(e),1==l)h(t.coverage,r,n,i,!0),t._hasOpaqueTile=!0;else if(s<c)return!0;return!1}function c(t,e,n,i){var r,o,a,s;if(!t[e])return!1;if(void 0===n||void 0===i){for(a in r=t[e],r)if(r.hasOwnProperty(a))for(s in o=r[a],o)if(o.hasOwnProperty(s)&&!o[s])return!1;return!0}return void 0===t[e][n]||void 0===t[e][n][i]||!0===t[e][n][i]}function u(t,e,n,i){return void 0===n||void 0===i?c(t,e+1):c(t,e+1,2*n,2*i)&&c(t,e+1,2*n,2*i+1)&&c(t,e+1,2*n+1,2*i)&&c(t,e+1,2*n+1,2*i+1)}function h(e,n,i,r,o){e[n]?(e[n][i]||(e[n][i]={}),e[n][i][r]=o):t.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",n)}function f(t,e){t[e]={}}function p(t,e){return t?e.visibility>t.visibility?e:e.visibility==t.visibility&&e.squaredDistance<t.squaredDistance?e:t:e}function d(e,n){if(0!==e.opacity&&(0!==n.length||e.placeholderFillStyle)){var i,r,o,a=n[0];a&&(i=e.opacity<1||e.compositeOperation&&"source-over"!==e.compositeOperation||!e._isBottomItem()&&a._hasTransparencyChannel());var s,l=e.viewport.getZoom(!0),c=e.viewportToImageZoom(l);n.length>1&&c>e.smoothTileEdgesMinZoom&&!e.iOSDevice&&e.getRotation(!0)%360===0&&t.supportsCanvas&&(i=!0,r=a.getScaleForEdgeSmoothing(),o=a.getTranslationForEdgeSmoothing(r,e._drawer.getCanvasSize(!1),e._drawer.getCanvasSize(!0))),i&&(r||(s=e.viewport.viewportToViewerElementRectangle(e.getClippedBounds(!0)).getIntegerBoundingBox().times(t.pixelDensityRatio)),e._drawer._clear(!0,s)),r||(0!==e.viewport.degrees?e._drawer._offsetForRotation({degrees:e.viewport.degrees,useSketch:i}):e._drawer.viewer.viewport.flipped&&e._drawer._flip({}),e.getRotation(!0)%360!==0&&e._drawer._offsetForRotation({degrees:e.getRotation(!0),point:e.viewport.pixelFromPointNoRotate(e._getRotationPoint(!0),!0),useSketch:i}));var u=!1;if(e._clip){e._drawer.saveContext(i);var h=e.imageToViewportRectangle(e._clip,!0);h=h.rotate(-e.getRotation(!0),e._getRotationPoint(!0));var f=e._drawer.viewportToDrawerRectangle(h);r&&(f=f.times(r)),o&&(f=f.translate(o)),e._drawer.setClip(f,i),u=!0}if(e.placeholderFillStyle&&!1===e._hasOpaqueTile){var p=e._drawer.viewportToDrawerRectangle(e.getBounds(!0));r&&(p=p.times(r)),o&&(p=p.translate(o));var d=null;d="function"===typeof e.placeholderFillStyle?e.placeholderFillStyle(e,e._drawer.context):e.placeholderFillStyle,e._drawer.drawRectangle(p,d,i)}for(var v=n.length-1;v>=0;v--)a=n[v],e._drawer.drawTile(a,e._drawingHandler,i,r,o),a.beingDrawn=!0,e.viewer&&e.viewer.raiseEvent("tile-drawn",{tiledImage:e,tile:a});u&&e._drawer.restoreContext(i),r||(e.getRotation(!0)%360!==0&&e._drawer._restoreRotationChanges(i),0!==e.viewport.degrees?e._drawer._restoreRotationChanges(i):e._drawer.viewer.viewport.flipped&&e._drawer._flip({})),i&&(r&&(0!==e.viewport.degrees&&e._drawer._offsetForRotation({degrees:e.viewport.degrees,useSketch:!1}),e.getRotation(!0)%360!==0&&e._drawer._offsetForRotation({degrees:e.getRotation(!0),point:e.viewport.pixelFromPointNoRotate(e._getRotationPoint(!0),!0),useSketch:!1})),e._drawer.blendSketch({opacity:e.opacity,scale:r,translate:o,compositeOperation:e.compositeOperation,bounds:s}),r&&(e.getRotation(!0)%360!==0&&e._drawer._restoreRotationChanges(!1),0!==e.viewport.degrees&&e._drawer._restoreRotationChanges(!1))),g(e,n)}}function g(e,n){if(e.debugMode)for(var i=n.length-1;i>=0;i--){var r=n[i];try{e._drawer.drawDebugInfo(r,n.length,i,e)}catch(o){t.console.error(o)}}}t.TiledImage=function(e){var n=this;t.console.assert(e.tileCache,"[TiledImage] options.tileCache is required"),t.console.assert(e.drawer,"[TiledImage] options.drawer is required"),t.console.assert(e.viewer,"[TiledImage] options.viewer is required"),t.console.assert(e.imageLoader,"[TiledImage] options.imageLoader is required"),t.console.assert(e.source,"[TiledImage] options.source is required"),t.console.assert(!e.clip||e.clip instanceof t.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),t.EventSource.call(this),this._tileCache=e.tileCache,delete e.tileCache,this._drawer=e.drawer,delete e.drawer,this._imageLoader=e.imageLoader,delete e.imageLoader,e.clip instanceof t.Rect&&(this._clip=e.clip.clone()),delete e.clip;var i=e.x||0;delete e.x;var r=e.y||0;delete e.y,this.normHeight=e.source.dimensions.y/e.source.dimensions.x,this.contentAspectX=e.source.dimensions.x/e.source.dimensions.y;var o=1;e.width?(o=e.width,delete e.width,e.height&&(t.console.error("specifying both width and height to a tiledImage is not supported"),delete e.height)):e.height&&(o=e.height/this.normHeight,delete e.height);var a=e.fitBounds;delete e.fitBounds;var s=e.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete e.fitBoundsPlacement;var l=e.degrees||0;delete e.degrees,t.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,immediateRender:t.DEFAULT_SETTINGS.immediateRender,blendTime:t.DEFAULT_SETTINGS.blendTime,alwaysBlend:t.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:t.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:t.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:t.DEFAULT_SETTINGS.iOSDevice,debugMode:t.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:t.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:t.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:t.DEFAULT_SETTINGS.placeholderFillStyle,opacity:t.DEFAULT_SETTINGS.opacity,preload:t.DEFAULT_SETTINGS.preload,compositeOperation:t.DEFAULT_SETTINGS.compositeOperation},e),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new t.Spring({initial:i,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new t.Spring({initial:r,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new t.Spring({initial:o,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new t.Spring({initial:l,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),a&&this.fitBounds(a,s,!0),this._drawingHandler=function(e){n.viewer.raiseEvent("tile-drawing",t.extend({tiledImage:n},e))}},t.extend(t.TiledImage.prototype,t.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(t){t!==this._fullyLoaded&&(this._fullyLoaded=t,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=t.now(),this._needsDraw=!0},update:function(){var t=this._xSpring.update(),e=this._ySpring.update(),n=this._scaleSpring.update(),i=this._degreesSpring.update();return!!(t||e||n||i)&&(this._updateForScale(),this._needsDraw=!0,!0)},draw:function(){0!==this.opacity||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset()},getBounds:function(t){return this.getBoundsNoRotate(t).rotate(this.getRotation(t),this._getRotationPoint(t))},getBoundsNoRotate:function(e){return e?new t.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new t.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return t.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(e){var n=this.getBoundsNoRotate(e);if(this._clip){var i=e?this._worldWidthCurrent:this._worldWidthTarget,r=i/this.source.dimensions.x,o=this._clip.times(r);n=new t.Rect(n.x+o.x,n.y+o.y,o.width,o.height)}return n.rotate(this.getRotation(e),this._getRotationPoint(e))},getContentSize:function(){return new t.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(e,n,i){var r=i?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(e*(this.source.dimensions.x/r),n*(this.source.dimensions.y*this.contentAspectX/r))},viewportToImageCoordinates:function(e,n,i){var r;return e instanceof t.Point?(i=n,r=e):r=new t.Point(e,n),r=r.rotate(-this.getRotation(i),this._getRotationPoint(i)),i?this._viewportToImageDelta(r.x-this._xSpring.current.value,r.y-this._ySpring.current.value):this._viewportToImageDelta(r.x-this._xSpring.target.value,r.y-this._ySpring.target.value)},_imageToViewportDelta:function(e,n,i){var r=i?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(e/this.source.dimensions.x*r,n/this.source.dimensions.y/this.contentAspectX*r)},imageToViewportCoordinates:function(e,n,i){e instanceof t.Point&&(i=n,n=e.y,e=e.x);var r=this._imageToViewportDelta(e,n);return i?(r.x+=this._xSpring.current.value,r.y+=this._ySpring.current.value):(r.x+=this._xSpring.target.value,r.y+=this._ySpring.target.value),r.rotate(this.getRotation(i),this._getRotationPoint(i))},imageToViewportRectangle:function(e,n,i,r,o){var a=e;a instanceof t.Rect?o=n:a=new t.Rect(e,n,i,r);var s=this.imageToViewportCoordinates(a.getTopLeft(),o),l=this._imageToViewportDelta(a.width,a.height,o);return new t.Rect(s.x,s.y,l.x,l.y,a.degrees+this.getRotation(o))},viewportToImageRectangle:function(e,n,i,r,o){var a=e;e instanceof t.Rect?o=n:a=new t.Rect(e,n,i,r);var s=this.viewportToImageCoordinates(a.getTopLeft(),o),l=this._viewportToImageDelta(a.width,a.height,o);return new t.Rect(s.x,s.y,l.x,l.y,a.degrees-this.getRotation(o))},viewerElementToImageCoordinates:function(t){var e=this.viewport.pointFromPixel(t,!0);return this.viewportToImageCoordinates(e)},imageToViewerElementCoordinates:function(t){var e=this.imageToViewportCoordinates(t);return this.viewport.pixelFromPoint(e,!0)},windowToImageCoordinates:function(t){var e=t.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(e)},imageToWindowCoordinates:function(t){var e=this.imageToViewerElementCoordinates(t);return e.plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(e){var n=this._scaleSpring.current.value;return e=e.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new t.Rect((e.x-this._xSpring.current.value)/n,(e.y-this._ySpring.current.value)/n,e.width/n,e.height/n,e.degrees)},viewportToImageZoom:function(t){var e=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return e*t},imageToViewportZoom:function(t){var e=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return t/e},setPosition:function(t,e){var n=this._xSpring.target.value===t.x&&this._ySpring.target.value===t.y;if(e){if(n&&this._xSpring.current.value===t.x&&this._ySpring.current.value===t.y)return;this._xSpring.resetTo(t.x),this._ySpring.resetTo(t.y),this._needsDraw=!0}else{if(n)return;this._xSpring.springTo(t.x),this._ySpring.springTo(t.y),this._needsDraw=!0}n||this._raiseBoundsChange()},setWidth:function(t,e){this._setScale(t,e)},setHeight:function(t,e){this._setScale(t/this.normHeight,e)},fitBounds:function(e,n,i){n=n||t.Placement.CENTER;var r=t.Placement.properties[n],o=this.contentAspectX,a=0,s=0,l=1,c=1;if(this._clip&&(o=this._clip.getAspectRatio(),l=this._clip.width/this.source.dimensions.x,c=this._clip.height/this.source.dimensions.y,e.getAspectRatio()>o?(a=this._clip.x/this._clip.height*e.height,s=this._clip.y/this._clip.height*e.height):(a=this._clip.x/this._clip.width*e.width,s=this._clip.y/this._clip.width*e.width)),e.getAspectRatio()>o){var u=e.height/c,h=0;r.isHorizontallyCentered?h=(e.width-e.height*o)/2:r.isRight&&(h=e.width-e.height*o),this.setPosition(new t.Point(e.x-a+h,e.y-s),i),this.setHeight(u,i)}else{var f=e.width/l,p=0;r.isVerticallyCentered?p=(e.height-e.width/o)/2:r.isBottom&&(p=e.height-e.width/o),this.setPosition(new t.Point(e.x-a,e.y-s+p),i),this.setWidth(f,i)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(e){t.console.assert(!e||e instanceof t.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),e instanceof t.Rect?this._clip=e.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getOpacity:function(){return this.opacity},setOpacity:function(t){t!==this.opacity&&(this.opacity=t,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(t){this._preload=!!t,this._needsDraw=!0},getRotation:function(t){return t?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(t,e){this._degreesSpring.target.value===t&&this._degreesSpring.isAtTargetValue()||(e?this._degreesSpring.resetTo(t):this._degreesSpring.springTo(t),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(t){return this.getBoundsNoRotate(t).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(t){t!==this.compositeOperation&&(this.compositeOperation=t,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(t,e){var n=this._scaleSpring.target.value===t;if(e){if(n&&this._scaleSpring.current.value===t)return;this._scaleSpring.resetTo(t),this._updateForScale(),this._needsDraw=!0}else{if(n)return;this._scaleSpring.springTo(t),this._updateForScale(),this._needsDraw=!0}n||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var t=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),e=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,n=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(e/this.minPixelRatio)/Math.log(2))));return n=Math.max(n,this.source.minLevel||0),t=Math.min(t,n),{lowestLevel:t,highestLevel:n}},_updateViewport:function(){this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};while(this.lastDrawn.length>0){var n=this.lastDrawn.pop();n.beingDrawn=!1}var i=this.viewport,o=this._viewportToTiledImageRectangle(i.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var a=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(o=o.intersection(a),null===o)return}for(var s=this._getLevelsInterval(),l=s.lowestLevel,u=s.highestLevel,h=null,f=!1,p=t.now(),g=u;g>=l;g--){var v=!1,m=i.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(g),!0).x*this._scaleSpring.current.value;if(g===l||!f&&m>=this.minPixelRatio)v=!0,f=!0;else if(!f)continue;var y=i.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(g),!1).x*this._scaleSpring.current.value,_=i.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,w=this.immediateRender?1:_,b=Math.min(1,(m-.5)/.5),x=w/Math.abs(w-y);if(h=e(this,f,v,g,b,x,o,p,h),c(this.coverage,g))break}d(this,this.lastDrawn),h&&!h.context2D?(r(this,h,p),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(e,n,i){var r,o,a,s;this.wrapHorizontal?(r=t.positiveModulo(n.x,1),o=t.positiveModulo(i.x,1)):(r=Math.max(0,n.x),o=Math.min(1,i.x));var l=1/this.source.aspectRatio;this.wrapVertical?(a=t.positiveModulo(n.y,l),s=t.positiveModulo(i.y,l)):(a=Math.max(0,n.y),s=Math.min(l,i.y));var c=this.source.getTileAtPoint(e,new t.Point(r,a)),u=this.source.getTileAtPoint(e,new t.Point(o,s)),h=this.source.getNumTiles(e);return this.wrapHorizontal&&(c.x+=h.x*Math.floor(n.x),u.x+=h.x*Math.floor(i.x)),this.wrapVertical&&(c.y+=h.y*Math.floor(n.y/l),u.y+=h.y*Math.floor(i.y/l)),{topLeft:c,bottomRight:u}}})}(OpenSeadragon),function(t){var e=function(e){t.console.assert(e,"[TileCache.cacheTile] options is required"),t.console.assert(e.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(e.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=e.tile,this.tiledImage=e.tiledImage},n=function(e){t.console.assert(e,"[ImageRecord] options is required"),t.console.assert(e.image,"[ImageRecord] options.image is required"),this._image=e.image,this._tiles=[]};n.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var t=document.createElement("canvas");t.width=this._image.width,t.height=this._image.height,this._renderedContext=t.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(e){t.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=e},addTile:function(e){t.console.assert(e,"[ImageRecord.addTile] tile is required"),this._tiles.push(e)},removeTile:function(e){for(var n=0;n<this._tiles.length;n++)if(this._tiles[n]===e)return void this._tiles.splice(n,1);t.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",e)},getTileCount:function(){return this._tiles.length}},t.TileCache=function(e){e=e||{},this._maxImageCacheCount=e.maxImageCacheCount||t.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},t.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(i){t.console.assert(i,"[TileCache.cacheTile] options is required"),t.console.assert(i.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(i.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),t.console.assert(i.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var r=i.cutoff||0,o=this._tilesLoaded.length,a=this._imagesLoaded[i.tile.cacheKey];if(a||(t.console.assert(i.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),a=this._imagesLoaded[i.tile.cacheKey]=new n({image:i.image}),this._imagesLoadedCount++),a.addTile(i.tile),i.tile.cacheImageRecord=a,this._imagesLoadedCount>this._maxImageCacheCount){for(var s,l,c,u,h,f,p=null,d=-1,g=null,v=this._tilesLoaded.length-1;v>=0;v--)f=this._tilesLoaded[v],s=f.tile,s.level<=r||s.beingDrawn||(p?(u=s.lastTouchTime,l=p.lastTouchTime,h=s.level,c=p.level,(u<l||u==l&&h>c)&&(p=s,d=v,g=f)):(p=s,d=v,g=f));p&&d>=0&&(this._unloadTile(g),o=d)}this._tilesLoaded[o]=new e({tile:i.tile,tiledImage:i.tiledImage})},clearTilesFor:function(e){var n;t.console.assert(e,"[TileCache.clearTilesFor] tiledImage is required");for(var i=0;i<this._tilesLoaded.length;++i)n=this._tilesLoaded[i],n.tiledImage===e&&(this._unloadTile(n),this._tilesLoaded.splice(i,1),i--)},getImageRecord:function(e){return t.console.assert(e,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[e]},_unloadTile:function(e){t.console.assert(e,"[TileCache._unloadTile] tileRecord is required");var n=e.tile,i=e.tiledImage;n.unload(),n.cacheImageRecord=null;var r=this._imagesLoaded[n.cacheKey];r.removeTile(n),r.getTileCount()||(r.destroy(),delete this._imagesLoaded[n.cacheKey],this._imagesLoadedCount--),i.viewer.raiseEvent("tile-unloaded",{tile:n,tiledImage:i})}}}(OpenSeadragon),function(t){t.World=function(e){var n=this;t.console.assert(e.viewer,"[World] options.viewer is required"),t.EventSource.call(this),this.viewer=e.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(t){n._autoRefigureSizes?n._figureSizes():n._needsSizesFigured=!0},this._figureSizes()},t.extend(t.World.prototype,t.EventSource.prototype,{addItem:function(e,n){if(t.console.assert(e,"[World.addItem] item is required"),t.console.assert(e instanceof t.TiledImage,"[World.addItem] only TiledImages supported at this time"),n=n||{},void 0!==n.index){var i=Math.max(0,Math.min(this._items.length,n.index));this._items.splice(i,0,e)}else this._items.push(e);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,e.addHandler("bounds-change",this._delegatedFigureSizes),e.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:e})},getItemAt:function(e){return t.console.assert(void 0!==e,"[World.getItemAt] index is required"),this._items[e]},getIndexOfItem:function(e){return t.console.assert(e,"[World.getIndexOfItem] item is required"),t.indexOf(this._items,e)},getItemCount:function(){return this._items.length},setItemIndex:function(e,n){t.console.assert(e,"[World.setItemIndex] item is required"),t.console.assert(void 0!==n,"[World.setItemIndex] index is required");var i=this.getIndexOfItem(e);if(n>=this._items.length)throw new Error("Index bigger than number of layers.");n!==i&&-1!==i&&(this._items.splice(i,1),this._items.splice(n,0,e),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:e,previousIndex:i,newIndex:n}))},removeItem:function(e){t.console.assert(e,"[World.removeItem] item is required");var n=t.indexOf(this._items,e);-1!==n&&(e.removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy(),this._items.splice(n,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(e))},removeAll:function(){var t,e;for(this.viewer._cancelPendingImages(),e=0;e<this._items.length;e++)t=this._items[e],t.removeHandler("bounds-change",this._delegatedFigureSizes),t.removeHandler("clip-change",this._delegatedFigureSizes),t.destroy();var n=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,e=0;e<n.length;e++)t=n[e],this._raiseRemoveItem(t)},resetItems:function(){for(var t=0;t<this._items.length;t++)this._items[t].reset()},update:function(){for(var t=!1,e=0;e<this._items.length;e++)t=this._items[e].update()||t;return t},draw:function(){for(var t=0;t<this._items.length;t++)this._items[t].draw();this._needsDraw=!1},needsDraw:function(){for(var t=0;t<this._items.length;t++)if(this._items[t].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(t){this._autoRefigureSizes=t,t&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(e){e=e||{};var n,i=e.immediately||!1,r=e.layout||t.DEFAULT_SETTINGS.collectionLayout,o=e.rows||t.DEFAULT_SETTINGS.collectionRows,a=e.columns||t.DEFAULT_SETTINGS.collectionColumns,s=e.tileSize||t.DEFAULT_SETTINGS.collectionTileSize,l=e.tileMargin||t.DEFAULT_SETTINGS.collectionTileMargin,c=s+l;n=!e.rows&&a?a:Math.ceil(this._items.length/o);var u,h,f,p,d,g=0,v=0;this.setAutoRefigureSizes(!1);for(var m=0;m<this._items.length;m++)m&&m%n===0&&("horizontal"===r?(v+=c,g=0):(g+=c,v=0)),u=this._items[m],h=u.getBounds(),f=h.width>h.height?s:s*(h.width/h.height),p=f*(h.height/h.width),d=new t.Point(g+(s-f)/2,v+(s-p)/2),u.setPosition(d,i),u.setWidth(f,i),"horizontal"===r?g+=c:v+=c;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var e=this._homeBounds?this._homeBounds.clone():null,n=this._contentSize?this._contentSize.clone():null,i=this._contentFactor||0;if(this._items.length){var r=this._items[0],o=r.getBounds();this._contentFactor=r.getContentSize().x/o.width;for(var a=r.getClippedBounds().getBoundingBox(),s=a.x,l=a.y,c=a.x+a.width,u=a.y+a.height,h=1;h<this._items.length;h++)r=this._items[h],o=r.getBounds(),this._contentFactor=Math.max(this._contentFactor,r.getContentSize().x/o.width),a=r.getClippedBounds().getBoundingBox(),s=Math.min(s,a.x),l=Math.min(l,a.y),c=Math.max(c,a.x+a.width),u=Math.max(u,a.y+a.height);this._homeBounds=new t.Rect(s,l,c-s,u-l),this._contentSize=new t.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new t.Rect(0,0,1,1),this._contentSize=new t.Point(1,1),this._contentFactor=1;this._contentFactor===i&&this._homeBounds.equals(e)&&this._contentSize.equals(n)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(t){this.raiseEvent("remove-item",{item:t})}})}(OpenSeadragon)},ad2b:function(t,e,n){(function(t,n){var i=200,r="Expected a function",o="__lodash_hash_undefined__",a=1,s=2,l=1/0,c=9007199254740991,u="[object Arguments]",h="[object Array]",f="[object Boolean]",p="[object Date]",d="[object Error]",g="[object Function]",v="[object GeneratorFunction]",m="[object Map]",y="[object Number]",_="[object Object]",w="[object Promise]",b="[object RegExp]",x="[object Set]",T="[object String]",S="[object Symbol]",E="[object WeakMap]",C="[object ArrayBuffer]",P="[object DataView]",k="[object Float32Array]",A="[object Float64Array]",O="[object Int8Array]",R="[object Int16Array]",L="[object Int32Array]",N="[object Uint8Array]",I="[object Uint8ClampedArray]",M="[object Uint16Array]",D="[object Uint32Array]",j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B=/^\w*$/,H=/^\./,F=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z=/[\\^$.*+?()[\]{}|]/g,U=/\\(\\)?/g,q=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,V={};V[k]=V[A]=V[O]=V[R]=V[L]=V[N]=V[I]=V[M]=V[D]=!0,V[u]=V[h]=V[C]=V[f]=V[P]=V[p]=V[d]=V[g]=V[m]=V[y]=V[_]=V[b]=V[x]=V[T]=V[E]=!1;var W="object"==typeof t&&t&&t.Object===Object&&t,G="object"==typeof self&&self&&self.Object===Object&&self,Z=W||G||Function("return this")(),X=e&&!e.nodeType&&e,Y=X&&"object"==typeof n&&n&&!n.nodeType&&n,K=Y&&Y.exports===X,J=K&&W.process,Q=function(){try{return J&&J.binding("util")}catch(t){}}(),tt=Q&&Q.isTypedArray;function et(t,e){var n=-1,i=t?t.length:0;while(++n<i)if(e(t[n],n,t))return!0;return!1}function nt(t){return function(e){return null==e?void 0:e[t]}}function it(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}function rt(t){return function(e){return t(e)}}function ot(t,e){return null==t?void 0:t[e]}function at(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function st(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function lt(t,e){return function(n){return t(e(n))}}function ct(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var ut=Array.prototype,ht=Function.prototype,ft=Object.prototype,pt=Z["__core-js_shared__"],dt=function(){var t=/[^.]+$/.exec(pt&&pt.keys&&pt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),gt=ht.toString,vt=ft.hasOwnProperty,mt=ft.toString,yt=RegExp("^"+gt.call(vt).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_t=Z.Symbol,wt=Z.Uint8Array,bt=ft.propertyIsEnumerable,xt=ut.splice,Tt=lt(Object.keys,Object),St=He(Z,"DataView"),Et=He(Z,"Map"),Ct=He(Z,"Promise"),Pt=He(Z,"Set"),kt=He(Z,"WeakMap"),At=He(Object,"create"),Ot=Je(St),Rt=Je(Et),Lt=Je(Ct),Nt=Je(Pt),It=Je(kt),Mt=_t?_t.prototype:void 0,Dt=Mt?Mt.valueOf:void 0,jt=Mt?Mt.toString:void 0;function Bt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Ht(){this.__data__=At?At(null):{}}function Ft(t){return this.has(t)&&delete this.__data__[t]}function zt(t){var e=this.__data__;if(At){var n=e[t];return n===o?void 0:n}return vt.call(e,t)?e[t]:void 0}function Ut(t){var e=this.__data__;return At?void 0!==e[t]:vt.call(e,t)}function qt(t,e){var n=this.__data__;return n[t]=At&&void 0===e?o:e,this}function $t(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Vt(){this.__data__=[]}function Wt(t){var e=this.__data__,n=fe(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():xt.call(e,n,1),!0}function Gt(t){var e=this.__data__,n=fe(e,t);return n<0?void 0:e[n][1]}function Zt(t){return fe(this.__data__,t)>-1}function Xt(t,e){var n=this.__data__,i=fe(n,t);return i<0?n.push([t,e]):n[i][1]=e,this}function Yt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Kt(){this.__data__={hash:new Bt,map:new(Et||$t),string:new Bt}}function Jt(t){return je(this,t)["delete"](t)}function Qt(t){return je(this,t).get(t)}function te(t){return je(this,t).has(t)}function ee(t,e){return je(this,t).set(t,e),this}function ne(t){var e=-1,n=t?t.length:0;this.__data__=new Yt;while(++e<n)this.add(t[e])}function ie(t){return this.__data__.set(t,o),this}function re(t){return this.__data__.has(t)}function oe(t){this.__data__=new $t(t)}function ae(){this.__data__=new $t}function se(t){return this.__data__["delete"](t)}function le(t){return this.__data__.get(t)}function ce(t){return this.__data__.has(t)}function ue(t,e){var n=this.__data__;if(n instanceof $t){var r=n.__data__;if(!Et||r.length<i-1)return r.push([t,e]),this;n=this.__data__=new Yt(r)}return n.set(t,e),this}function he(t,e){var n=rn(t)||nn(t)?it(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!vt.call(t,o)||r&&("length"==o||Ue(o,i))||n.push(o);return n}function fe(t,e){var n=t.length;while(n--)if(en(t[n][0],e))return n;return-1}Bt.prototype.clear=Ht,Bt.prototype["delete"]=Ft,Bt.prototype.get=zt,Bt.prototype.has=Ut,Bt.prototype.set=qt,$t.prototype.clear=Vt,$t.prototype["delete"]=Wt,$t.prototype.get=Gt,$t.prototype.has=Zt,$t.prototype.set=Xt,Yt.prototype.clear=Kt,Yt.prototype["delete"]=Jt,Yt.prototype.get=Qt,Yt.prototype.has=te,Yt.prototype.set=ee,ne.prototype.add=ne.prototype.push=ie,ne.prototype.has=re,oe.prototype.clear=ae,oe.prototype["delete"]=se,oe.prototype.get=le,oe.prototype.has=ce,oe.prototype.set=ue;var pe=Le(ge),de=Ne();function ge(t,e){return t&&de(t,e,vn)}function ve(t,e){e=$e(e,t)?[e]:Re(e);var n=0,i=e.length;while(null!=t&&n<i)t=t[Ke(e[n++])];return n&&n==i?t:void 0}function me(t){return mt.call(t)}function ye(t,e){return null!=t&&e in Object(t)}function _e(t,e,n,i,r){return t===e||(null==t||null==e||!cn(t)&&!un(e)?t!==t&&e!==e:we(t,e,_e,n,i,r))}function we(t,e,n,i,r,o){var a=rn(t),l=rn(e),c=h,f=h;a||(c=Fe(t),c=c==u?_:c),l||(f=Fe(e),f=f==u?_:f);var p=c==_&&!at(t),d=f==_&&!at(e),g=c==f;if(g&&!p)return o||(o=new oe),a||fn(t)?Ie(t,e,n,i,r,o):Me(t,e,c,n,i,r,o);if(!(r&s)){var v=p&&vt.call(t,"__wrapped__"),m=d&&vt.call(e,"__wrapped__");if(v||m){var y=v?t.value():t,w=m?e.value():e;return o||(o=new oe),n(y,w,i,r,o)}}return!!g&&(o||(o=new oe),De(t,e,n,i,r,o))}function be(t,e,n,i){var r=n.length,o=r,l=!i;if(null==t)return!o;t=Object(t);while(r--){var c=n[r];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}while(++r<o){c=n[r];var u=c[0],h=t[u],f=c[1];if(l&&c[2]){if(void 0===h&&!(u in t))return!1}else{var p=new oe;if(i)var d=i(h,f,u,t,e,p);if(!(void 0===d?_e(f,h,i,a|s,p):d))return!1}}return!0}function xe(t){if(!cn(t)||We(t))return!1;var e=sn(t)||at(t)?yt:q;return e.test(Je(t))}function Te(t){return un(t)&&ln(t.length)&&!!V[mt.call(t)]}function Se(t){return"function"==typeof t?t:null==t?mn:"object"==typeof t?rn(t)?Pe(t[0],t[1]):Ce(t):yn(t)}function Ee(t){if(!Ge(t))return Tt(t);var e=[];for(var n in Object(t))vt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ce(t){var e=Be(t);return 1==e.length&&e[0][2]?Xe(e[0][0],e[0][1]):function(n){return n===t||be(n,t,e)}}function Pe(t,e){return $e(t)&&Ze(e)?Xe(Ke(t),e):function(n){var i=dn(n,t);return void 0===i&&i===e?gn(n,t):_e(e,i,void 0,a|s)}}function ke(t){return function(e){return ve(e,t)}}function Ae(t,e){var n;return pe(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function Oe(t){if("string"==typeof t)return t;if(hn(t))return jt?jt.call(t):"";var e=t+"";return"0"==e&&1/t==-l?"-0":e}function Re(t){return rn(t)?t:Ye(t)}function Le(t,e){return function(n,i){if(null==n)return n;if(!on(n))return t(n,i);var r=n.length,o=e?r:-1,a=Object(n);while(e?o--:++o<r)if(!1===i(a[o],o,a))break;return n}}function Ne(t){return function(e,n,i){var r=-1,o=Object(e),a=i(e),s=a.length;while(s--){var l=a[t?s:++r];if(!1===n(o[l],l,o))break}return e}}function Ie(t,e,n,i,r,o){var l=r&s,c=t.length,u=e.length;if(c!=u&&!(l&&u>c))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var f=-1,p=!0,d=r&a?new ne:void 0;o.set(t,e),o.set(e,t);while(++f<c){var g=t[f],v=e[f];if(i)var m=l?i(v,g,f,e,t,o):i(g,v,f,t,e,o);if(void 0!==m){if(m)continue;p=!1;break}if(d){if(!et(e,function(t,e){if(!d.has(e)&&(g===t||n(g,t,i,r,o)))return d.add(e)})){p=!1;break}}else if(g!==v&&!n(g,v,i,r,o)){p=!1;break}}return o["delete"](t),o["delete"](e),p}function Me(t,e,n,i,r,o,l){switch(n){case P:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case C:return!(t.byteLength!=e.byteLength||!i(new wt(t),new wt(e)));case f:case p:case y:return en(+t,+e);case d:return t.name==e.name&&t.message==e.message;case b:case T:return t==e+"";case m:var c=st;case x:var u=o&s;if(c||(c=ct),t.size!=e.size&&!u)return!1;var h=l.get(t);if(h)return h==e;o|=a,l.set(t,e);var g=Ie(c(t),c(e),i,r,o,l);return l["delete"](t),g;case S:if(Dt)return Dt.call(t)==Dt.call(e)}return!1}function De(t,e,n,i,r,o){var a=r&s,l=vn(t),c=l.length,u=vn(e),h=u.length;if(c!=h&&!a)return!1;var f=c;while(f--){var p=l[f];if(!(a?p in e:vt.call(e,p)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var g=!0;o.set(t,e),o.set(e,t);var v=a;while(++f<c){p=l[f];var m=t[p],y=e[p];if(i)var _=a?i(y,m,p,e,t,o):i(m,y,p,t,e,o);if(!(void 0===_?m===y||n(m,y,i,r,o):_)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var w=t.constructor,b=e.constructor;w!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b)&&(g=!1)}return o["delete"](t),o["delete"](e),g}function je(t,e){var n=t.__data__;return Ve(e)?n["string"==typeof e?"string":"hash"]:n.map}function Be(t){var e=vn(t),n=e.length;while(n--){var i=e[n],r=t[i];e[n]=[i,r,Ze(r)]}return e}function He(t,e){var n=ot(t,e);return xe(n)?n:void 0}var Fe=me;function ze(t,e,n){e=$e(e,t)?[e]:Re(e);var i,r=-1,o=e.length;while(++r<o){var a=Ke(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}if(i)return i;o=t?t.length:0;return!!o&&ln(o)&&Ue(a,o)&&(rn(t)||nn(t))}function Ue(t,e){return e=null==e?c:e,!!e&&("number"==typeof t||$.test(t))&&t>-1&&t%1==0&&t<e}function qe(t,e,n){if(!cn(n))return!1;var i=typeof e;return!!("number"==i?on(n)&&Ue(e,n.length):"string"==i&&e in n)&&en(n[e],t)}function $e(t,e){if(rn(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!hn(t))||(B.test(t)||!j.test(t)||null!=e&&t in Object(e))}function Ve(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function We(t){return!!dt&&dt in t}function Ge(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||ft;return t===n}function Ze(t){return t===t&&!cn(t)}function Xe(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(St&&Fe(new St(new ArrayBuffer(1)))!=P||Et&&Fe(new Et)!=m||Ct&&Fe(Ct.resolve())!=w||Pt&&Fe(new Pt)!=x||kt&&Fe(new kt)!=E)&&(Fe=function(t){var e=mt.call(t),n=e==_?t.constructor:void 0,i=n?Je(n):void 0;if(i)switch(i){case Ot:return P;case Rt:return m;case Lt:return w;case Nt:return x;case It:return E}return e});var Ye=tn(function(t){t=pn(t);var e=[];return H.test(t)&&e.push(""),t.replace(F,function(t,n,i,r){e.push(i?r.replace(U,"$1"):n||t)}),e});function Ke(t){if("string"==typeof t||hn(t))return t;var e=t+"";return"0"==e&&1/t==-l?"-0":e}function Je(t){if(null!=t){try{return gt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Qe(t,e,n){var i=rn(t)?et:Ae;return n&&qe(t,e,n)&&(e=void 0),i(t,Se(e,3))}function tn(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new(tn.Cache||Yt),n}function en(t,e){return t===e||t!==t&&e!==e}function nn(t){return an(t)&&vt.call(t,"callee")&&(!bt.call(t,"callee")||mt.call(t)==u)}tn.Cache=Yt;var rn=Array.isArray;function on(t){return null!=t&&ln(t.length)&&!sn(t)}function an(t){return un(t)&&on(t)}function sn(t){var e=cn(t)?mt.call(t):"";return e==g||e==v}function ln(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function cn(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function un(t){return!!t&&"object"==typeof t}function hn(t){return"symbol"==typeof t||un(t)&&mt.call(t)==S}var fn=tt?rt(tt):Te;function pn(t){return null==t?"":Oe(t)}function dn(t,e,n){var i=null==t?void 0:ve(t,e);return void 0===i?n:i}function gn(t,e){return null!=t&&ze(t,e,ye)}function vn(t){return on(t)?he(t):Ee(t)}function mn(t){return t}function yn(t){return $e(t)?nt(Ke(t)):ke(t)}n.exports=Qe}).call(this,n("c8ba"),n("62e4")(t))},b50d:function(t,e,n){"use strict";var i=n("c532"),r=n("467f"),o=n("30b5"),a=n("c345"),s=n("3934"),l=n("2d83"),c="undefined"!==typeof window&&window.btoa&&window.btoa.bind(window)||n("9fa6");t.exports=function(t){return new Promise(function(e,u){var h=t.data,f=t.headers;i.isFormData(h)&&delete f["Content-Type"];var p=new XMLHttpRequest,d="onreadystatechange",g=!1;if("undefined"===typeof window||!window.XDomainRequest||"withCredentials"in p||s(t.url)||(p=new window.XDomainRequest,d="onload",g=!0,p.onprogress=function(){},p.ontimeout=function(){}),t.auth){var v=t.auth.username||"",m=t.auth.password||"";f.Authorization="Basic "+c(v+":"+m)}if(p.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p[d]=function(){if(p&&(4===p.readyState||g)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,i=t.responseType&&"text"!==t.responseType?p.response:p.responseText,o={data:i,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:t,request:p};r(e,u,o),p=null}},p.onerror=function(){u(l("Network Error",t,null,p)),p=null},p.ontimeout=function(){u(l("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var y=n("7aac"),_=(t.withCredentials||s(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;_&&(f[t.xsrfHeaderName]=_)}if("setRequestHeader"in p&&i.forEach(f,function(t,e){"undefined"===typeof h&&"content-type"===e.toLowerCase()?delete f[e]:p.setRequestHeader(e,t)}),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(w){if("json"!==t.responseType)throw w}"function"===typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),u(t),p=null)}),void 0===h&&(h=null),p.send(h)})}},b514:function(t){t.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},b639:function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var i=n("1fb5"),r=n("9152"),o=n("e3db");function a(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=c.prototype):(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,t)}return u(this,t,e,n)}function u(t,e,n,i){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?v(t,e,n,i):"string"===typeof e?d(t,e,n):m(t,e)}function h(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e,n,i){return h(e),e<=0?l(t,e):void 0!==n?"string"===typeof i?l(t,e).fill(n,i):l(t,e).fill(n):l(t,e)}function p(t,e){if(h(e),t=l(t,e<0?0:0|y(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e,n){if("string"===typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|w(e,n);t=l(t,i);var r=t.write(e,n);return r!==i&&(t=t.slice(0,r)),t}function g(t,e){var n=e.length<0?0:0|y(e.length);t=l(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function v(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),c.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=c.prototype):t=g(t,e),t}function m(t,e){if(c.isBuffer(e)){var n=0|y(e.length);return t=l(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?l(t,0):g(t,e);if("Buffer"===e.type&&o(e.data))return g(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function _(t){return+t!=t&&(t=0),c.alloc(+t)}function w(t,e){if(c.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(t).length;default:if(i)return Y(t).length;e=(""+e).toLowerCase(),i=!0}}function b(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return j(this,e,n);case"utf8":case"utf-8":return L(this,e,n);case"ascii":return M(this,e,n);case"latin1":case"binary":return D(this,e,n);case"base64":return R(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function x(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function T(t,e,n,i,r){if(0===t.length)return-1;if("string"===typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"===typeof e&&(e=c.from(e,i)),c.isBuffer(e))return 0===e.length?-1:S(t,e,n,i,r);if("number"===typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):S(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function S(t,e,n,i,r){var o,a=1,s=t.length,l=e.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var u=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var h=!0,f=0;f<l;f++)if(c(t,o+f)!==c(e,f)){h=!1;break}if(h)return o}return-1}function E(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function C(t,e,n,i){return tt(Y(e,t.length-n),t,n,i)}function P(t,e,n,i){return tt(K(e),t,n,i)}function k(t,e,n,i){return P(t,e,n,i)}function A(t,e,n,i){return tt(Q(e),t,n,i)}function O(t,e,n,i){return tt(J(e,t.length-n),t,n,i)}function R(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function L(t,e,n){n=Math.min(t.length,n);var i=[],r=e;while(r<n){var o,a,s,l,c=t[r],u=null,h=c>239?4:c>223?3:c>191?2:1;if(r+h<=n)switch(h){case 1:c<128&&(u=c);break;case 2:o=t[r+1],128===(192&o)&&(l=(31&c)<<6|63&o,l>127&&(u=l));break;case 3:o=t[r+1],a=t[r+2],128===(192&o)&&128===(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a,l>2047&&(l<55296||l>57343)&&(u=l));break;case 4:o=t[r+1],a=t[r+2],s=t[r+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s,l>65535&&l<1114112&&(u=l))}null===u?(u=65533,h=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=h}return I(i)}e.Buffer=c,e.SlowBuffer=_,e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:a(),e.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return f(null,t,e,n)},c.allocUnsafe=function(t){return p(null,t)},c.allocUnsafeSlow=function(t){return p(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=c.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},c.byteLength=w,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)x(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)x(this,e,e+3),x(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)x(this,e,e+7),x(this,e+1,e+6),x(this,e+2,e+5),x(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?L(this,0,t):b.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,i,r){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,r>>>=0,this===t)return 0;for(var o=r-i,a=n-e,s=Math.min(o,a),l=this.slice(i,r),u=t.slice(e,n),h=0;h<s;++h)if(l[h]!==u[h]){o=l[h],a=u[h];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return T(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return T(this,t,e,n,!1)},c.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return E(this,t,e,n);case"utf8":case"utf-8":return C(this,t,e,n);case"ascii":return P(this,t,e,n);case"latin1":case"binary":return k(this,t,e,n);case"base64":return A(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function I(t){var e=t.length;if(e<=N)return String.fromCharCode.apply(String,t);var n="",i=0;while(i<e)n+=String.fromCharCode.apply(String,t.slice(i,i+=N));return n}function M(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function D(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function j(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=X(t[o]);return r}function B(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function H(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,n,i,r,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function z(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function U(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function q(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function $(t,e,n,i,o){return o||q(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),r.write(t,e,n,i,23,4),n+4}function V(t,e,n,i,o){return o||q(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),r.write(t,e,n,i,52,8),n+8}c.prototype.slice=function(t,e){var n,i=this.length;if(t=~~t,e=void 0===e?i:~~e,t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=c.prototype;else{var r=e-t;n=new c(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||H(t,e,this.length);var i=this[t],r=1,o=0;while(++o<e&&(r*=256))i+=this[t+o]*r;return i},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||H(t,e,this.length);var i=this[t+--e],r=1;while(e>0&&(r*=256))i+=this[t+--e]*r;return i},c.prototype.readUInt8=function(t,e){return e||H(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||H(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||H(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||H(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||H(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||H(t,e,this.length);var i=this[t],r=1,o=0;while(++o<e&&(r*=256))i+=this[t+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*e)),i},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||H(t,e,this.length);var i=e,r=1,o=this[t+--i];while(i>0&&(r*=256))o+=this[t+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||H(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||H(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||H(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||H(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||H(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||H(t,4,this.length),r.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||H(t,4,this.length),r.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||H(t,8,this.length),r.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||H(t,8,this.length),r.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e|=0,n|=0,!i){var r=Math.pow(2,8*n)-1;F(this,t,e,n,r,0)}var o=1,a=0;this[e]=255&t;while(++a<n&&(o*=256))this[e+a]=t/o&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e|=0,n|=0,!i){var r=Math.pow(2,8*n)-1;F(this,t,e,n,r,0)}var o=n-1,a=1;this[e+o]=255&t;while(--o>=0&&(a*=256))this[e+o]=t/a&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):z(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):z(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):U(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);F(this,t,e,n,r-1,-r)}var o=0,a=1,s=0;this[e]=255&t;while(++o<n&&(a*=256))t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);F(this,t,e,n,r-1,-r)}var o=n-1,a=1,s=0;this[e+o]=255&t;while(--o>=0&&(a*=256))t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):z(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):z(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):U(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return $(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return $(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return V(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return V(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,i){if("string"===typeof t){if("string"===typeof e?(i=e,e=0,n=this.length):"string"===typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=c.isBuffer(t)?t:Y(new c(t,i).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var W=/[^+\/0-9A-Za-z-_]/g;function G(t){if(t=Z(t).replace(W,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function Z(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function X(t){return t<16?"0"+t.toString(16):t.toString(16)}function Y(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],a=0;a<i;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function K(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function J(t,e){for(var n,i,r,o=[],a=0;a<t.length;++a){if((e-=2)<0)break;n=t.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i)}return o}function Q(t){return i.toByteArray(G(t))}function tt(t,e,n,i){for(var r=0;r<i;++r){if(r+n>=e.length||r>=t.length)break;e[r+n]=t[r]}return r}function et(t){return t!==t}}).call(this,n("c8ba"))},baea:function(t,e,n){var i=n("4d1e"),r=n("1880"),o=i.isTag;function a(t,e){return t.children?t.children.map(function(t){return r(t,e)}).join(""):""}function s(t){return Array.isArray(t)?t.map(s).join(""):o(t)||t.type===i.CDATA?s(t.children):t.type===i.Text?t.data:""}t.exports={getInnerHTML:a,getOuterHTML:r,getText:s}},bc3a:function(t,e,n){t.exports=n("cee4")},bcc5:function(t,e,n){t.exports=s;var i=n("374e"),r=n(1).Writable,o=n("7d72").StringDecoder,a=n("b639").Buffer;function s(t,e){var n=this._parser=new i(t,e),a=this._decoder=new o;r.call(this,{decodeStrings:!1}),this.once("finish",function(){n.end(a.end())})}n("3fb5")(s,r),r.prototype._write=function(t,e,n){t instanceof a&&(t=this._decoder.write(t)),this._parser.write(t),n()}},c345:function(t,e,n){"use strict";var i=n("c532"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(i.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=i.trim(t.substr(0,o)).toLowerCase(),n=i.trim(t.substr(o+1)),e){if(a[e]&&r.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},c401:function(t,e,n){"use strict";var i=n("c532");t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},c532:function(t,e,n){"use strict";var i=n("1d2b"),r=n("044b"),o=Object.prototype.toString;function a(t){return"[object Array]"===o.call(t)}function s(t){return"[object ArrayBuffer]"===o.call(t)}function l(t){return"undefined"!==typeof FormData&&t instanceof FormData}function c(t){var e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function u(t){return"string"===typeof t}function h(t){return"number"===typeof t}function f(t){return"undefined"===typeof t}function p(t){return null!==t&&"object"===typeof t}function d(t){return"[object Date]"===o.call(t)}function g(t){return"[object File]"===o.call(t)}function v(t){return"[object Blob]"===o.call(t)}function m(t){return"[object Function]"===o.call(t)}function y(t){return p(t)&&m(t.pipe)}function _(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams}function w(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function b(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function x(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),a(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}function T(){var t={};function e(e,n){"object"===typeof t[n]&&"object"===typeof e?t[n]=T(t[n],e):t[n]=e}for(var n=0,i=arguments.length;n<i;n++)x(arguments[n],e);return t}function S(t,e,n){return x(e,function(e,r){t[r]=n&&"function"===typeof e?i(e,n):e}),t}t.exports={isArray:a,isArrayBuffer:s,isBuffer:r,isFormData:l,isArrayBufferView:c,isString:u,isNumber:h,isObject:p,isUndefined:f,isDate:d,isFile:g,isBlob:v,isFunction:m,isStream:y,isURLSearchParams:_,isStandardBrowserEnv:b,forEach:x,merge:T,extend:S,trim:w}},c8af:function(t,e,n){"use strict";var i=n("c532");t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}t.exports=n},cb57:function(t,e){t.exports=i;var n=/^([+\-]?\d*n)?\s*(?:([+\-]?)\s*(\d+))?$/;function i(t){if(t=t.trim().toLowerCase(),"even"===t)return[2,0];if("odd"===t)return[2,1];var e,i=t.match(n);if(!i)throw new SyntaxError("n-th rule couldn't be parsed ('"+t+"')");return i[1]?(e=parseInt(i[1],10),isNaN(e)&&(e="-"===i[1].charAt(0)?-1:1)):e=0,[e,i[3]?parseInt((i[2]||"")+i[3],10):0]}},cc5b:function(t,e,n){"use strict";t.exports=m;var i=n("99bc"),r=n("2241"),o=r.findOne,a=r.findAll,s=r.getChildren,l=r.removeSubsets,c=n("99e4").falseFunc,u=n("213a"),h=u.compileUnsafe,f=u.compileToken;function p(t){return function(e,n,i){return"function"!==typeof e&&(e=h(e,i,n)),n=Array.isArray(n)?l(n):s(n),t(e,n)}}var d=p(function(t,e){return t!==c&&e&&0!==e.length?a(t,e):[]}),g=p(function(t,e){return t!==c&&e&&0!==e.length?o(t,e):null});function v(t,e,n){return("function"===typeof e?e:u(e,n))(t)}function m(t,e,n){return d(t,e,n)}m.compile=u,m.filters=i.filters,m.pseudos=i.pseudos,m.selectAll=d,m.selectOne=g,m.is=v,m.parse=u,m.iterate=d,m._compileUnsafe=h,m._compileToken=f},cee4:function(t,e,n){"use strict";var i=n("c532"),r=n("1d2b"),o=n("0a06"),a=n("2444");function s(t){var e=new o(t),n=r(o.prototype.request,e);return i.extend(n,o.prototype,e),i.extend(n,e),n}var l=s(a);l.Axios=o,l.create=function(t){return s(i.merge(a,t))},l.Cancel=n("7a77"),l.CancelToken=n("8df4"),l.isCancel=n("2e67"),l.all=function(t){return Promise.all(t)},l.spread=n("0df6"),t.exports=l,t.exports.default=l},d116:function(t,e,n){var i=n("1880"),r=n("cc5b"),o=n("72ce"),a={merge:n("da81"),defaults:n("13ca")};function s(t,e,n){if(e)"string"===typeof e&&(e=r(e,t._root,n));else{if(!t._root||!t._root.children)return"";e=t._root.children}return i(e,n)}e.load=function(t,i){var r=n("53a3");i=a.defaults(i||{},r.prototype.options);var s=o(t,i),l=function(t,e,n,o){return this instanceof l?(o=a.defaults(o||{},i),r.call(this,t,e,n||s,o)):new l(t,e,n,o)};return l.prototype=Object.create(r.prototype),l.prototype.constructor=l,l.fn=l.prototype,l.prototype._originalRoot=s,a.merge(l,e),l._root=s,l._options=i,l},e.html=function(t,e){var i=n("53a3");return"[object Object]"!==Object.prototype.toString.call(t)||e||"length"in t||"type"in t||(e=t,t=void 0),e=a.defaults(e||{},this._options,i.prototype.options),s(this,t,e)},e.xml=function(t){var e=a.defaults({xmlMode:!0},this._options);return s(this,t,e)},e.text=function(t){t||(t=this.root());for(var n,i="",r=t.length,o=0;o<r;o++)n=t[o],"text"===n.type?i+=n.data:n.children&&"comment"!==n.type&&(i+=e.text(n.children));return i},e.parseHTML=function(t,e,n){var i;return t&&"string"===typeof t?("boolean"===typeof e&&(n=e),i=this.load(t),n||i("script").remove(),i.root()[0].children.slice()):null},e.root=function(){return this(this._root)},e.contains=function(t,e){if(e===t)return!1;while(e&&e!==e.parent)if(e=e.parent,e===t)return!0;return!1}},d2de:function(t,e,n){var i=n("374e"),r=n("f1d3");function o(e,n){return delete t.exports[e],t.exports[e]=n,n}t.exports={Parser:i,Tokenizer:n("0b32"),ElementType:n("8a50"),DomHandler:r,get FeedHandler(){return o("FeedHandler",n("fb27"))},get Stream(){return o("Stream",n("25e8"))},get WritableStream(){return o("WritableStream",n("bcc5"))},get ProxyHandler(){return o("ProxyHandler",n("e47a"))},get DomUtils(){return o("DomUtils",n("2241"))},get CollectingHandler(){return o("CollectingHandler",n("ff13"))},DefaultHandler:r,get RssHandler(){return o("RssHandler",this.FeedHandler)},parseDOM:function(t,e){var n=new r(e);return new i(n,e).end(t),n.dom},parseFeed:function(e,n){var r=new t.exports.FeedHandler(n);return new i(r,n).end(e),r.dom},createDomStream:function(t,e,n){var o=new r(t,e,n);return new i(o,e)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},d76b:function(t,e,n){(function(t,n){var i=200,r="Expected a function",o="__lodash_hash_undefined__",a=1,s=2,l=1/0,c=9007199254740991,u="[object Arguments]",h="[object Array]",f="[object Boolean]",p="[object Date]",d="[object Error]",g="[object Function]",v="[object GeneratorFunction]",m="[object Map]",y="[object Number]",_="[object Object]",w="[object Promise]",b="[object RegExp]",x="[object Set]",T="[object String]",S="[object Symbol]",E="[object WeakMap]",C="[object ArrayBuffer]",P="[object DataView]",k="[object Float32Array]",A="[object Float64Array]",O="[object Int8Array]",R="[object Int16Array]",L="[object Int32Array]",N="[object Uint8Array]",I="[object Uint8ClampedArray]",M="[object Uint16Array]",D="[object Uint32Array]",j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B=/^\w*$/,H=/^\./,F=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z=/[\\^$.*+?()[\]{}|]/g,U=/\\(\\)?/g,q=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,V={};V[k]=V[A]=V[O]=V[R]=V[L]=V[N]=V[I]=V[M]=V[D]=!0,V[u]=V[h]=V[C]=V[f]=V[P]=V[p]=V[d]=V[g]=V[m]=V[y]=V[_]=V[b]=V[x]=V[T]=V[E]=!1;var W="object"==typeof t&&t&&t.Object===Object&&t,G="object"==typeof self&&self&&self.Object===Object&&self,Z=W||G||Function("return this")(),X=e&&!e.nodeType&&e,Y=X&&"object"==typeof n&&n&&!n.nodeType&&n,K=Y&&Y.exports===X,J=K&&W.process,Q=function(){try{return J&&J.binding("util")}catch(t){}}(),tt=Q&&Q.isTypedArray;function et(t,e){var n=-1,i=t?t.length:0,r=0,o=[];while(++n<i){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function nt(t,e){var n=-1,i=t?t.length:0;while(++n<i)if(e(t[n],n,t))return!0;return!1}function it(t){return function(e){return null==e?void 0:e[t]}}function rt(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}function ot(t){return function(e){return t(e)}}function at(t,e){return null==t?void 0:t[e]}function st(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function lt(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function ct(t,e){return function(n){return t(e(n))}}function ut(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var ht=Array.prototype,ft=Function.prototype,pt=Object.prototype,dt=Z["__core-js_shared__"],gt=function(){var t=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),vt=ft.toString,mt=pt.hasOwnProperty,yt=pt.toString,_t=RegExp("^"+vt.call(mt).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=Z.Symbol,bt=Z.Uint8Array,xt=pt.propertyIsEnumerable,Tt=ht.splice,St=ct(Object.keys,Object),Et=Fe(Z,"DataView"),Ct=Fe(Z,"Map"),Pt=Fe(Z,"Promise"),kt=Fe(Z,"Set"),At=Fe(Z,"WeakMap"),Ot=Fe(Object,"create"),Rt=Je(Et),Lt=Je(Ct),Nt=Je(Pt),It=Je(kt),Mt=Je(At),Dt=wt?wt.prototype:void 0,jt=Dt?Dt.valueOf:void 0,Bt=Dt?Dt.toString:void 0;function Ht(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Ft(){this.__data__=Ot?Ot(null):{}}function zt(t){return this.has(t)&&delete this.__data__[t]}function Ut(t){var e=this.__data__;if(Ot){var n=e[t];return n===o?void 0:n}return mt.call(e,t)?e[t]:void 0}function qt(t){var e=this.__data__;return Ot?void 0!==e[t]:mt.call(e,t)}function $t(t,e){var n=this.__data__;return n[t]=Ot&&void 0===e?o:e,this}function Vt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Wt(){this.__data__=[]}function Gt(t){var e=this.__data__,n=pe(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Tt.call(e,n,1),!0}function Zt(t){var e=this.__data__,n=pe(e,t);return n<0?void 0:e[n][1]}function Xt(t){return pe(this.__data__,t)>-1}function Yt(t,e){var n=this.__data__,i=pe(n,t);return i<0?n.push([t,e]):n[i][1]=e,this}function Kt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Jt(){this.__data__={hash:new Ht,map:new(Ct||Vt),string:new Ht}}function Qt(t){return Be(this,t)["delete"](t)}function te(t){return Be(this,t).get(t)}function ee(t){return Be(this,t).has(t)}function ne(t,e){return Be(this,t).set(t,e),this}function ie(t){var e=-1,n=t?t.length:0;this.__data__=new Kt;while(++e<n)this.add(t[e])}function re(t){return this.__data__.set(t,o),this}function oe(t){return this.__data__.has(t)}function ae(t){this.__data__=new Vt(t)}function se(){this.__data__=new Vt}function le(t){return this.__data__["delete"](t)}function ce(t){return this.__data__.get(t)}function ue(t){return this.__data__.has(t)}function he(t,e){var n=this.__data__;if(n instanceof Vt){var r=n.__data__;if(!Ct||r.length<i-1)return r.push([t,e]),this;n=this.__data__=new Kt(r)}return n.set(t,e),this}function fe(t,e){var n=rn(t)||nn(t)?rt(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!mt.call(t,o)||r&&("length"==o||qe(o,i))||n.push(o);return n}function pe(t,e){var n=t.length;while(n--)if(en(t[n][0],e))return n;return-1}Ht.prototype.clear=Ft,Ht.prototype["delete"]=zt,Ht.prototype.get=Ut,Ht.prototype.has=qt,Ht.prototype.set=$t,Vt.prototype.clear=Wt,Vt.prototype["delete"]=Gt,Vt.prototype.get=Zt,Vt.prototype.has=Xt,Vt.prototype.set=Yt,Kt.prototype.clear=Jt,Kt.prototype["delete"]=Qt,Kt.prototype.get=te,Kt.prototype.has=ee,Kt.prototype.set=ne,ie.prototype.add=ie.prototype.push=re,ie.prototype.has=oe,ae.prototype.clear=se,ae.prototype["delete"]=le,ae.prototype.get=ce,ae.prototype.has=ue,ae.prototype.set=he;var de=Ne(me);function ge(t,e){var n=[];return de(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}var ve=Ie();function me(t,e){return t&&ve(t,e,vn)}function ye(t,e){e=$e(e,t)?[e]:Le(e);var n=0,i=e.length;while(null!=t&&n<i)t=t[Ke(e[n++])];return n&&n==i?t:void 0}function _e(t){return yt.call(t)}function we(t,e){return null!=t&&e in Object(t)}function be(t,e,n,i,r){return t===e||(null==t||null==e||!cn(t)&&!un(e)?t!==t&&e!==e:xe(t,e,be,n,i,r))}function xe(t,e,n,i,r,o){var a=rn(t),l=rn(e),c=h,f=h;a||(c=ze(t),c=c==u?_:c),l||(f=ze(e),f=f==u?_:f);var p=c==_&&!st(t),d=f==_&&!st(e),g=c==f;if(g&&!p)return o||(o=new ae),a||fn(t)?Me(t,e,n,i,r,o):De(t,e,c,n,i,r,o);if(!(r&s)){var v=p&&mt.call(t,"__wrapped__"),m=d&&mt.call(e,"__wrapped__");if(v||m){var y=v?t.value():t,w=m?e.value():e;return o||(o=new ae),n(y,w,i,r,o)}}return!!g&&(o||(o=new ae),je(t,e,n,i,r,o))}function Te(t,e,n,i){var r=n.length,o=r,l=!i;if(null==t)return!o;t=Object(t);while(r--){var c=n[r];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}while(++r<o){c=n[r];var u=c[0],h=t[u],f=c[1];if(l&&c[2]){if(void 0===h&&!(u in t))return!1}else{var p=new ae;if(i)var d=i(h,f,u,t,e,p);if(!(void 0===d?be(f,h,i,a|s,p):d))return!1}}return!0}function Se(t){if(!cn(t)||We(t))return!1;var e=sn(t)||st(t)?_t:q;return e.test(Je(t))}function Ee(t){return un(t)&&ln(t.length)&&!!V[yt.call(t)]}function Ce(t){return"function"==typeof t?t:null==t?mn:"object"==typeof t?rn(t)?Ae(t[0],t[1]):ke(t):yn(t)}function Pe(t){if(!Ge(t))return St(t);var e=[];for(var n in Object(t))mt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ke(t){var e=He(t);return 1==e.length&&e[0][2]?Xe(e[0][0],e[0][1]):function(n){return n===t||Te(n,t,e)}}function Ae(t,e){return $e(t)&&Ze(e)?Xe(Ke(t),e):function(n){var i=dn(n,t);return void 0===i&&i===e?gn(n,t):be(e,i,void 0,a|s)}}function Oe(t){return function(e){return ye(e,t)}}function Re(t){if("string"==typeof t)return t;if(hn(t))return Bt?Bt.call(t):"";var e=t+"";return"0"==e&&1/t==-l?"-0":e}function Le(t){return rn(t)?t:Ye(t)}function Ne(t,e){return function(n,i){if(null==n)return n;if(!on(n))return t(n,i);var r=n.length,o=e?r:-1,a=Object(n);while(e?o--:++o<r)if(!1===i(a[o],o,a))break;return n}}function Ie(t){return function(e,n,i){var r=-1,o=Object(e),a=i(e),s=a.length;while(s--){var l=a[t?s:++r];if(!1===n(o[l],l,o))break}return e}}function Me(t,e,n,i,r,o){var l=r&s,c=t.length,u=e.length;if(c!=u&&!(l&&u>c))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var f=-1,p=!0,d=r&a?new ie:void 0;o.set(t,e),o.set(e,t);while(++f<c){var g=t[f],v=e[f];if(i)var m=l?i(v,g,f,e,t,o):i(g,v,f,t,e,o);if(void 0!==m){if(m)continue;p=!1;break}if(d){if(!nt(e,function(t,e){if(!d.has(e)&&(g===t||n(g,t,i,r,o)))return d.add(e)})){p=!1;break}}else if(g!==v&&!n(g,v,i,r,o)){p=!1;break}}return o["delete"](t),o["delete"](e),p}function De(t,e,n,i,r,o,l){switch(n){case P:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case C:return!(t.byteLength!=e.byteLength||!i(new bt(t),new bt(e)));case f:case p:case y:return en(+t,+e);case d:return t.name==e.name&&t.message==e.message;case b:case T:return t==e+"";case m:var c=lt;case x:var u=o&s;if(c||(c=ut),t.size!=e.size&&!u)return!1;var h=l.get(t);if(h)return h==e;o|=a,l.set(t,e);var g=Me(c(t),c(e),i,r,o,l);return l["delete"](t),g;case S:if(jt)return jt.call(t)==jt.call(e)}return!1}function je(t,e,n,i,r,o){var a=r&s,l=vn(t),c=l.length,u=vn(e),h=u.length;if(c!=h&&!a)return!1;var f=c;while(f--){var p=l[f];if(!(a?p in e:mt.call(e,p)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var g=!0;o.set(t,e),o.set(e,t);var v=a;while(++f<c){p=l[f];var m=t[p],y=e[p];if(i)var _=a?i(y,m,p,e,t,o):i(m,y,p,t,e,o);if(!(void 0===_?m===y||n(m,y,i,r,o):_)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var w=t.constructor,b=e.constructor;w!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b)&&(g=!1)}return o["delete"](t),o["delete"](e),g}function Be(t,e){var n=t.__data__;return Ve(e)?n["string"==typeof e?"string":"hash"]:n.map}function He(t){var e=vn(t),n=e.length;while(n--){var i=e[n],r=t[i];e[n]=[i,r,Ze(r)]}return e}function Fe(t,e){var n=at(t,e);return Se(n)?n:void 0}var ze=_e;function Ue(t,e,n){e=$e(e,t)?[e]:Le(e);var i,r=-1,o=e.length;while(++r<o){var a=Ke(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}if(i)return i;o=t?t.length:0;return!!o&&ln(o)&&qe(a,o)&&(rn(t)||nn(t))}function qe(t,e){return e=null==e?c:e,!!e&&("number"==typeof t||$.test(t))&&t>-1&&t%1==0&&t<e}function $e(t,e){if(rn(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!hn(t))||(B.test(t)||!j.test(t)||null!=e&&t in Object(e))}function Ve(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function We(t){return!!gt&&gt in t}function Ge(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||pt;return t===n}function Ze(t){return t===t&&!cn(t)}function Xe(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(Et&&ze(new Et(new ArrayBuffer(1)))!=P||Ct&&ze(new Ct)!=m||Pt&&ze(Pt.resolve())!=w||kt&&ze(new kt)!=x||At&&ze(new At)!=E)&&(ze=function(t){var e=yt.call(t),n=e==_?t.constructor:void 0,i=n?Je(n):void 0;if(i)switch(i){case Rt:return P;case Lt:return m;case Nt:return w;case It:return x;case Mt:return E}return e});var Ye=tn(function(t){t=pn(t);var e=[];return H.test(t)&&e.push(""),t.replace(F,function(t,n,i,r){e.push(i?r.replace(U,"$1"):n||t)}),e});function Ke(t){if("string"==typeof t||hn(t))return t;var e=t+"";return"0"==e&&1/t==-l?"-0":e}function Je(t){if(null!=t){try{return vt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Qe(t,e){var n=rn(t)?et:ge;return n(t,Ce(e,3))}function tn(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new(tn.Cache||Kt),n}function en(t,e){return t===e||t!==t&&e!==e}function nn(t){return an(t)&&mt.call(t,"callee")&&(!xt.call(t,"callee")||yt.call(t)==u)}tn.Cache=Kt;var rn=Array.isArray;function on(t){return null!=t&&ln(t.length)&&!sn(t)}function an(t){return un(t)&&on(t)}function sn(t){var e=cn(t)?yt.call(t):"";return e==g||e==v}function ln(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function cn(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function un(t){return!!t&&"object"==typeof t}function hn(t){return"symbol"==typeof t||un(t)&&yt.call(t)==S}var fn=tt?ot(tt):Ee;function pn(t){return null==t?"":Re(t)}function dn(t,e,n){var i=null==t?void 0:ye(t,e);return void 0===i?n:i}function gn(t,e){return null!=t&&Ue(t,e,we)}function vn(t){return on(t)?fe(t):Pe(t)}function mn(t){return t}function yn(t){return $e(t)?it(Ke(t)):Oe(t)}n.exports=Qe}).call(this,n("c8ba"),n("62e4")(t))},d925:function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},da81:function(t,e,n){(function(t,n){var i=200,r="__lodash_hash_undefined__",o=800,a=16,s=9007199254740991,l="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",h="[object Boolean]",f="[object Date]",p="[object Error]",d="[object Function]",g="[object GeneratorFunction]",v="[object Map]",m="[object Number]",y="[object Null]",_="[object Object]",w="[object Proxy]",b="[object RegExp]",x="[object Set]",T="[object String]",S="[object Undefined]",E="[object WeakMap]",C="[object ArrayBuffer]",P="[object DataView]",k="[object Float32Array]",A="[object Float64Array]",O="[object Int8Array]",R="[object Int16Array]",L="[object Int32Array]",N="[object Uint8Array]",I="[object Uint8ClampedArray]",M="[object Uint16Array]",D="[object Uint32Array]",j=/[\\^$.*+?()[\]{}|]/g,B=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,F={};F[k]=F[A]=F[O]=F[R]=F[L]=F[N]=F[I]=F[M]=F[D]=!0,F[l]=F[c]=F[C]=F[h]=F[P]=F[f]=F[p]=F[d]=F[v]=F[m]=F[_]=F[b]=F[x]=F[T]=F[E]=!1;var z="object"==typeof t&&t&&t.Object===Object&&t,U="object"==typeof self&&self&&self.Object===Object&&self,q=z||U||Function("return this")(),$=e&&!e.nodeType&&e,V=$&&"object"==typeof n&&n&&!n.nodeType&&n,W=V&&V.exports===$,G=W&&z.process,Z=function(){try{return G&&G.binding&&G.binding("util")}catch(t){}}(),X=Z&&Z.isTypedArray;function Y(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function K(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}function J(t){return function(e){return t(e)}}function Q(t,e){return null==t?void 0:t[e]}function tt(t,e){return function(n){return t(e(n))}}function et(t,e){return"__proto__"==e?void 0:t[e]}var nt=Array.prototype,it=Function.prototype,rt=Object.prototype,ot=q["__core-js_shared__"],at=it.toString,st=rt.hasOwnProperty,lt=function(){var t=/[^.]+$/.exec(ot&&ot.keys&&ot.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ct=rt.toString,ut=at.call(Object),ht=RegExp("^"+at.call(st).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ft=W?q.Buffer:void 0,pt=q.Symbol,dt=q.Uint8Array,gt=ft?ft.allocUnsafe:void 0,vt=tt(Object.getPrototypeOf,Object),mt=Object.create,yt=rt.propertyIsEnumerable,_t=nt.splice,wt=pt?pt.toStringTag:void 0,bt=function(){try{var t=be(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),xt=ft?ft.isBuffer:void 0,Tt=Math.max,St=Date.now,Et=be(q,"Map"),Ct=be(Object,"create"),Pt=function(){function t(){}return function(e){if(!qe(e))return{};if(mt)return mt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function kt(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function At(){this.__data__=Ct?Ct(null):{},this.size=0}function Ot(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Rt(t){var e=this.__data__;if(Ct){var n=e[t];return n===r?void 0:n}return st.call(e,t)?e[t]:void 0}function Lt(t){var e=this.__data__;return Ct?void 0!==e[t]:st.call(e,t)}function Nt(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ct&&void 0===e?r:e,this}function It(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Mt(){this.__data__=[],this.size=0}function Dt(t){var e=this.__data__,n=ee(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():_t.call(e,n,1),--this.size,!0}function jt(t){var e=this.__data__,n=ee(e,t);return n<0?void 0:e[n][1]}function Bt(t){return ee(this.__data__,t)>-1}function Ht(t,e){var n=this.__data__,i=ee(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function Ft(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function zt(){this.size=0,this.__data__={hash:new kt,map:new(Et||It),string:new kt}}function Ut(t){var e=we(this,t)["delete"](t);return this.size-=e?1:0,e}function qt(t){return we(this,t).get(t)}function $t(t){return we(this,t).has(t)}function Vt(t,e){var n=we(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function Wt(t){var e=this.__data__=new It(t);this.size=e.size}function Gt(){this.__data__=new It,this.size=0}function Zt(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function Xt(t){return this.__data__.get(t)}function Yt(t){return this.__data__.has(t)}function Kt(t,e){var n=this.__data__;if(n instanceof It){var r=n.__data__;if(!Et||r.length<i-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ft(r)}return n.set(t,e),this.size=n.size,this}function Jt(t,e){var n=je(t),i=!n&&De(t),r=!n&&!i&&Fe(t),o=!n&&!i&&!r&&We(t),a=n||i||r||o,s=a?K(t.length,String):[],l=s.length;for(var c in t)!e&&!st.call(t,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Se(c,l))||s.push(c);return s}function Qt(t,e,n){(void 0===n||Me(t[e],n))&&(void 0!==n||e in t)||ne(t,e,n)}function te(t,e,n){var i=t[e];st.call(t,e)&&Me(i,n)&&(void 0!==n||e in t)||ne(t,e,n)}function ee(t,e){var n=t.length;while(n--)if(Me(t[n][0],e))return n;return-1}function ne(t,e,n){"__proto__"==e&&bt?bt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}kt.prototype.clear=At,kt.prototype["delete"]=Ot,kt.prototype.get=Rt,kt.prototype.has=Lt,kt.prototype.set=Nt,It.prototype.clear=Mt,It.prototype["delete"]=Dt,It.prototype.get=jt,It.prototype.has=Bt,It.prototype.set=Ht,Ft.prototype.clear=zt,Ft.prototype["delete"]=Ut,Ft.prototype.get=qt,Ft.prototype.has=$t,Ft.prototype.set=Vt,Wt.prototype.clear=Gt,Wt.prototype["delete"]=Zt,Wt.prototype.get=Xt,Wt.prototype.has=Yt,Wt.prototype.set=Kt;var ie=_e();function re(t){return null==t?void 0===t?S:y:wt&&wt in Object(t)?xe(t):Oe(t)}function oe(t){return $e(t)&&re(t)==l}function ae(t){if(!qe(t)||Pe(t))return!1;var e=ze(t)?ht:B;return e.test(Ie(t))}function se(t){return $e(t)&&Ue(t.length)&&!!F[re(t)]}function le(t){if(!qe(t))return Ae(t);var e=ke(t),n=[];for(var i in t)("constructor"!=i||!e&&st.call(t,i))&&n.push(i);return n}function ce(t,e,n,i,r){t!==e&&ie(e,function(o,a){if(qe(o))r||(r=new Wt),ue(t,e,a,n,ce,i,r);else{var s=i?i(et(t,a),o,a+"",t,e,r):void 0;void 0===s&&(s=o),Qt(t,a,s)}},Ze)}function ue(t,e,n,i,r,o,a){var s=et(t,n),l=et(e,n),c=a.get(l);if(c)Qt(t,n,c);else{var u=o?o(s,l,n+"",t,e,a):void 0,h=void 0===u;if(h){var f=je(l),p=!f&&Fe(l),d=!f&&!p&&We(l);u=l,f||p||d?je(s)?u=s:He(s)?u=ve(s):p?(h=!1,u=pe(l,!0)):d?(h=!1,u=ge(l,!0)):u=[]:Ve(l)||De(l)?(u=s,De(s)?u=Ge(s):(!qe(s)||i&&ze(s))&&(u=Te(l))):h=!1}h&&(a.set(l,u),r(u,l,i,o,a),a["delete"](l)),Qt(t,n,u)}}function he(t,e){return Le(Re(t,e,Ke),t+"")}var fe=bt?function(t,e){return bt(t,"toString",{configurable:!0,enumerable:!1,value:Ye(e),writable:!0})}:Ke;function pe(t,e){if(e)return t.slice();var n=t.length,i=gt?gt(n):new t.constructor(n);return t.copy(i),i}function de(t){var e=new t.constructor(t.byteLength);return new dt(e).set(new dt(t)),e}function ge(t,e){var n=e?de(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ve(t,e){var n=-1,i=t.length;e||(e=Array(i));while(++n<i)e[n]=t[n];return e}function me(t,e,n,i){var r=!n;n||(n={});var o=-1,a=e.length;while(++o<a){var s=e[o],l=i?i(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),r?ne(n,s,l):te(n,s,l)}return n}function ye(t){return he(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;o=t.length>3&&"function"==typeof o?(r--,o):void 0,a&&Ee(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),e=Object(e);while(++i<r){var s=n[i];s&&t(e,s,i,o)}return e})}function _e(t){return function(e,n,i){var r=-1,o=Object(e),a=i(e),s=a.length;while(s--){var l=a[t?s:++r];if(!1===n(o[l],l,o))break}return e}}function we(t,e){var n=t.__data__;return Ce(e)?n["string"==typeof e?"string":"hash"]:n.map}function be(t,e){var n=Q(t,e);return ae(n)?n:void 0}function xe(t){var e=st.call(t,wt),n=t[wt];try{t[wt]=void 0;var i=!0}catch(o){}var r=ct.call(t);return i&&(e?t[wt]=n:delete t[wt]),r}function Te(t){return"function"!=typeof t.constructor||ke(t)?{}:Pt(vt(t))}function Se(t,e){var n=typeof t;return e=null==e?s:e,!!e&&("number"==n||"symbol"!=n&&H.test(t))&&t>-1&&t%1==0&&t<e}function Ee(t,e,n){if(!qe(n))return!1;var i=typeof e;return!!("number"==i?Be(n)&&Se(e,n.length):"string"==i&&e in n)&&Me(n[e],t)}function Ce(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Pe(t){return!!lt&&lt in t}function ke(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||rt;return t===n}function Ae(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}function Oe(t){return ct.call(t)}function Re(t,e,n){return e=Tt(void 0===e?t.length-1:e,0),function(){var i=arguments,r=-1,o=Tt(i.length-e,0),a=Array(o);while(++r<o)a[r]=i[e+r];r=-1;var s=Array(e+1);while(++r<e)s[r]=i[r];return s[e]=n(a),Y(t,this,s)}}var Le=Ne(fe);function Ne(t){var e=0,n=0;return function(){var i=St(),r=a-(i-n);if(n=i,r>0){if(++e>=o)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Ie(t){if(null!=t){try{return at.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Me(t,e){return t===e||t!==t&&e!==e}var De=oe(function(){return arguments}())?oe:function(t){return $e(t)&&st.call(t,"callee")&&!yt.call(t,"callee")},je=Array.isArray;function Be(t){return null!=t&&Ue(t.length)&&!ze(t)}function He(t){return $e(t)&&Be(t)}var Fe=xt||Je;function ze(t){if(!qe(t))return!1;var e=re(t);return e==d||e==g||e==u||e==w}function Ue(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function qe(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function $e(t){return null!=t&&"object"==typeof t}function Ve(t){if(!$e(t)||re(t)!=_)return!1;var e=vt(t);if(null===e)return!0;var n=st.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&at.call(n)==ut}var We=X?J(X):se;function Ge(t){return me(t,Ze(t))}function Ze(t){return Be(t)?Jt(t,!0):le(t)}var Xe=ye(function(t,e,n){ce(t,e,n)});function Ye(t){return function(){return t}}function Ke(t){return t}function Je(){return!1}n.exports=Xe}).call(this,n("c8ba"),n("62e4")(t))},df7c:function(t,e,n){(function(t){function n(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function(t){return i.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}e.resolve=function(){for(var e="",i=!1,r=arguments.length-1;r>=-1&&!i;r--){var a=r>=0?arguments[r]:t.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return e=n(o(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),r="/"===a(t,-1);return t=n(o(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&r&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function i(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var n=t.length-1;n>=0;n--)if(""!==t[n])break;return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var r=i(t.split("/")),o=i(n.split("/")),a=Math.min(r.length,o.length),s=a,l=0;l<a;l++)if(r[l]!==o[l]){s=l;break}var c=[];for(l=s;l<r.length;l++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=r(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},e.basename=function(t,e){var n=r(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return r(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n("4362"))},e282:function(t,e,n){var i=n("051a"),r=n("a16e");e.decode=function(t,e){return(!e||e<=0?r.XML:r.HTML)(t)},e.decodeStrict=function(t,e){return(!e||e<=0?r.XML:r.HTMLStrict)(t)},e.encode=function(t,e){return(!e||e<=0?i.XML:i.HTML)(t)},e.encodeXML=i.XML,e.encodeHTML4=e.encodeHTML5=e.encodeHTML=i.HTML,e.decodeXML=e.decodeXMLStrict=r.XML,e.decodeHTML4=e.decodeHTML5=e.decodeHTML=r.HTML,e.decodeHTML4Strict=e.decodeHTML5Strict=e.decodeHTMLStrict=r.HTMLStrict,e.escape=i.escape},e3db:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},e47a:function(t,e,n){function i(t){this._cbs=t||{}}t.exports=i;var r=n("d2de").EVENTS;Object.keys(r).forEach(function(t){if(0===r[t])t="on"+t,i.prototype[t]=function(){this._cbs[t]&&this._cbs[t]()};else if(1===r[t])t="on"+t,i.prototype[t]=function(e){this._cbs[t]&&this._cbs[t](e)};else{if(2!==r[t])throw Error("wrong number of arguments");t="on"+t,i.prototype[t]=function(e,n){this._cbs[t]&&this._cbs[t](e,n)}}})},e683:function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},e972:function(t,e){t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",isTag:function(t){return"tag"===t.type||"script"===t.type||"style"===t.type}}},eb3d:function(t,e,n){"use strict";var i=n("6eab"),r=n.n(i);r.a},f0f2:function(t){t.exports={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"",in:"",infin:"",infintie:"",inodot:"",intcal:"",int:"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}},f1d3:function(t,e,n){var i=n("4d1e"),r=/\s+/g,o=n("54d4"),a=n("1d65");function s(t,e,n){"object"===typeof t?(n=e,e=t,t=null):"function"===typeof e&&(n=e,e=l),this._callback=t,this._options=e||l,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var l={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};s.prototype.onparserinit=function(t){this._parser=t},s.prototype.onreset=function(){s.call(this,this._callback,this._options,this._elementCB)},s.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},s.prototype._handleCallback=s.prototype.onerror=function(t){if("function"===typeof this._callback)this._callback(t,this.dom);else if(t)throw t},s.prototype.onclosetag=function(){var t=this._tagStack.pop();this._options.withEndIndices&&t&&(t.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(t)},s.prototype._createDomElement=function(t){if(!this._options.withDomLvl1)return t;var e;for(var n in e="tag"===t.type?Object.create(a):Object.create(o),t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},s.prototype._addDomElement=function(t){var e=this._tagStack[this._tagStack.length-1],n=e?e.children:this.dom,i=n[n.length-1];t.next=null,this._options.withStartIndices&&(t.startIndex=this._parser.startIndex),this._options.withEndIndices&&(t.endIndex=this._parser.endIndex),i?(t.prev=i,i.next=t):t.prev=null,n.push(t),t.parent=e||null},s.prototype.onopentag=function(t,e){var n={type:"script"===t?i.Script:"style"===t?i.Style:i.Tag,name:t,attribs:e,children:[]},r=this._createDomElement(n);this._addDomElement(r),this._tagStack.push(r)},s.prototype.ontext=function(t){var e,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(e=this.dom[this.dom.length-1]).type===i.Text)n?e.data=(e.data+t).replace(r," "):e.data+=t;else if(this._tagStack.length&&(e=this._tagStack[this._tagStack.length-1])&&(e=e.children[e.children.length-1])&&e.type===i.Text)n?e.data=(e.data+t).replace(r," "):e.data+=t;else{n&&(t=t.replace(r," "));var o=this._createDomElement({data:t,type:i.Text});this._addDomElement(o)}},s.prototype.oncomment=function(t){var e=this._tagStack[this._tagStack.length-1];if(e&&e.type===i.Comment)e.data+=t;else{var n={data:t,type:i.Comment},r=this._createDomElement(n);this._addDomElement(r),this._tagStack.push(r)}},s.prototype.oncdatastart=function(){var t={children:[{data:"",type:i.Text}],type:i.CDATA},e=this._createDomElement(t);this._addDomElement(e),this._tagStack.push(e)},s.prototype.oncommentend=s.prototype.oncdataend=function(){this._tagStack.pop()},s.prototype.onprocessinginstruction=function(t,e){var n=this._createDomElement({name:t,data:e,type:i.Directive});this._addDomElement(n)},t.exports=s},f6b4:function(t,e,n){"use strict";var i=n("c532");function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},f84c:function(t,e,n){var i=n("cc5b"),r=n("4a1c"),o=r.domEach,a=n("d2de").DomUtils.uniqueSort,s=r.isTag,l={bind:n("fe69"),forEach:n("aa6f"),reject:n("0db4"),filter:n("d76b"),reduce:n("4840")};e.find=function(t){var e,n=l.reduce(this,function(t,e){return t.concat(l.filter(e.children,s))},[]),r=this.constructor.contains;if(t&&"string"!==typeof t)return e=t.cheerio?t.get():[t],this._make(e.filter(function(t){var e,n;for(e=0,n=this.length;e<n;++e)if(r(this[e],t))return!0},this));var o={__proto__:this.options,context:this.toArray()};return this._make(i(t,n,o))},e.parent=function(t){var n=[];return o(this,function(t,e){var i=e.parent;i&&n.indexOf(i)<0&&n.push(i)}),arguments.length&&(n=e.filter.call(n,t,this)),this._make(n)},e.parents=function(t){var e=[];return this.get().reverse().forEach(function(n){u(this,n.parent,t,1/0).forEach(function(t){-1===e.indexOf(t)&&e.push(t)})},this),this._make(e)},e.parentsUntil=function(t,e){var n,r,o=[];return"string"===typeof t?n=i(t,this.parents().toArray(),this.options)[0]:t&&t.cheerio?r=t.toArray():t&&(n=t),this.toArray().reverse().forEach(function(t){while(t=t.parent){if(!(n&&t!==n||r&&-1===r.indexOf(t)||!n&&!r))break;s(t)&&-1===o.indexOf(t)&&o.push(t)}},this),this._make(e?i(e,o,this.options):o)},e.closest=function(t){var e=[];return t?(o(this,function(n,i){var r=u(this,i,t,1)[0];r&&e.indexOf(r)<0&&e.push(r)}.bind(this)),this._make(e)):this._make(e)},e.next=function(t){if(!this[0])return this;var n=[];return l.forEach(this,function(t){while(t=t.next)if(s(t))return void n.push(t)}),t?e.filter.call(n,t,this):this._make(n)},e.nextAll=function(t){if(!this[0])return this;var n=[];return l.forEach(this,function(t){while(t=t.next)s(t)&&-1===n.indexOf(t)&&n.push(t)}),t?e.filter.call(n,t,this):this._make(n)},e.nextUntil=function(t,n){if(!this[0])return this;var r,o,a=[];return"string"===typeof t?r=i(t,this.nextAll().get(),this.options)[0]:t&&t.cheerio?o=t.get():t&&(r=t),l.forEach(this,function(t){while(t=t.next){if(!(r&&t!==r||o&&-1===o.indexOf(t)||!r&&!o))break;s(t)&&-1===a.indexOf(t)&&a.push(t)}}),n?e.filter.call(a,n,this):this._make(a)},e.prev=function(t){if(!this[0])return this;var n=[];return l.forEach(this,function(t){while(t=t.prev)if(s(t))return void n.push(t)}),t?e.filter.call(n,t,this):this._make(n)},e.prevAll=function(t){if(!this[0])return this;var n=[];return l.forEach(this,function(t){while(t=t.prev)s(t)&&-1===n.indexOf(t)&&n.push(t)}),t?e.filter.call(n,t,this):this._make(n)},e.prevUntil=function(t,n){if(!this[0])return this;var r,o,a=[];return"string"===typeof t?r=i(t,this.prevAll().get(),this.options)[0]:t&&t.cheerio?o=t.get():t&&(r=t),l.forEach(this,function(t){while(t=t.prev){if(!(r&&t!==r||o&&-1===o.indexOf(t)||!r&&!o))break;s(t)&&-1===a.indexOf(t)&&a.push(t)}}),n?e.filter.call(a,n,this):this._make(a)},e.siblings=function(t){var n=this.parent(),i=l.filter(n?n.children():this.siblingsAndMe(),l.bind(function(t){return s(t)&&!this.is(t)},this));return void 0!==t?e.filter.call(i,t,this):this._make(i)},e.children=function(t){var n=l.reduce(this,function(t,e){return t.concat(l.filter(e.children,s))},[]);return void 0===t?this._make(n):e.filter.call(n,t,this)},e.contents=function(){return this._make(l.reduce(this,function(t,e){return t.push.apply(t,e.children),t},[]))},e.each=function(t){var e=0,n=this.length;while(e<n&&!1!==t.call(this[e],e,this[e]))++e;return this},e.map=function(t){return this._make(l.reduce(this,function(e,n,i){var r=t.call(n,i,n);return null==r?e:e.concat(r)},[]))};var c=function(t){return function(e,n){var r;return n=n||this,r="string"===typeof e?i.compile(e,n.options):"function"===typeof e?function(t,n){return e.call(t,n,t)}:e.cheerio?e.is.bind(e):function(t){return e===t},n._make(t(this,r))}};function u(t,n,i,r){var o=[];while(n&&o.length<r)i&&!e.filter.call([n],i,t).length||o.push(n),n=n.parent;return o}e.filter=c(l.filter),e.not=c(l.reject),e.has=function(t){var n=this;return e.filter.call(this,function(){return n._make(this).find(t).length>0})},e.first=function(){return this.length>1?this._make(this[0]):this},e.last=function(){return this.length>1?this._make(this[this.length-1]):this},e.eq=function(t){return t=+t,0===t&&this.length<=1?this:(t<0&&(t=this.length+t),this[t]?this._make(this[t]):this._make([]))},e.get=function(t){return null==t?Array.prototype.slice.call(this):this[t<0?this.length+t:t]},e.index=function(t){var e,n;return 0===arguments.length?(e=this.parent().children(),n=this[0]):"string"===typeof t?(e=this._make(t),n=this[0]):(e=this,n=t.cheerio?t[0]:t),e.get().indexOf(n)},e.slice=function(){return this._make([].slice.apply(this,arguments))},e.end=function(){return this.prevObject||this._make([])},e.add=function(t,e){for(var n=this._make(t,e),i=a(n.get().concat(this.get())),r=0;r<i.length;++r)n[r]=i[r];return n.length=i.length,n},e.addBack=function(t){return this.add(arguments.length?this.prevObject.filter(t):this.prevObject)}},faa1:function(t,e,n){"use strict";var i,r="object"===typeof Reflect?Reflect:null,o=r&&"function"===typeof r.apply?r.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};function a(t){console&&console.warn&&console.warn(t)}i=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!==t};function l(){l.init.call(this)}t.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var c=10;function u(t){return void 0===t._maxListeners?l.defaultMaxListeners:t._maxListeners}function h(t,e,n,i){var r,o,s;if("function"!==typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(o=t._events,void 0===o?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"===typeof s?s=o[e]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),r=u(t),r>0&&s.length>r&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=s.length,a(l)}return t}function f(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,t))}function p(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=f.bind(i);return r.listener=n,i.wrapFn=r,r}function d(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"===typeof r?n?[r.listener||r]:[r]:n?y(r):v(r,r.length)}function g(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function m(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function y(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!==typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},l.prototype.getMaxListeners=function(){return u(this)},l.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=r[t];if(void 0===l)return!1;if("function"===typeof l)o(l,this,e);else{var c=l.length,u=v(l,c);for(n=0;n<c;++n)o(u[n],this,e)}return!0},l.prototype.addListener=function(t,e){return h(this,t,e,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(t,e){return h(this,t,e,!0)},l.prototype.once=function(t,e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,p(this,t,e)),this},l.prototype.prependOnceListener=function(t,e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,p(this,t,e)),this},l.prototype.removeListener=function(t,e){var n,i,r,o,a;if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(i=this._events,void 0===i)return this;if(n=i[t],void 0===n)return this;if(n===e||n.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!==typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():m(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,a||e)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(t){var e,n,i;if(n=this._events,void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)r=o[i],"removeListener"!==r&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=n[t],"function"===typeof e)this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},l.prototype.listeners=function(t){return d(this,t,!0)},l.prototype.rawListeners=function(t){return d(this,t,!1)},l.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},l.prototype.listenerCount=g,l.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},fb27:function(t,e,n){var i=n("d2de"),r=i.DomHandler,o=i.DomUtils;function a(t,e){this.init(t,e)}function s(t,e){return o.getElementsByTagName(t,e,!0)}function l(t,e){return o.getElementsByTagName(t,e,!0,1)[0]}function c(t,e,n){return o.getText(o.getElementsByTagName(t,e,n,1)).trim()}function u(t,e,n,i,r){var o=c(n,i,r);o&&(t[e]=o)}n("3fb5")(a,r),a.prototype.init=r;var h=function(t){return"rss"===t||"feed"===t||"rdf:RDF"===t};a.prototype.onend=function(){var t,e,n={},i=l(h,this.dom);i&&("feed"===i.name?(e=i.children,n.type="atom",u(n,"id","id",e),u(n,"title","title",e),(t=l("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),u(n,"description","subtitle",e),(t=c("updated",e))&&(n.updated=new Date(t)),u(n,"author","email",e,!0),n.items=s("entry",e).map(function(t){var e,n={};return t=t.children,u(n,"id","id",t),u(n,"title","title",t),(e=l("link",t))&&(e=e.attribs)&&(e=e.href)&&(n.link=e),(e=c("summary",t)||c("content",t))&&(n.description=e),(e=c("updated",t))&&(n.pubDate=new Date(e)),n})):(e=l("channel",i.children).children,n.type=i.name.substr(0,3),n.id="",u(n,"title","title",e),u(n,"link","link",e),u(n,"description","description",e),(t=c("lastBuildDate",e))&&(n.updated=new Date(t)),u(n,"author","managingEditor",e,!0),n.items=s("item",i.children).map(function(t){var e,n={};return t=t.children,u(n,"id","guid",t),u(n,"title","title",t),u(n,"link","link",t),u(n,"description","description",t),(e=c("pubDate",t))&&(n.pubDate=new Date(e)),n}))),this.dom=n,r.prototype._handleCallback.call(this,i?null:Error("couldn't find root of feed"))},t.exports=a},fe69:function(t,e,n){(function(e){var n="Expected a function",i="__lodash_placeholder__",r=1,o=2,a=4,s=8,l=16,c=32,u=64,h=128,f=256,p=512,d=1/0,g=9007199254740991,v=1.7976931348623157e308,m=NaN,y=[["ary",h],["bind",r],["bindKey",o],["curry",s],["curryRight",l],["flip",p],["partial",c],["partialRight",u],["rearg",f]],_="[object Function]",w="[object GeneratorFunction]",b="[object Symbol]",x=/[\\^$.*+?()[\]{}|]/g,T=/^\s+|\s+$/g,S=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,E=/\{\n\/\* \[wrapped with (.+)\] \*/,C=/,? & /,P=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,A=/^\[object .+?Constructor\]$/,O=/^0o[0-7]+$/i,R=/^(?:0|[1-9]\d*)$/,L=parseInt,N="object"==typeof e&&e&&e.Object===Object&&e,I="object"==typeof self&&self&&self.Object===Object&&self,M=N||I||Function("return this")();function D(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function j(t,e){var n=-1,i=t?t.length:0;while(++n<i)if(!1===e(t[n],n,t))break;return t}function B(t,e){var n=t?t.length:0;return!!n&&F(t,e,0)>-1}function H(t,e,n,i){var r=t.length,o=n+(i?1:-1);while(i?o--:++o<r)if(e(t[o],o,t))return o;return-1}function F(t,e,n){if(e!==e)return H(t,z,n);var i=n-1,r=t.length;while(++i<r)if(t[i]===e)return i;return-1}function z(t){return t!==t}function U(t,e){var n=t.length,i=0;while(n--)t[n]===e&&i++;return i}function q(t,e){return null==t?void 0:t[e]}function $(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function V(t,e){var n=-1,r=t.length,o=0,a=[];while(++n<r){var s=t[n];s!==e&&s!==i||(t[n]=i,a[o++]=n)}return a}var W=Function.prototype,G=Object.prototype,Z=M["__core-js_shared__"],X=function(){var t=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Y=W.toString,K=G.hasOwnProperty,J=G.toString,Q=RegExp("^"+Y.call(K).replace(x,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tt=Object.create,et=Math.max,nt=Math.min,it=function(){var t=yt(Object,"defineProperty"),e=yt.name;return e&&e.length>2?t:void 0}();function rt(t){return At(t)?tt(t):{}}function ot(t){if(!At(t)||xt(t))return!1;var e=kt(t)||$(t)?Q:A;return e.test(Et(t))}function at(t,e){return e=et(void 0===e?t.length-1:e,0),function(){var n=arguments,i=-1,r=et(n.length-e,0),o=Array(r);while(++i<r)o[i]=n[e+i];i=-1;var a=Array(e+1);while(++i<e)a[i]=n[i];return a[e]=o,D(t,this,a)}}function st(t,e,n,i){var r=-1,o=t.length,a=n.length,s=-1,l=e.length,c=et(o-a,0),u=Array(l+c),h=!i;while(++s<l)u[s]=e[s];while(++r<a)(h||r<o)&&(u[n[r]]=t[r]);while(c--)u[s++]=t[r++];return u}function lt(t,e,n,i){var r=-1,o=t.length,a=-1,s=n.length,l=-1,c=e.length,u=et(o-s,0),h=Array(u+c),f=!i;while(++r<u)h[r]=t[r];var p=r;while(++l<c)h[p+l]=e[l];while(++a<s)(f||r<o)&&(h[p+n[a]]=t[r++]);return h}function ct(t,e){var n=-1,i=t.length;e||(e=Array(i));while(++n<i)e[n]=t[n];return e}function ut(t,e,n){var i=e&r,o=ht(t);function a(){var e=this&&this!==M&&this instanceof a?o:t;return e.apply(i?n:this,arguments)}return a}function ht(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=rt(t.prototype),i=t.apply(n,e);return At(i)?i:n}}function ft(t,e,n){var i=ht(t);function r(){var o=arguments.length,a=Array(o),s=o,l=mt(r);while(s--)a[s]=arguments[s];var c=o<3&&a[0]!==l&&a[o-1]!==l?[]:V(a,l);if(o-=c.length,o<n)return gt(t,e,pt,r.placeholder,void 0,a,c,void 0,void 0,n-o);var u=this&&this!==M&&this instanceof r?i:t;return D(u,this,a)}return r}function pt(t,e,n,i,a,c,u,f,d,g){var v=e&h,m=e&r,y=e&o,_=e&(s|l),w=e&p,b=y?void 0:ht(t);function x(){var r=arguments.length,o=Array(r),s=r;while(s--)o[s]=arguments[s];if(_)var l=mt(x),h=U(o,l);if(i&&(o=st(o,i,a,_)),c&&(o=lt(o,c,u,_)),r-=h,_&&r<g){var p=V(o,l);return gt(t,e,pt,x.placeholder,n,o,p,f,d,g-r)}var T=m?n:this,S=y?T[t]:t;return r=o.length,f?o=Tt(o,f):w&&r>1&&o.reverse(),v&&d<r&&(o.length=d),this&&this!==M&&this instanceof x&&(S=b||ht(S)),S.apply(T,o)}return x}function dt(t,e,n,i){var o=e&r,a=ht(t);function s(){var e=-1,r=arguments.length,l=-1,c=i.length,u=Array(c+r),h=this&&this!==M&&this instanceof s?a:t;while(++l<c)u[l]=i[l];while(r--)u[l++]=arguments[++e];return D(h,o?n:this,u)}return s}function gt(t,e,n,i,l,h,f,p,d,g){var v=e&s,m=v?f:void 0,y=v?void 0:f,_=v?h:void 0,w=v?void 0:h;e|=v?c:u,e&=~(v?u:c),e&a||(e&=~(r|o));var b=n(t,e,l,_,m,w,y,p,d,g);return b.placeholder=i,St(b,t,e)}function vt(t,e,i,a,h,f,p,d){var g=e&o;if(!g&&"function"!=typeof t)throw new TypeError(n);var v=a?a.length:0;if(v||(e&=~(c|u),a=h=void 0),p=void 0===p?p:et(Nt(p),0),d=void 0===d?d:Nt(d),v-=h?h.length:0,e&u){var m=a,y=h;a=h=void 0}var _=[t,e,i,a,h,m,y,f,p,d];if(t=_[0],e=_[1],i=_[2],a=_[3],h=_[4],d=_[9]=null==_[9]?g?0:t.length:et(_[9]-v,0),!d&&e&(s|l)&&(e&=~(s|l)),e&&e!=r)w=e==s||e==l?ft(t,e,d):e!=c&&e!=(r|c)||h.length?pt.apply(void 0,_):dt(t,e,i,a);else var w=ut(t,e,i);return St(w,t,e)}function mt(t){var e=t;return e.placeholder}function yt(t,e){var n=q(t,e);return ot(n)?n:void 0}function _t(t){var e=t.match(E);return e?e[1].split(C):[]}function wt(t,e){var n=e.length,i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(S,"{\n/* [wrapped with "+e+"] */\n")}function bt(t,e){return e=null==e?g:e,!!e&&("number"==typeof t||R.test(t))&&t>-1&&t%1==0&&t<e}function xt(t){return!!X&&X in t}function Tt(t,e){var n=t.length,i=nt(e.length,n),r=ct(t);while(i--){var o=e[i];t[i]=bt(o,n)?r[o]:void 0}return t}var St=it?function(t,e,n){var i=e+"";return it(t,"toString",{configurable:!0,enumerable:!1,value:Mt(wt(i,Ct(_t(i),n)))})}:Dt;function Et(t){if(null!=t){try{return Y.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ct(t,e){return j(y,function(n){var i="_."+n[0];e&n[1]&&!B(t,i)&&t.push(i)}),t.sort()}var Pt=at(function(t,e,n){var i=r;if(n.length){var o=V(n,mt(Pt));i|=c}return vt(t,i,e,n,o)});function kt(t){var e=At(t)?J.call(t):"";return e==_||e==w}function At(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ot(t){return!!t&&"object"==typeof t}function Rt(t){return"symbol"==typeof t||Ot(t)&&J.call(t)==b}function Lt(t){if(!t)return 0===t?t:0;if(t=It(t),t===d||t===-d){var e=t<0?-1:1;return e*v}return t===t?t:0}function Nt(t){var e=Lt(t),n=e%1;return e===e?n?e-n:e:0}function It(t){if("number"==typeof t)return t;if(Rt(t))return m;if(At(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=At(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(T,"");var n=k.test(t);return n||O.test(t)?L(t.slice(2),n?2:8):P.test(t)?m:+t}function Mt(t){return function(){return t}}function Dt(t){return t}Pt.placeholder={},t.exports=Pt}).call(this,n("c8ba"))},ff13:function(t,e,n){function i(t){this._cbs=t||{},this.events=[]}t.exports=i;var r=n("d2de").EVENTS;Object.keys(r).forEach(function(t){if(0===r[t])t="on"+t,i.prototype[t]=function(){this.events.push([t]),this._cbs[t]&&this._cbs[t]()};else if(1===r[t])t="on"+t,i.prototype[t]=function(e){this.events.push([t,e]),this._cbs[t]&&this._cbs[t](e)};else{if(2!==r[t])throw Error("wrong number of arguments");t="on"+t,i.prototype[t]=function(e,n){this.events.push([t,e,n]),this._cbs[t]&&this._cbs[t](e,n)}}}),i.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},i.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var t=0,e=this.events.length;t<e;t++)if(this._cbs[this.events[t][0]]){var n=this.events[t].length;1===n?this._cbs[this.events[t][0]]():2===n?this._cbs[this.events[t][0]](this.events[t][1]):this._cbs[this.events[t][0]](this.events[t][1],this.events[t][2])}}}});
//# sourceMappingURL=iiif-annotation.js.map