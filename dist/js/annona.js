(function(){var __webpack_modules__={1686:function(){
/*! (c) Andrea Giammarchi @webreflection ISC */
(function(){"use strict";var t=function(t,e){var n=function(t){for(var e=0,n=t.length;e<n;e++)i(t[e])},i=function(t){var e=t.target,n=t.attributeName,i=t.oldValue;e.attributeChangedCallback(n,i,e.getAttribute(n))};return function(r,o){var s=r.constructor.observedAttributes;return s&&t(o).then((function(){new e(n).observe(r,{attributes:!0,attributeOldValue:!0,attributeFilter:s});for(var t=0,o=s.length;t<o;t++)r.hasAttribute(s[t])&&i({target:r,attributeName:s[t],oldValue:null})})),r}};function e(t,e){if(t){if("string"===typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function i(t,n){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=e(t))||n&&t&&"number"===typeof t.length){i&&(t=i);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){l=!0,s=t},f:function(){try{a||null==i.return||i.return()}finally{if(l)throw s}}}}
/*! (c) Andrea Giammarchi - ISC */var r=!0,o=!1,s="querySelectorAll",a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:MutationObserver,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["*"],l=function e(n,o,a,l,c,u){var h,p=i(n);try{for(p.s();!(h=p.n()).done;){var f=h.value;(u||s in f)&&(c?a.has(f)||(a.add(f),l["delete"](f),t(f,c)):l.has(f)||(l.add(f),a["delete"](f),t(f,c)),u||e(f[s](o),o,a,l,c,r))}}catch(d){p.e(d)}finally{p.f()}},c=new n((function(t){if(a.length){var e,n=a.join(","),s=new Set,c=new Set,u=i(t);try{for(u.s();!(e=u.n()).done;){var h=e.value,p=h.addedNodes,f=h.removedNodes;l(f,n,s,c,o,o),l(p,n,s,c,r,o)}}catch(d){u.e(d)}finally{u.f()}}})),u=c.observe;return(c.observe=function(t){return u.call(c,t,{subtree:r,childList:r})})(e),c},l="querySelectorAll",c=self,u=c.document,h=c.Element,p=c.MutationObserver,f=c.Set,d=c.WeakMap,g=function(t){return l in t},v=[].filter,m=function(t){var e=new d,n=function(t){for(var n=0,i=t.length;n<i;n++)e["delete"](t[n])},i=function(){for(var t=y.takeRecords(),e=0,n=t.length;e<n;e++)s(v.call(t[e].removedNodes,g),!1),s(v.call(t[e].addedNodes,g),!0)},r=function(t){return t.matches||t.webkitMatchesSelector||t.msMatchesSelector},o=function(n,i){var o;if(i)for(var s,a=r(n),l=0,u=c.length;l<u;l++)a.call(n,s=c[l])&&(e.has(n)||e.set(n,new f),o=e.get(n),o.has(s)||(o.add(s),t.handle(n,i,s)));else e.has(n)&&(o=e.get(n),e["delete"](n),o.forEach((function(e){t.handle(n,i,e)})))},s=function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0,i=t.length;n<i;n++)o(t[n],e)},c=t.query,m=t.root||u,y=a(o,m,p,c),b=h.prototype.attachShadow;return b&&(h.prototype.attachShadow=function(t){var e=b.call(this,t);return y.observe(e),e}),c.length&&s(m[l](c)),{drop:n,flush:i,observer:y,parse:s}},y=self,b=y.document,w=y.Map,_=y.MutationObserver,x=y.Object,S=y.Set,T=y.WeakMap,C=y.Element,E=y.HTMLElement,k=y.Node,O=y.Error,A=y.TypeError,P=y.Reflect,R=x.defineProperty,I=x.keys,j=x.getOwnPropertyNames,L=x.setPrototypeOf,B=!self.customElements,F=function(t){for(var e=I(t),n=[],i=e.length,r=0;r<i;r++)n[r]=t[e[r]],delete t[e[r]];return function(){for(var r=0;r<i;r++)t[e[r]]=n[r]}};if(B){var D=function(){var t=this.constructor;if(!M.has(t))throw new A("Illegal constructor");var e=M.get(t);if(G)return X(G,e);var n=N.call(b,e);return X(L(n,t.prototype),e)},N=b.createElement,M=new w,$=new w,H=new w,z=new w,q=[],U=function(t,e,n){var i=H.get(n);if(e&&!i.isPrototypeOf(t)){var r=F(t);G=L(t,i);try{new i.constructor}finally{G=null,r()}}var o="".concat(e?"":"dis","connectedCallback");o in i&&t[o]()},V=m({query:q,handle:U}),W=V.parse,G=null,Z=function(t){if(!$.has(t)){var e,n=new Promise((function(t){e=t}));$.set(t,{$:n,_:e})}return $.get(t).$},X=t(Z,_);R(self,"customElements",{configurable:!0,value:{define:function(t,e){if(z.has(t))throw new O('the name "'.concat(t,'" has already been used with this registry'));M.set(e,t),H.set(t,e.prototype),z.set(t,e),q.push(t),Z(t).then((function(){W(b.querySelectorAll(t))})),$.get(t)._(e)},get:function(t){return z.get(t)},whenDefined:Z}}),R(D.prototype=E.prototype,"constructor",{value:D}),R(self,"HTMLElement",{configurable:!0,value:D}),R(b,"createElement",{configurable:!0,value:function(t,e){var n=e&&e.is,i=n?z.get(n):z.get(t);return i?new i:N.call(b,t)}}),"isConnected"in k.prototype||R(k.prototype,"isConnected",{configurable:!0,get:function(){return!(this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})}else if(B=!self.customElements.get("extends-li"),B)try{var K=function t(){return self.Reflect.construct(HTMLLIElement,[],t)};K.prototype=HTMLLIElement.prototype;var J="extends-li";self.customElements.define("extends-li",K,{extends:"li"}),B=b.createElement("li",{is:J}).outerHTML.indexOf(J)<0;var Y=self.customElements,Q=Y.get,tt=Y.whenDefined;R(self.customElements,"whenDefined",{configurable:!0,value:function(t){var e=this;return tt.call(this,t).then((function(n){return n||Q.call(e,t)}))}})}catch(kt){}if(B){var et=function(t){var e=ct.get(t);wt(e.querySelectorAll(this),t.isConnected)},nt=self.customElements,it=b.createElement,rt=nt.define,ot=nt.get,st=nt.upgrade,at=P||{construct:function(t){return t.call(this)}},lt=at.construct,ct=new T,ut=new S,ht=new w,pt=new w,ft=new w,dt=new w,gt=[],vt=[],mt=function(t){return dt.get(t)||ot.call(nt,t)},yt=function(t,e,n){var i=ft.get(n);if(e&&!i.isPrototypeOf(t)){var r=F(t);Et=L(t,i);try{new i.constructor}finally{Et=null,r()}}var o="".concat(e?"":"dis","connectedCallback");o in i&&t[o]()},bt=m({query:vt,handle:yt}),wt=bt.parse,_t=m({query:gt,handle:function(t,e){ct.has(t)&&(e?ut.add(t):ut["delete"](t),vt.length&&et.call(vt,t))}}),xt=_t.parse,St=C.prototype.attachShadow;St&&(C.prototype.attachShadow=function(t){var e=St.call(this,t);return ct.set(this,e),e});var Tt=function(t){if(!pt.has(t)){var e,n=new Promise((function(t){e=t}));pt.set(t,{$:n,_:e})}return pt.get(t).$},Ct=t(Tt,_),Et=null;j(self).filter((function(t){return/^HTML.*Element$/.test(t)})).forEach((function(t){var e=self[t];function n(){var t=this.constructor;if(!ht.has(t))throw new A("Illegal constructor");var n=ht.get(t),i=n.is,r=n.tag;if(i){if(Et)return Ct(Et,i);var o=it.call(b,r);return o.setAttribute("is",i),Ct(L(o,t.prototype),i)}return lt.call(this,e,[],t)}R(n.prototype=e.prototype,"constructor",{value:n}),R(self,t,{value:n})})),R(b,"createElement",{configurable:!0,value:function(t,e){var n=e&&e.is;if(n){var i=dt.get(n);if(i&&ht.get(i).tag===t)return new i}var r=it.call(b,t);return n&&r.setAttribute("is",n),r}}),R(nt,"get",{configurable:!0,value:mt}),R(nt,"whenDefined",{configurable:!0,value:Tt}),R(nt,"upgrade",{configurable:!0,value:function(t){var e=t.getAttribute("is");if(e){var n=dt.get(e);if(n)return void Ct(L(t,n.prototype),e)}st.call(nt,t)}}),R(nt,"define",{configurable:!0,value:function(t,e,n){if(mt(t))throw new O("'".concat(t,"' has already been defined as a custom element"));var i,r=n&&n["extends"];ht.set(e,r?{is:t,tag:r}:{is:"",tag:t}),r?(i="".concat(r,'[is="').concat(t,'"]'),ft.set(i,e.prototype),dt.set(t,e),vt.push(i)):(rt.apply(nt,arguments),gt.push(i=t)),Tt(t).then((function(){r?(wt(b.querySelectorAll(i)),ut.forEach(et,[i])):xt(b.querySelectorAll(i))})),pt.get(t)._(e)}})}})()},6906:function(t){function e(t,e,i){var r=!1;return i=i||n,o.count=t,0===t?e():o;function o(t,n){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(r=!0,e(t),e=i):0!==o.count||r||e(null,n)}}function n(){}t.exports=e},9718:function(t){t.exports=function(t,e,n){var i=t.byteLength;if(e=e||0,n=n||i,t.slice)return t.slice(e,n);if(e<0&&(e+=i),n<0&&(n+=i),n>i&&(n=i),e>=i||e>=n||0===i)return new ArrayBuffer(0);for(var r=new Uint8Array(t),o=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)o[a]=r[s];return o.buffer}},9669:function(t,e,n){t.exports=n(1609)},5448:function(t,e,n){"use strict";var i=n(4867),r=n(6026),o=n(4372),s=n(5327),a=n(4097),l=n(4109),c=n(7985),u=n(5061);t.exports=function(t){return new Promise((function(e,n){var h=t.data,p=t.headers,f=t.responseType;i.isFormData(h)&&delete p["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var g=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";p.Authorization="Basic "+btoa(g+":"+v)}var m=a(t.baseURL,t.url);function y(){if(d){var i="getAllResponseHeaders"in d?l(d.getAllResponseHeaders()):null,o=f&&"text"!==f&&"json"!==f?d.response:d.responseText,s={data:o,status:d.status,statusText:d.statusText,headers:i,config:t,request:d};r(e,n,s),d=null}}if(d.open(t.method.toUpperCase(),s(m,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,"onloadend"in d?d.onloadend=y:d.onreadystatechange=function(){d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))&&setTimeout(y)},d.onabort=function(){d&&(n(u("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(u("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(u(e,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",d)),d=null},i.isStandardBrowserEnv()){var b=(t.withCredentials||c(m))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;b&&(p[t.xsrfHeaderName]=b)}"setRequestHeader"in d&&i.forEach(p,(function(t,e){"undefined"===typeof h&&"content-type"===e.toLowerCase()?delete p[e]:d.setRequestHeader(e,t)})),i.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),f&&"json"!==f&&(d.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),n(t),d=null)})),h||(h=null),d.send(h)}))}},1609:function(t,e,n){"use strict";var i=n(4867),r=n(1849),o=n(321),s=n(7185),a=n(5655);function l(t){var e=new o(t),n=r(o.prototype.request,e);return i.extend(n,o.prototype,e),i.extend(n,e),n}var c=l(a);c.Axios=o,c.create=function(t){return l(s(c.defaults,t))},c.Cancel=n(5263),c.CancelToken=n(4972),c.isCancel=n(6502),c.all=function(t){return Promise.all(t)},c.spread=n(8713),c.isAxiosError=n(6268),t.exports=c,t.exports["default"]=c},5263:function(t){"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},4972:function(t,e,n){"use strict";var i=n(5263);function r(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new i(t),e(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t,e=new r((function(e){t=e}));return{token:e,cancel:t}},t.exports=r},6502:function(t){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:function(t,e,n){"use strict";var i=n(4867),r=n(5327),o=n(782),s=n(3572),a=n(7185),l=n(4875),c=l.validators;function u(t){this.defaults=t,this.interceptors={request:new o,response:new o}}u.prototype.request=function(t){"string"===typeof t?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=a(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&l.assertOptions(e,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var r,o=[];if(this.interceptors.response.forEach((function(t){o.push(t.fulfilled,t.rejected)})),!i){var u=[s,void 0];Array.prototype.unshift.apply(u,n),u=u.concat(o),r=Promise.resolve(t);while(u.length)r=r.then(u.shift(),u.shift());return r}var h=t;while(n.length){var p=n.shift(),f=n.shift();try{h=p(h)}catch(d){f(d);break}}try{r=s(h)}catch(d){return Promise.reject(d)}while(o.length)r=r.then(o.shift(),o.shift());return r},u.prototype.getUri=function(t){return t=a(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,n){return this.request(a(n||{},{method:t,url:e,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,n,i){return this.request(a(i||{},{method:t,url:e,data:n}))}})),t.exports=u},782:function(t,e,n){"use strict";var i=n(4867);function r(){this.handlers=[]}r.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r},4097:function(t,e,n){"use strict";var i=n(1793),r=n(7303);t.exports=function(t,e){return t&&!i(e)?r(t,e):e}},5061:function(t,e,n){"use strict";var i=n(481);t.exports=function(t,e,n,r,o){var s=new Error(t);return i(s,e,n,r,o)}},3572:function(t,e,n){"use strict";var i=n(4867),r=n(8527),o=n(6502),s=n(5655);function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){a(t),t.headers=t.headers||{},t.data=r.call(t,t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]}));var e=t.adapter||s.adapter;return e(t).then((function(e){return a(t),e.data=r.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(a(t),e&&e.response&&(e.response.data=r.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},481:function(t){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},7185:function(t,e,n){"use strict";var i=n(4867);t.exports=function(t,e){e=e||{};var n={},r=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function l(t,e){return i.isPlainObject(t)&&i.isPlainObject(e)?i.merge(t,e):i.isPlainObject(e)?i.merge({},e):i.isArray(e)?e.slice():e}function c(r){i.isUndefined(e[r])?i.isUndefined(t[r])||(n[r]=l(void 0,t[r])):n[r]=l(t[r],e[r])}i.forEach(r,(function(t){i.isUndefined(e[t])||(n[t]=l(void 0,e[t]))})),i.forEach(o,c),i.forEach(s,(function(r){i.isUndefined(e[r])?i.isUndefined(t[r])||(n[r]=l(void 0,t[r])):n[r]=l(void 0,e[r])})),i.forEach(a,(function(i){i in e?n[i]=l(t[i],e[i]):i in t&&(n[i]=l(void 0,t[i]))}));var u=r.concat(o).concat(s).concat(a),h=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===u.indexOf(t)}));return i.forEach(h,c),n}},6026:function(t,e,n){"use strict";var i=n(5061);t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},8527:function(t,e,n){"use strict";var i=n(4867),r=n(5655);t.exports=function(t,e,n){var o=this||r;return i.forEach(n,(function(n){t=n.call(o,t,e)})),t}},5655:function(t,e,n){"use strict";var i=n(4867),r=n(6016),o=n(481),s={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function l(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(t=n(5448)),t}function c(t,e,n){if(i.isString(t))try{return(e||JSON.parse)(t),i.trim(t)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(t)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:l(),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)||e&&"application/json"===e["Content-Type"]?(a(e,"application/json"),c(t)):t}],transformResponse:[function(t){var e=this.transitional,n=e&&e.silentJSONParsing,r=e&&e.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||r&&i.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(s){if("SyntaxError"===a.name)throw o(a,this,"E_JSON_PARSE");throw a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){u.headers[t]=i.merge(s)})),t.exports=u},1849:function(t){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},5327:function(t,e,n){"use strict";var i=n(4867);function r(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(i.isURLSearchParams(e))o=e.toString();else{var s=[];i.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,(function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),s.push(r(e)+"="+r(t))})))})),o=s.join("&")}if(o){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},7303:function(t){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},4372:function(t,e,n){"use strict";var i=n(4867);t.exports=i.isStandardBrowserEnv()?function(){return{write:function(t,e,n,r,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},1793:function(t){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},6268:function(t){"use strict";t.exports=function(t){return"object"===typeof t&&!0===t.isAxiosError}},7985:function(t,e,n){"use strict";var i=n(4867);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return function(){return!0}}()},6016:function(t,e,n){"use strict";var i=n(4867);t.exports=function(t,e){i.forEach(t,(function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])}))}},4109:function(t,e,n){"use strict";var i=n(4867),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(i.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=i.trim(t.substr(0,o)).toLowerCase(),n=i.trim(t.substr(o+1)),e){if(s[e]&&r.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}})),s):s}},8713:function(t){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},4875:function(t,e,n){"use strict";var i=n(8593),r={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){r[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var o={},s=i.version.split(".");function a(t,e){for(var n=e?e.split("."):s,i=t.split("."),r=0;r<3;r++){if(n[r]>i[r])return!0;if(n[r]<i[r])return!1}return!1}function l(t,e,n){if("object"!==typeof t)throw new TypeError("options must be an object");var i=Object.keys(t),r=i.length;while(r-- >0){var o=i[r],s=e[o];if(s){var a=t[o],l=void 0===a||s(a,o,t);if(!0!==l)throw new TypeError("option "+o+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+o)}}r.transitional=function(t,e,n){var r=e&&a(e);function s(t,e){return"[Axios v"+i.version+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,i,a){if(!1===t)throw new Error(s(i," has been removed in "+e));return r&&!o[i]&&(o[i]=!0,console.warn(s(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,a)}},t.exports={isOlderVersion:a,assertOptions:l,validators:r}},4867:function(t,e,n){"use strict";var i=n(1849),r=Object.prototype.toString;function o(t){return"[object Array]"===r.call(t)}function s(t){return"undefined"===typeof t}function a(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function l(t){return"[object ArrayBuffer]"===r.call(t)}function c(t){return"undefined"!==typeof FormData&&t instanceof FormData}function u(t){var e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function h(t){return"string"===typeof t}function p(t){return"number"===typeof t}function f(t){return null!==t&&"object"===typeof t}function d(t){if("[object Object]"!==r.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function g(t){return"[object Date]"===r.call(t)}function v(t){return"[object File]"===r.call(t)}function m(t){return"[object Blob]"===r.call(t)}function y(t){return"[object Function]"===r.call(t)}function b(t){return f(t)&&y(t.pipe)}function w(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams}function _(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function x(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function S(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),o(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}function T(){var t={};function e(e,n){d(t[n])&&d(e)?t[n]=T(t[n],e):d(e)?t[n]=T({},e):o(e)?t[n]=e.slice():t[n]=e}for(var n=0,i=arguments.length;n<i;n++)S(arguments[n],e);return t}function C(t,e,n){return S(e,(function(e,r){t[r]=n&&"function"===typeof e?i(e,n):e})),t}function E(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}t.exports={isArray:o,isArrayBuffer:l,isBuffer:a,isFormData:c,isArrayBufferView:u,isString:h,isNumber:p,isObject:f,isPlainObject:d,isUndefined:s,isDate:g,isFile:v,isBlob:m,isFunction:y,isStream:b,isURLSearchParams:w,isStandardBrowserEnv:x,forEach:S,merge:T,extend:C,trim:_,stripBOM:E}},3010:function(t){function e(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=e,e.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},e.prototype.reset=function(){this.attempts=0},e.prototype.setMin=function(t){this.ms=t},e.prototype.setMax=function(t){this.max=t},e.prototype.setJitter=function(t){this.jitter=t}},3704:function(t,e){(function(t){"use strict";e.encode=function(e){var n,i=new Uint8Array(e),r=i.length,o="";for(n=0;n<r;n+=3)o+=t[i[n]>>2],o+=t[(3&i[n])<<4|i[n+1]>>4],o+=t[(15&i[n+1])<<2|i[n+2]>>6],o+=t[63&i[n+2]];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(e){var n,i,r,o,s,a=.75*e.length,l=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),h=new Uint8Array(u);for(n=0;n<l;n+=4)i=t.indexOf(e[n]),r=t.indexOf(e[n+1]),o=t.indexOf(e[n+2]),s=t.indexOf(e[n+3]),h[c++]=i<<2|r>>4,h[c++]=(15&r)<<4|o>>2,h[c++]=(3&o)<<6|63&s;return u}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},9742:function(t,e){"use strict";e.byteLength=c,e.toByteArray=h,e.fromByteArray=d;for(var n=[],i=[],r="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var i=n===e?0:4-n%4;return[n,i]}function c(t){var e=l(t),n=e[0],i=e[1];return 3*(n+i)/4-i}function u(t,e,n){return 3*(e+n)/4-n}function h(t){var e,n,o=l(t),s=o[0],a=o[1],c=new r(u(t,s,a)),h=0,p=a>0?s-4:s;for(n=0;n<p;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[h++]=e>>16&255,c[h++]=e>>8&255,c[h++]=255&e;return 2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[h++]=255&e),1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[h++]=e>>8&255,c[h++]=255&e),c}function p(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function f(t,e,n){for(var i,r=[],o=e;o<n;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),r.push(p(i));return r.join("")}function d(t){for(var e,i=t.length,r=i%3,o=[],s=16383,a=0,l=i-r;a<l;a+=s)o.push(f(t,a,a+s>l?l:a+s));return 1===r?(e=t[i-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===r&&(e=(t[i-2]<<8)+t[i-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},5548:function(t){var e="undefined"!==typeof e?e:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder&&MozBlobBuilder,n=function(){try{var t=new Blob(["hi"]);return 2===t.size}catch(e){return!1}}(),i=n&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return 2===t.size}catch(e){return!1}}(),r=e&&e.prototype.append&&e.prototype.getBlob;function o(t){return t.map((function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t}))}function s(t,n){n=n||{};var i=new e;return o(t).forEach((function(t){i.append(t)})),n.type?i.getBlob(n.type):i.getBlob()}function a(t,e){return new Blob(o(t),e||{})}"undefined"!==typeof Blob&&(s.prototype=Blob.prototype,a.prototype=Blob.prototype),t.exports=function(){return n?i?Blob:a:r?s:void 0}()},1073:function(t){t.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},8764:function(t,e,n){"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var i=n(9742),r=n(645),o="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=w,e.INSPECT_MAX_BYTES=50;var s=2147483647;function a(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(n){return!1}}function l(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,n){if("number"===typeof t){if("string"===typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return u(t,e,n)}function u(t,e,n){if("string"===typeof t)return d(t,e);if(ArrayBuffer.isView(t))return v(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(J(t,ArrayBuffer)||t&&J(t.buffer,ArrayBuffer))return m(t,e,n);if("undefined"!==typeof SharedArrayBuffer&&(J(t,SharedArrayBuffer)||t&&J(t.buffer,SharedArrayBuffer)))return m(t,e,n);if("number"===typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return c.from(i,e,n);var r=y(t);if(r)return r;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function h(t){if("number"!==typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function p(t,e,n){return h(t),t<=0?l(t):void 0!==e?"string"===typeof n?l(t).fill(e,n):l(t).fill(e):l(t)}function f(t){return h(t),l(t<0?0:0|b(t))}function d(t,e){if("string"===typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|_(t,e),i=l(n),r=i.write(t,e);return r!==n&&(i=i.slice(0,r)),i}function g(t){for(var e=t.length<0?0:0|b(t.length),n=l(e),i=0;i<e;i+=1)n[i]=255&t[i];return n}function v(t){if(J(t,Uint8Array)){var e=new Uint8Array(t);return m(e.buffer,e.byteOffset,e.byteLength)}return g(t)}function m(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(i,c.prototype),i}function y(t){if(c.isBuffer(t)){var e=0|b(t.length),n=l(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!==typeof t.length||Y(t.length)?l(0):g(t):"Buffer"===t.type&&Array.isArray(t.data)?g(t.data):void 0}function b(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function w(t){return+t!=t&&(t=0),c.alloc(+t)}function _(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||J(t,ArrayBuffer))return t.byteLength;if("string"!==typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(t).length;default:if(r)return i?-1:W(t).length;e=(""+e).toLowerCase(),r=!0}}function x(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return D(this,e,n);case"utf8":case"utf-8":return I(this,e,n);case"ascii":return B(this,e,n);case"latin1":case"binary":return F(this,e,n);case"base64":return R(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function S(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function T(t,e,n,i,r){if(0===t.length)return-1;if("string"===typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,Y(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"===typeof e&&(e=c.from(e,i)),c.isBuffer(e))return 0===e.length?-1:C(t,e,n,i,r);if("number"===typeof e)return e&=255,"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):C(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function C(t,e,n,i,r){var o,s=1,a=t.length,l=e.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var u=-1;for(o=n;o<a;o++)if(c(t,o)===c(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var h=!0,p=0;p<l;p++)if(c(t,o+p)!==c(e,p)){h=!1;break}if(h)return o}return-1}function E(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=e.length;i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(Y(a))return s;t[n+s]=a}return s}function k(t,e,n,i){return K(W(e,t.length-n),t,n,i)}function O(t,e,n,i){return K(G(e),t,n,i)}function A(t,e,n,i){return K(X(e),t,n,i)}function P(t,e,n,i){return K(Z(e,t.length-n),t,n,i)}function R(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function I(t,e,n){n=Math.min(t.length,n);var i=[],r=e;while(r<n){var o,s,a,l,c=t[r],u=null,h=c>239?4:c>223?3:c>191?2:1;if(r+h<=n)switch(h){case 1:c<128&&(u=c);break;case 2:o=t[r+1],128===(192&o)&&(l=(31&c)<<6|63&o,l>127&&(u=l));break;case 3:o=t[r+1],s=t[r+2],128===(192&o)&&128===(192&s)&&(l=(15&c)<<12|(63&o)<<6|63&s,l>2047&&(l<55296||l>57343)&&(u=l));break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a,l>65535&&l<1114112&&(u=l))}null===u?(u=65533,h=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=h}return L(i)}e.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=a(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,n){return u(t,e,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,n){return p(t,e,n)},c.allocUnsafe=function(t){return f(t)},c.allocUnsafeSlow=function(t){return f(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(J(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=c.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var o=t[n];if(J(o,Uint8Array))r+o.length>i.length?c.from(o).copy(i,r):Uint8Array.prototype.set.call(i,o,r);else{if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r)}r+=o.length}return i},c.byteLength=_,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)S(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)S(this,e,e+3),S(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)S(this,e,e+7),S(this,e+1,e+6),S(this,e+2,e+5),S(this,e+3,e+4);return this},c.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?I(this,0,t):x.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(t,e,n,i,r){if(J(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,r>>>=0,this===t)return 0;for(var o=r-i,s=n-e,a=Math.min(o,s),l=this.slice(i,r),u=t.slice(e,n),h=0;h<a;++h)if(l[h]!==u[h]){o=l[h],s=u[h];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return T(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return T(this,t,e,n,!1)},c.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return E(this,t,e,n);case"utf8":case"utf-8":return k(this,t,e,n);case"ascii":case"latin1":case"binary":return O(this,t,e,n);case"base64":return A(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;function L(t){var e=t.length;if(e<=j)return String.fromCharCode.apply(String,t);var n="",i=0;while(i<e)n+=String.fromCharCode.apply(String,t.slice(i,i+=j));return n}function B(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function F(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function D(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=Q[t[o]];return r}function N(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length-1;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function M(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function $(t,e,n,i,r,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function H(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(t,e,n,i,o){return e=+e,n>>>=0,o||H(t,e,n,4,34028234663852886e22,-34028234663852886e22),r.write(t,e,n,i,23,4),n+4}function q(t,e,n,i,o){return e=+e,n>>>=0,o||H(t,e,n,8,17976931348623157e292,-17976931348623157e292),r.write(t,e,n,i,52,8),n+8}c.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);var i=this.subarray(t,e);return Object.setPrototypeOf(i,c.prototype),i},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||M(t,e,this.length);var i=this[t],r=1,o=0;while(++o<e&&(r*=256))i+=this[t+o]*r;return i},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||M(t,e,this.length);var i=this[t+--e],r=1;while(e>0&&(r*=256))i+=this[t+--e]*r;return i},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||M(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||M(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||M(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||M(t,e,this.length);var i=this[t],r=1,o=0;while(++o<e&&(r*=256))i+=this[t+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*e)),i},c.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||M(t,e,this.length);var i=e,r=1,o=this[t+--i];while(i>0&&(r*=256))o+=this[t+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return t>>>=0,e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||M(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){t>>>=0,e||M(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return t>>>=0,e||M(t,4,this.length),r.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||M(t,4,this.length),r.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||M(t,8,this.length),r.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||M(t,8,this.length),r.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e>>>=0,n>>>=0,!i){var r=Math.pow(2,8*n)-1;$(this,t,e,n,r,0)}var o=1,s=0;this[e]=255&t;while(++s<n&&(o*=256))this[e+s]=t/o&255;return e+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e>>>=0,n>>>=0,!i){var r=Math.pow(2,8*n)-1;$(this,t,e,n,r,0)}var o=n-1,s=1;this[e+o]=255&t;while(--o>=0&&(s*=256))this[e+o]=t/s&255;return e+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||$(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||$(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||$(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||$(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||$(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var r=Math.pow(2,8*n-1);$(this,t,e,n,r-1,-r)}var o=0,s=1,a=0;this[e]=255&t;while(++o<n&&(s*=256))t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},c.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var r=Math.pow(2,8*n-1);$(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0;this[e+o]=255&t;while(--o>=0&&(s*=256))t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||$(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||$(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||$(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||$(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||$(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeFloatLE=function(t,e,n){return z(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return z(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return q(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return q(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,i){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r=i-n;return this===t&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),e),r},c.prototype.fill=function(t,e,n,i){if("string"===typeof t){if("string"===typeof e?(i=e,e=0,n=this.length):"string"===typeof n&&(i=n,n=this.length),void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){var r=t.charCodeAt(0);("utf8"===i&&r<128||"latin1"===i)&&(t=r)}}else"number"===typeof t?t&=255:"boolean"===typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=c.isBuffer(t)?t:c.from(t,i),a=s.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var U=/[^+/0-9A-Za-z-_]/g;function V(t){if(t=t.split("=")[0],t=t.trim().replace(U,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function W(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],s=0;s<i;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function Z(t,e){for(var n,i,r,o=[],s=0;s<t.length;++s){if((e-=2)<0)break;n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i)}return o}function X(t){return i.toByteArray(V(t))}function K(t,e,n,i){for(var r=0;r<i;++r){if(r+n>=e.length||r>=t.length)break;e[r+n]=t[r]}return r}function J(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Y(t){return t!==t}var Q=function(){for(var t="0123456789abcdef",e=new Array(256),n=0;n<16;++n)for(var i=16*n,r=0;r<16;++r)e[i+r]=t[n]+t[r];return e}()},2905:function(t,e,n){e=t.exports=n(7911),e.version=n(4542).version},6451:function(t,e,n){var i=n(6634),r=n(5633),o=r.isTag,s=r.domEach,a=Object.prototype.hasOwnProperty,l=r.camelCase,c=r.cssCase,u=/\s+/,h="data-",p={forEach:n(3590),extend:n(5089),some:n(1054)},f={null:null,true:!0,false:!1},d=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,g=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,v=function(t,e){if(t&&o(t))return t.attribs||(t.attribs={}),e?a.call(t.attribs,e)?d.test(e)?e:t.attribs[e]:"option"===t.name&&"value"===e?i.text(t.children):"input"!==t.name||"radio"!==t.attribs.type&&"checkbox"!==t.attribs.type||"value"!==e?void 0:"on":t.attribs},m=function(t,e,n){null===n?x(t,e):t.attribs[e]=n+""};e.attr=function(t,e){return"object"===typeof t||void 0!==e?s(this,"function"===typeof e?function(n,i){m(i,t,e.call(i,n,i.attribs[t]))}:function(n,i){o(i)&&("object"===typeof t?p.forEach(t,(function(t,e){m(i,e,t)})):m(i,t,e))}):v(this[0],t)};var y=function(t,e){if(t&&o(t))return t.hasOwnProperty(e)?t[e]:d.test(e)?void 0!==v(t,e):v(t,e)},b=function(t,e,n){t[e]=d.test(e)?!!n:n};e.prop=function(t,e){var n,i=0;if("string"===typeof t&&void 0===e){switch(t){case"style":n=this.css(),p.forEach(n,(function(t,e){n[i++]=e})),n.length=i;break;case"tagName":case"nodeName":n=this[0].name.toUpperCase();break;default:n=y(this[0],t)}return n}if("object"===typeof t||void 0!==e)return s(this,"function"===typeof e?function(n,i){b(i,t,e.call(i,n,y(i,t)))}:function(n,i){o(i)&&("object"===typeof t?p.forEach(t,(function(t,e){b(i,e,t)})):b(i,t,e))})};var w=function(t,e,n){if(t.data||(t.data={}),"object"===typeof e)return p.extend(t.data,e);"string"===typeof e&&void 0!==n?t.data[e]=n:"object"===typeof e&&p.extend(t.data,e)},_=function(t,e){var n,i,r,o,s,u,p,d=1===arguments.length;for(d?(n=Object.keys(t.attribs).filter((function(t){return t.slice(0,h.length)===h})),r=n.map((function(t){return l(t.slice(h.length))}))):(n=[h+c(e)],r=[e]),u=0,p=n.length;u<p;++u)if(i=n[u],o=r[u],a.call(t.attribs,i)){if(s=t.attribs[i],a.call(f,s))s=f[s];else if(s===String(Number(s)))s=Number(s);else if(g.test(s))try{s=JSON.parse(s)}catch(v){}t.data[o]=s}return d?t.data:s};e.data=function(t,e){var n=this[0];if(n&&o(n))return n.data||(n.data={}),t?"object"===typeof t||void 0!==e?(s(this,(function(n,i){w(i,t,e)})),this):a.call(n.data,t)?n.data[t]:_(n,t):_(n)},e.val=function(t){var e=0===arguments.length,n=this[0];if(n)switch(n.name){case"textarea":return this.text(t);case"input":switch(this.attr("type")){case"radio":return e?this.attr("value"):(this.attr("value",t),this);default:return this.attr("value",t)}return;case"select":var i,r=this.find("option:selected");if(void 0===r)return;if(!e){if(!this.attr().hasOwnProperty("multiple")&&"object"==typeof t)return this;"object"!=typeof t&&(t=[t]),this.find("option").removeAttr("selected");for(var o=0;o<t.length;o++)this.find('option[value="'+t[o]+'"]').attr("selected","");return this}return i=r.attr("value"),this.attr().hasOwnProperty("multiple")&&(i=[],s(r,(function(t,e){i.push(v(e,"value"))}))),i;case"option":return e?this.attr("value"):(this.attr("value",t),this)}};var x=function(t,e){t.attribs&&a.call(t.attribs,e)&&delete t.attribs[e]};e.removeAttr=function(t){return s(this,(function(e,n){x(n,t)})),this},e.hasClass=function(t){return p.some(this,(function(e){var n,i=e.attribs,r=i&&i["class"],o=-1;if(r)while((o=r.indexOf(t,o+1))>-1)if(n=o+t.length,(0===o||u.test(r[o-1]))&&(n===r.length||u.test(r[n])))return!0}))},e.addClass=function(t){if("function"===typeof t)return s(this,(function(n,i){var r=i.attribs["class"]||"";e.addClass.call([i],t.call(i,n,r))}));if(!t||"string"!==typeof t)return this;for(var n=t.split(u),i=this.length,r=0;r<i;r++)if(o(this[r])){var a,l,c=v(this[r],"class");if(c){l=" "+c+" ",a=n.length;for(var h=0;h<a;h++){var p=n[h]+" ";l.indexOf(" "+p)<0&&(l+=p)}m(this[r],"class",l.trim())}else m(this[r],"class",n.join(" ").trim())}return this};var S=function(t){return t?t.trim().split(u):[]};e.removeClass=function(t){var n,i,r;return"function"===typeof t?s(this,(function(n,i){e.removeClass.call([i],t.call(i,n,i.attribs["class"]||""))})):(n=S(t),i=n.length,r=0===arguments.length,s(this,(function(t,e){if(o(e))if(r)e.attribs.class="";else{for(var s,a,l=S(e.attribs.class),c=0;c<i;c++)s=l.indexOf(n[c]),s>=0&&(l.splice(s,1),a=!0,c--);a&&(e.attribs.class=l.join(" "))}})))},e.toggleClass=function(t,n){if("function"===typeof t)return s(this,(function(i,r){e.toggleClass.call([r],t.call(r,i,r.attribs["class"]||"",n),n)}));if(!t||"string"!==typeof t)return this;for(var i,r,a=t.split(u),l=a.length,c="boolean"===typeof n?n?1:-1:0,h=this.length,p=0;p<h;p++)if(o(this[p])){i=S(this[p].attribs.class);for(var f=0;f<l;f++)r=i.indexOf(a[f]),c>=0&&r<0?i.push(a[f]):c<=0&&r>=0&&i.splice(r,1);this[p].attribs.class=i.join(" ")}return this},e.is=function(t){return!!t&&this.filter(t).length>0}},9806:function(t,e,n){var i=n(5633).domEach,r={pick:n(5030)},o=Object.prototype.toString;function s(t,e,n,i){if("string"==typeof e){var r=a(t);"function"===typeof n&&(n=n.call(t,i,r[e])),""===n?delete r[e]:null!=n&&(r[e]=n),t.attribs.style=l(r)}else"object"==typeof e&&Object.keys(e).forEach((function(n){s(t,n,e[n])}))}function a(t,e){var n=c(t.attribs.style);return"string"===typeof e?n[e]:Array.isArray(e)?r.pick(n,e):n}function l(t){return Object.keys(t||{}).reduce((function(e,n){return e+(e?" ":"")+n+": "+t[n]+";"}),"")}function c(t){return t=(t||"").trim(),t?t.split(";").reduce((function(t,e){var n=e.indexOf(":");return n<1||n===e.length-1||(t[e.slice(0,n).trim()]=e.slice(n+1).trim()),t}),{}):{}}e.css=function(t,e){return 2===arguments.length||"[object Object]"===o.call(t)?i(this,(function(n,i){s(i,t,e,n)})):a(this[0],t)}},3432:function(t,e,n){var i="input,select,textarea,keygen",r=/%20/g,o=/\r?\n/g,s={map:n(820)};e.serialize=function(){var t=this.serializeArray(),e=s.map(t,(function(t){return encodeURIComponent(t.name)+"="+encodeURIComponent(t.value)}));return e.join("&").replace(r,"+")},e.serializeArray=function(){var t=this.constructor;return this.map((function(){var e=this,n=t(e);return"form"===e.name?n.find(i).toArray():n.filter(i).toArray()})).filter('[name!=""]:not(:disabled):not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((function(e,n){var i=t(n),r=i.attr("name"),a=i.val();return null==a?null:Array.isArray(a)?s.map(a,(function(t){return{name:r,value:t.replace(o,"\r\n")}})):{name:r,value:a.replace(o,"\r\n")}})).get()}},7221:function(t,e,n){var i=n(5012),r=n(6634),o=i.update,s=i.evaluate,a=n(5633),l=a.domEach,c=a.cloneDom,u=a.isHtml,h=Array.prototype.slice,p={flatten:n(5800),bind:n(4067),forEach:n(3590)};e._makeDomArray=function(t,e){return null==t?[]:t.cheerio?e?c(t.get(),t.options):t.get():Array.isArray(t)?p.flatten(t.map((function(t){return this._makeDomArray(t,e)}),this)):"string"===typeof t?s(t,this.options):e?c([t]):[t]};var f=function(t){return function(){var e=h.call(arguments),n=this.length-1;return l(this,(function(i,o){var s,a;a="function"===typeof e[0]?e[0].call(o,i,r.html(o.children)):e,s=this._makeDomArray(a,i<n),t(s,o.children,o)}))}},d=function(t,e,n,i,r){var o,s,a,l,c,u=[e,n].concat(i),h=t[e-1]||null,p=t[e]||null;for(o=0,s=i.length;o<s;++o)l=i[o],c=l.parent||l.root,a=c&&c.children.indexOf(i[o]),c&&a>-1&&(c.children.splice(a,1),r===c&&e>a&&u[0]--),l.root=null,l.parent=r,l.prev&&(l.prev.next=l.next||null),l.next&&(l.next.prev=l.prev||null),l.prev=i[o-1]||h,l.next=i[o+1]||p;return h&&(h.next=i[0]),p&&(p.prev=i[i.length-1]),t.splice.apply(t,u)};e.appendTo=function(t){return t.cheerio||(t=this.constructor.call(this.constructor,t,null,this._originalRoot)),t.append(this),this},e.prependTo=function(t){return t.cheerio||(t=this.constructor.call(this.constructor,t,null,this._originalRoot)),t.prepend(this),this},e.append=f((function(t,e,n){d(e,e.length,0,t,n)})),e.prepend=f((function(t,e,n){d(e,0,0,t,n)})),e.wrap=function(t){var e="function"===typeof t&&t,n=this.length-1;return p.forEach(this,p.bind((function(i,r){var s,a,l=i.parent||i.root,c=l.children;l&&(e&&(t=e.call(i,r)),"string"!==typeof t||u(t)||(t=this.parents().last().find(t).clone()),s=this._makeDomArray(t,r<n).slice(0,1),a=c.indexOf(i),o([i],s[0]),d(c,a,0,s,l))}),this)),this},e.after=function(){var t=h.call(arguments),e=this.length-1;return l(this,(function(n,i){var o=i.parent||i.root;if(o){var s,a,l=o.children,c=l.indexOf(i);c<0||(s="function"===typeof t[0]?t[0].call(i,n,r.html(i.children)):t,a=this._makeDomArray(s,n<e),d(l,c+1,0,a,o))}})),this},e.insertAfter=function(t){var e=[],n=this;return"string"===typeof t&&(t=this.constructor.call(this.constructor,t,null,this._originalRoot)),t=this._makeDomArray(t),n.remove(),l(t,(function(t,i){var r=n._makeDomArray(n.clone()),o=i.parent||i.root;if(o){var s=o.children,a=s.indexOf(i);a<0||(d(s,a+1,0,r,o),e.push(r))}})),this.constructor.call(this.constructor,this._makeDomArray(e))},e.before=function(){var t=h.call(arguments),e=this.length-1;return l(this,(function(n,i){var o=i.parent||i.root;if(o){var s,a,l=o.children,c=l.indexOf(i);c<0||(s="function"===typeof t[0]?t[0].call(i,n,r.html(i.children)):t,a=this._makeDomArray(s,n<e),d(l,c,0,a,o))}})),this},e.insertBefore=function(t){var e=[],n=this;return"string"===typeof t&&(t=this.constructor.call(this.constructor,t,null,this._originalRoot)),t=this._makeDomArray(t),n.remove(),l(t,(function(t,i){var r=n._makeDomArray(n.clone()),o=i.parent||i.root;if(o){var s=o.children,a=s.indexOf(i);a<0||(d(s,a,0,r,o),e.push(r))}})),this.constructor.call(this.constructor,this._makeDomArray(e))},e.remove=function(t){var e=this;return t&&(e=e.filter(t)),l(e,(function(t,e){var n=e.parent||e.root;if(n){var i=n.children,r=i.indexOf(e);r<0||(i.splice(r,1),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.prev=e.next=e.parent=e.root=null)}})),this},e.replaceWith=function(t){var e=this;return l(this,(function(n,i){var r=i.parent||i.root;if(r){var s,a=r.children,l=e._makeDomArray("function"===typeof t?t.call(i,n,i):t);o(l,null),s=a.indexOf(i),d(a,s,1,l,r),i.parent=i.prev=i.next=i.root=null}})),this},e.empty=function(){return l(this,(function(t,e){p.forEach(e.children,(function(t){t.next=t.prev=t.parent=null})),e.children.length=0})),this},e.html=function(t){if(void 0===t)return this[0]&&this[0].children?r.html(this[0].children,this.options):null;var e=this.options;return l(this,(function(n,i){p.forEach(i.children,(function(t){t.next=t.prev=t.parent=null}));var r=t.cheerio?t.clone().get():s(""+t,e);o(r,i)})),this},e.toString=function(){return r.html(this,this.options)},e.text=function(t){return void 0===t?r.text(this):"function"===typeof t?l(this,(function(n,i){var o=[i];return e.text.call(o,t.call(i,n,r.text(o)))})):(l(this,(function(e,n){p.forEach(n.children,(function(t){t.next=t.prev=t.parent=null}));var i={data:""+t,type:"text",parent:n,prev:null,next:null,children:[]};o(i,n)})),this)},e.clone=function(){return this._make(c(this.get(),this.options))}},1042:function(t,e,n){var i=n(6780),r=n(5633),o=r.domEach,s=n(3719).DomUtils.uniqueSort,a=r.isTag,l={bind:n(4067),forEach:n(3590),reject:n(6273),filter:n(4474),reduce:n(4766)};e.find=function(t){var e,n=l.reduce(this,(function(t,e){return t.concat(l.filter(e.children,a))}),[]),r=this.constructor.contains;if(t&&"string"!==typeof t)return e=t.cheerio?t.get():[t],this._make(e.filter((function(t){var e,n;for(e=0,n=this.length;e<n;++e)if(r(this[e],t))return!0}),this));var o={__proto__:this.options,context:this.toArray()};return this._make(i(t,n,o))},e.parent=function(t){var n=[];return o(this,(function(t,e){var i=e.parent;i&&n.indexOf(i)<0&&n.push(i)})),arguments.length&&(n=e.filter.call(n,t,this)),this._make(n)},e.parents=function(t){var e=[];return this.get().reverse().forEach((function(n){u(this,n.parent,t,1/0).forEach((function(t){-1===e.indexOf(t)&&e.push(t)}))}),this),this._make(e)},e.parentsUntil=function(t,e){var n,r,o=[];return"string"===typeof t?n=i(t,this.parents().toArray(),this.options)[0]:t&&t.cheerio?r=t.toArray():t&&(n=t),this.toArray().reverse().forEach((function(t){while(t=t.parent){if(!(n&&t!==n||r&&-1===r.indexOf(t)||!n&&!r))break;a(t)&&-1===o.indexOf(t)&&o.push(t)}}),this),this._make(e?i(e,o,this.options):o)},e.closest=function(t){var e=[];return t?(o(this,function(n,i){var r=u(this,i,t,1)[0];r&&e.indexOf(r)<0&&e.push(r)}.bind(this)),this._make(e)):this._make(e)},e.next=function(t){if(!this[0])return this;var n=[];return l.forEach(this,(function(t){while(t=t.next)if(a(t))return void n.push(t)})),t?e.filter.call(n,t,this):this._make(n)},e.nextAll=function(t){if(!this[0])return this;var n=[];return l.forEach(this,(function(t){while(t=t.next)a(t)&&-1===n.indexOf(t)&&n.push(t)})),t?e.filter.call(n,t,this):this._make(n)},e.nextUntil=function(t,n){if(!this[0])return this;var r,o,s=[];return"string"===typeof t?r=i(t,this.nextAll().get(),this.options)[0]:t&&t.cheerio?o=t.get():t&&(r=t),l.forEach(this,(function(t){while(t=t.next){if(!(r&&t!==r||o&&-1===o.indexOf(t)||!r&&!o))break;a(t)&&-1===s.indexOf(t)&&s.push(t)}})),n?e.filter.call(s,n,this):this._make(s)},e.prev=function(t){if(!this[0])return this;var n=[];return l.forEach(this,(function(t){while(t=t.prev)if(a(t))return void n.push(t)})),t?e.filter.call(n,t,this):this._make(n)},e.prevAll=function(t){if(!this[0])return this;var n=[];return l.forEach(this,(function(t){while(t=t.prev)a(t)&&-1===n.indexOf(t)&&n.push(t)})),t?e.filter.call(n,t,this):this._make(n)},e.prevUntil=function(t,n){if(!this[0])return this;var r,o,s=[];return"string"===typeof t?r=i(t,this.prevAll().get(),this.options)[0]:t&&t.cheerio?o=t.get():t&&(r=t),l.forEach(this,(function(t){while(t=t.prev){if(!(r&&t!==r||o&&-1===o.indexOf(t)||!r&&!o))break;a(t)&&-1===s.indexOf(t)&&s.push(t)}})),n?e.filter.call(s,n,this):this._make(s)},e.siblings=function(t){var n=this.parent(),i=l.filter(n?n.children():this.siblingsAndMe(),l.bind((function(t){return a(t)&&!this.is(t)}),this));return void 0!==t?e.filter.call(i,t,this):this._make(i)},e.children=function(t){var n=l.reduce(this,(function(t,e){return t.concat(l.filter(e.children,a))}),[]);return void 0===t?this._make(n):e.filter.call(n,t,this)},e.contents=function(){return this._make(l.reduce(this,(function(t,e){return t.push.apply(t,e.children),t}),[]))},e.each=function(t){var e=0,n=this.length;while(e<n&&!1!==t.call(this[e],e,this[e]))++e;return this},e.map=function(t){return this._make(l.reduce(this,(function(e,n,i){var r=t.call(n,i,n);return null==r?e:e.concat(r)}),[]))};var c=function(t){return function(e,n){var r;return n=n||this,r="string"===typeof e?i.compile(e,n.options):"function"===typeof e?function(t,n){return e.call(t,n,t)}:e.cheerio?e.is.bind(e):function(t){return e===t},n._make(t(this,r))}};function u(t,n,i,r){var o=[];while(n&&o.length<r)i&&!e.filter.call([n],i,t).length||o.push(n),n=n.parent;return o}e.filter=c(l.filter),e.not=c(l.reject),e.has=function(t){var n=this;return e.filter.call(this,(function(){return n._make(this).find(t).length>0}))},e.first=function(){return this.length>1?this._make(this[0]):this},e.last=function(){return this.length>1?this._make(this[this.length-1]):this},e.eq=function(t){return t=+t,0===t&&this.length<=1?this:(t<0&&(t=this.length+t),this[t]?this._make(this[t]):this._make([]))},e.get=function(t){return null==t?Array.prototype.slice.call(this):this[t<0?this.length+t:t]},e.index=function(t){var e,n;return 0===arguments.length?(e=this.parent().children(),n=this[0]):"string"===typeof t?(e=this._make(t),n=this[0]):(e=this,n=t.cheerio?t[0]:t),e.get().indexOf(n)},e.slice=function(){return this._make([].slice.apply(this,arguments))},e.end=function(){return this.prevObject||this._make([])},e.add=function(t,e){for(var n=this._make(t,e),i=s(n.get().concat(this.get())),r=0;r<i.length;++r)n[r]=i[r];return n.length=i.length,n},e.addBack=function(t){return this.add(arguments.length?this.prevObject.filter(t):this.prevObject)}},7911:function(t,e,n){var i=n(5012),r=n(5633).isHtml,o={extend:n(5089),bind:n(4067),forEach:n(3590),defaults:n(5402)},s=[n(6451),n(1042),n(7221),n(9806),n(3432)],a=t.exports=function(t,e,n,s){return this instanceof a?(this.options=o.defaults(s||{},this.options),t?(n&&("string"===typeof n&&(n=i(n,this.options)),this._root=a.call(this,n)),t.cheerio?t:(l(t)&&(t=[t]),Array.isArray(t)?(o.forEach(t,o.bind((function(t,e){this[e]=t}),this)),this.length=t.length,this):"string"===typeof t&&r(t)?a.call(this,i(t,this.options).children):(e?"string"===typeof e?r(e)?(e=i(e,this.options),e=a.call(this,e)):(t=[e,t].join(" "),e=this._root):e.cheerio||(e=a.call(this,e)):e=this._root,e?e.find(t):this))):this):new a(t,e,n,s)};o.extend(a,n(6634)),a.prototype.cheerio="[cheerio object]",a.prototype.options={withDomLvl1:!0,normalizeWhitespace:!1,xmlMode:!1,decodeEntities:!0},a.prototype.length=0,a.prototype.splice=Array.prototype.splice,a.prototype._make=function(t,e){var n=new this.constructor(t,e,this._root,this.options);return n.prevObject=this,n},a.prototype.toArray=function(){return this.get()},s.forEach((function(t){o.extend(a.prototype,t)}));var l=function(t){return t.name||"text"===t.type||"comment"===t.type}},5012:function(t,e,n){var i=n(3719);e=t.exports=function(t,n){var i=e.evaluate(t,n),r=e.evaluate("<root></root>",n)[0];return r.type="root",e.update(i,r),r},e.evaluate=function(t,e){var n;return n="string"===typeof t||Buffer.isBuffer(t)?i.parseDOM(t,e):t,n},e.update=function(t,e){Array.isArray(t)||(t=[t]),e?e.children=t:e=null;for(var n=0;n<t.length;n++){var i=t[n],r=i.parent||i.root,o=r&&r.children;o&&o!==t&&(o.splice(o.indexOf(i),1),i.prev&&(i.prev.next=i.next),i.next&&(i.next.prev=i.prev)),e?(i.prev=t[n-1]||null,i.next=t[n+1]||null):i.prev=i.next=null,e&&"root"===e.type?(i.root=e,i.parent=null):(i.root=null,i.parent=e)}return e}},6634:function(t,e,n){var i=n(6138),r=n(6780),o=n(5012),s={merge:n(2378),defaults:n(5402)};function a(t,e,n){if(e)"string"===typeof e&&(e=r(e,t._root,n));else{if(!t._root||!t._root.children)return"";e=t._root.children}return i(e,n)}e.load=function(t,i){var r=n(7911);i=s.defaults(i||{},r.prototype.options);var a=o(t,i),l=function(t,e,n,o){return this instanceof l?(o=s.defaults(o||{},i),r.call(this,t,e,n||a,o)):new l(t,e,n,o)};return l.prototype=Object.create(r.prototype),l.prototype.constructor=l,l.fn=l.prototype,l.prototype._originalRoot=a,s.merge(l,e),l._root=a,l._options=i,l},e.html=function(t,e){var i=n(7911);return"[object Object]"!==Object.prototype.toString.call(t)||e||"length"in t||"type"in t||(e=t,t=void 0),e=s.defaults(e||{},this._options,i.prototype.options),a(this,t,e)},e.xml=function(t){var e=s.defaults({xmlMode:!0},this._options);return a(this,t,e)},e.text=function(t){t||(t=this.root());for(var n,i="",r=t.length,o=0;o<r;o++)n=t[o],"text"===n.type?i+=n.data:n.children&&"comment"!==n.type&&(i+=e.text(n.children));return i},e.parseHTML=function(t,e,n){var i;return t&&"string"===typeof t?("boolean"===typeof e&&(n=e),i=this.load(t),n||i("script").remove(),i.root()[0].children.slice()):null},e.root=function(){return this(this._root)},e.contains=function(t,e){if(e===t)return!1;while(e&&e!==e.parent)if(e=e.parent,e===t)return!0;return!1}},5633:function(t,e,n){var i=n(5012),r=n(6138),o={tag:!0,script:!0,style:!0};e.isTag=function(t){return t.type&&(t=t.type),o[t]||!1},e.camelCase=function(t){return t.replace(/[_.-](\w|$)/g,(function(t,e){return e.toUpperCase()}))},e.cssCase=function(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()},e.domEach=function(t,e){var n=0,i=t.length;while(n<i&&!1!==e.call(t,n,t[n]))++n;return t},e.cloneDom=function(t,e){return i(r(t,e),e).children};var s=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;e.isHtml=function(t){if("<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3)return!0;var e=s.exec(t);return!(!e||!e[1])}},6077:function(t){var e=[].slice;t.exports=function(t,n){if("string"==typeof n&&(n=t[n]),"function"!=typeof n)throw new Error("bind() requires a function");var i=e.call(arguments,2);return function(){return n.apply(t,i.concat(e.call(arguments)))}}},8767:function(t){function e(t){if(t)return n(t)}function n(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<i.length;r++)if(n=i[r],n===e||n.fn===e){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);i=0;for(var r=n.length;i<r;++i)n[i].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}},3861:function(t){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},6780:function(t,e,n){"use strict";t.exports=m;var i=n(1734),r=n(2417),o=r.findOne,s=r.findAll,a=r.getChildren,l=r.removeSubsets,c=n(1073).falseFunc,u=n(8866),h=u.compileUnsafe,p=u.compileToken;function f(t){return function(e,n,i){return"function"!==typeof e&&(e=h(e,i,n)),n=Array.isArray(n)?l(n):a(n),t(e,n)}}var d=f((function(t,e){return t!==c&&e&&0!==e.length?s(t,e):[]})),g=f((function(t,e){return t!==c&&e&&0!==e.length?o(t,e):null}));function v(t,e,n){return("function"===typeof e?e:u(e,n))(t)}function m(t,e,n){return d(t,e,n)}m.compile=u,m.filters=i.filters,m.pseudos=i.pseudos,m.selectAll=d,m.selectOne=g,m.is=v,m.parse=u,m.iterate=d,m._compileUnsafe=h,m._compileToken=p},996:function(t,e,n){var i=n(2417),r=i.hasAttrib,o=i.getAttributeValue,s=n(1073).falseFunc,a=/[-[\]{}()*+?.,\\^$|#\s]/g,l={__proto__:null,equals:function(t,e){var n=e.name,i=e.value;return e.ignoreCase?(i=i.toLowerCase(),function(e){var r=o(e,n);return null!=r&&r.toLowerCase()===i&&t(e)}):function(e){return o(e,n)===i&&t(e)}},hyphen:function(t,e){var n=e.name,i=e.value,r=i.length;return e.ignoreCase?(i=i.toLowerCase(),function(e){var s=o(e,n);return null!=s&&(s.length===r||"-"===s.charAt(r))&&s.substr(0,r).toLowerCase()===i&&t(e)}):function(e){var s=o(e,n);return null!=s&&s.substr(0,r)===i&&(s.length===r||"-"===s.charAt(r))&&t(e)}},element:function(t,e){var n=e.name,i=e.value;if(/\s/.test(i))return s;i=i.replace(a,"\\$&");var r="(?:^|\\s)"+i+"(?:$|\\s)",l=e.ignoreCase?"i":"",c=new RegExp(r,l);return function(e){var i=o(e,n);return null!=i&&c.test(i)&&t(e)}},exists:function(t,e){var n=e.name;return function(e){return r(e,n)&&t(e)}},start:function(t,e){var n=e.name,i=e.value,r=i.length;return 0===r?s:e.ignoreCase?(i=i.toLowerCase(),function(e){var s=o(e,n);return null!=s&&s.substr(0,r).toLowerCase()===i&&t(e)}):function(e){var s=o(e,n);return null!=s&&s.substr(0,r)===i&&t(e)}},end:function(t,e){var n=e.name,i=e.value,r=-i.length;return 0===r?s:e.ignoreCase?(i=i.toLowerCase(),function(e){var s=o(e,n);return null!=s&&s.substr(r).toLowerCase()===i&&t(e)}):function(e){var s=o(e,n);return null!=s&&s.substr(r)===i&&t(e)}},any:function(t,e){var n=e.name,i=e.value;if(""===i)return s;if(e.ignoreCase){var r=new RegExp(i.replace(a,"\\$&"),"i");return function(e){var i=o(e,n);return null!=i&&r.test(i)&&t(e)}}return function(e){var r=o(e,n);return null!=r&&r.indexOf(i)>=0&&t(e)}},not:function(t,e){var n=e.name,i=e.value;return""===i?function(e){return!!o(e,n)&&t(e)}:e.ignoreCase?(i=i.toLowerCase(),function(e){var r=o(e,n);return null!=r&&r.toLowerCase()!==i&&t(e)}):function(e){return o(e,n)!==i&&t(e)}}};t.exports={compile:function(t,e,n){if(n&&n.strict&&(e.ignoreCase||"not"===e.action))throw SyntaxError("Unsupported attribute selector");return l[e.action](t,e)},rules:l}},8866:function(t,e,n){t.exports=p,t.exports.compileUnsafe=d,t.exports.compileToken=_;var i=n(7147),r=n(2417),o=r.isTag,s=n(3745),a=n(7353),l=n(1073),c=l.trueFunc,u=l.falseFunc,h=n(2114);function p(t,e,n){var i=d(t,e,n);return f(i)}function f(t){return function(e){return o(e)&&t(e)}}function d(t,e,n){var r=i(t,e);return _(r,e,n)}function g(t){return"pseudo"===t.type&&("scope"===t.name||Array.isArray(t.data)&&t.data.some((function(t){return t.some(g)})))}var v={type:"descendant"},m={type:"pseudo",name:"scope"},y={},b=r.getParent;function w(t,e){var n=!!e&&!!e.length&&e.every((function(t){return t===y||!!b(t)}));t.forEach((function(t){if(t.length>0&&x(t[0])&&"descendant"!==t[0].type);else{if(!n||g(t))return;t.unshift(v)}t.unshift(m)}))}function _(t,e,n){t=t.filter((function(t){return t.length>0})),t.forEach(a);var i=Array.isArray(n);return n=e&&e.context||n,n&&!i&&(n=[n]),w(t,n),t.map((function(t){return S(t,e,n,i)})).reduce(T,u)}function x(t){return h[t.type]<0}function S(t,e,n,i){var r=i&&"scope"===t[0].name&&"descendant"===t[1].type;return t.reduce((function(t,i,o){return t===u?t:s[i.type](t,i,e,n,r&&1===o)}),e&&e.rootFunc||c)}function T(t,e){return e===u||t===c?t:t===u||e===c?e:function(n){return t(n)||e(n)}}var C=n(1734),E=C.filters,k=r.existsOne,O=(o=r.isTag,r.getChildren);function A(t){return t.some(x)}E.not=function(t,e,n,i){var r={xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict)};if(r.strict&&(e.length>1||e.some(A)))throw new SyntaxError("complex selectors in :not aren't allowed in strict mode");var o=_(e,r,i);return o===u?t:o===c?u:function(e){return!o(e)&&t(e)}},E.has=function(t,e,n){var i={xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict)},r=e.some(A)?[y]:null,s=_(e,i,r);return s===u?u:s===c?function(e){return O(e).some(o)&&t(e)}:(s=f(s),r?function(e){return t(e)&&(r[0]=e,k(s,O(e)))}:function(e){return t(e)&&k(s,O(e))})},E.matches=function(t,e,n,i){var r={xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict),rootFunc:t};return _(e,r,i)}},3745:function(t,e,n){var i=n(2417),r=i.isTag,o=i.getParent,s=i.getChildren,a=i.getSiblings,l=i.getName;t.exports={__proto__:null,attribute:n(996).compile,pseudo:n(1734).compile,tag:function(t,e){var n=e.name;return function(e){return l(e)===n&&t(e)}},descendant:function(t,e,n,i,r){return function(e){if(r&&t(e))return!0;var n=!1;while(!n&&(e=o(e)))n=t(e);return n}},parent:function(t,e,n){if(n&&n.strict)throw SyntaxError("Parent selector isn't part of CSS3");return function(t){return s(t).some(i)};function i(e){return r(e)&&t(e)}},child:function(t){return function(e){var n=o(e);return!!n&&t(n)}},sibling:function(t){return function(e){for(var n=a(e),i=0;i<n.length;i++)if(r(n[i])){if(n[i]===e)break;if(t(n[i]))return!0}return!1}},adjacent:function(t){return function(e){for(var n,i=a(e),o=0;o<i.length;o++)if(r(i[o])){if(i[o]===e)break;n=i[o]}return!!n&&t(n)}},universal:function(t){return t}}},1734:function(t,e,n){var i=n(2417),r=i.isTag,o=i.getText,s=i.getParent,a=i.getChildren,l=i.getSiblings,c=i.hasAttrib,u=i.getName,h=i.getAttributeValue,p=n(4882),f=n(996).rules.equals,d=n(1073),g=d.trueFunc,v=d.falseFunc;function m(t){for(var e=0;t&&e<t.length;e++)if(r(t[e]))return t[e]}function y(t,e){var n={name:t,value:e};return function(t){return f(t,n)}}function b(t){return function(e){return!!s(e)&&t(e)}}var w={contains:function(t,e){return function(n){return t(n)&&o(n).indexOf(e)>=0}},icontains:function(t,e){var n=e.toLowerCase();return function(e){return t(e)&&o(e).toLowerCase().indexOf(n)>=0}},"nth-child":function(t,e){var n=p(e);return n===v?n:n===g?b(t):function(e){for(var i=l(e),o=0,s=0;o<i.length;o++)if(r(i[o])){if(i[o]===e)break;s++}return n(s)&&t(e)}},"nth-last-child":function(t,e){var n=p(e);return n===v?n:n===g?b(t):function(e){for(var i=l(e),o=0,s=i.length-1;s>=0;s--)if(r(i[s])){if(i[s]===e)break;o++}return n(o)&&t(e)}},"nth-of-type":function(t,e){var n=p(e);return n===v?n:n===g?b(t):function(e){for(var i=l(e),o=0,s=0;s<i.length;s++)if(r(i[s])){if(i[s]===e)break;u(i[s])===u(e)&&o++}return n(o)&&t(e)}},"nth-last-of-type":function(t,e){var n=p(e);return n===v?n:n===g?b(t):function(e){for(var i=l(e),o=0,s=i.length-1;s>=0;s--)if(r(i[s])){if(i[s]===e)break;u(i[s])===u(e)&&o++}return n(o)&&t(e)}},root:function(t){return function(e){return!s(e)&&t(e)}},scope:function(t,e,n,i){return i&&0!==i.length?1===i.length?function(e){return i[0]===e&&t(e)}:function(e){return i.indexOf(e)>=0&&t(e)}:w.root(t)},checkbox:y("type","checkbox"),file:y("type","file"),password:y("type","password"),radio:y("type","radio"),reset:y("type","reset"),image:y("type","image"),submit:y("type","submit")},_={empty:function(t){return!a(t).some((function(t){return r(t)||"text"===t.type}))},"first-child":function(t){return m(l(t))===t},"last-child":function(t){for(var e=l(t),n=e.length-1;n>=0;n--){if(e[n]===t)return!0;if(r(e[n]))break}return!1},"first-of-type":function(t){for(var e=l(t),n=0;n<e.length;n++)if(r(e[n])){if(e[n]===t)return!0;if(u(e[n])===u(t))break}return!1},"last-of-type":function(t){for(var e=l(t),n=e.length-1;n>=0;n--)if(r(e[n])){if(e[n]===t)return!0;if(u(e[n])===u(t))break}return!1},"only-of-type":function(t){for(var e=l(t),n=0,i=e.length;n<i;n++)if(r(e[n])){if(e[n]===t)continue;if(u(e[n])===u(t))return!1}return!0},"only-child":function(t){for(var e=l(t),n=0;n<e.length;n++)if(r(e[n])&&e[n]!==t)return!1;return!0},link:function(t){return c(t,"href")},visited:v,selected:function(t){if(c(t,"selected"))return!0;if("option"!==u(t))return!1;var e=s(t);if(!e||"select"!==u(e)||c(e,"multiple"))return!1;for(var n=a(e),i=!1,o=0;o<n.length;o++)if(r(n[o]))if(n[o]===t)i=!0;else{if(!i)return!1;if(c(n[o],"selected"))return!1}return i},disabled:function(t){return c(t,"disabled")},enabled:function(t){return!c(t,"disabled")},checked:function(t){return c(t,"checked")||_.selected(t)},required:function(t){return c(t,"required")},optional:function(t){return!c(t,"required")},parent:function(t){return!_.empty(t)},header:function(t){var e=u(t);return"h1"===e||"h2"===e||"h3"===e||"h4"===e||"h5"===e||"h6"===e},button:function(t){var e=u(t);return"button"===e||"input"===e&&"button"===h(t,"type")},input:function(t){var e=u(t);return"input"===e||"textarea"===e||"select"===e||"button"===e},text:function(t){var e;return"input"===u(t)&&(!(e=h(t,"type"))||"text"===e.toLowerCase())}};function x(t,e,n){if(null===n){if(t.length>1&&"scope"!==e)throw new SyntaxError("pseudo-selector :"+e+" requires an argument")}else if(1===t.length)throw new SyntaxError("pseudo-selector :"+e+" doesn't have any arguments")}var S=/^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/;t.exports={compile:function(t,e,n,i){var r=e.name,o=e.data;if(n&&n.strict&&!S.test(r))throw SyntaxError(":"+r+" isn't part of CSS3");if("function"===typeof w[r])return x(w[r],r,o),w[r](t,o,n,i);if("function"===typeof _[r]){var s=_[r];return x(s,r,o),t===g?s:function(e){return s(e,o)&&t(e)}}throw new SyntaxError("unmatched pseudo-class :"+r)},filters:w,pseudos:_}},7353:function(t,e,n){t.exports=o;var i=n(2114),r={__proto__:null,exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function o(t){for(var e=t.map(s),n=1;n<t.length;n++){var i=e[n];if(!(i<0))for(var r=n-1;r>=0&&i<e[r];r--){var o=t[r+1];t[r+1]=t[r],t[r]=o,e[r+1]=e[r],e[r]=i}}}function s(t){var e=i[t.type];if(e===i.attribute)e=r[t.action],e===r.equals&&"id"===t.name&&(e=9),t.ignoreCase&&(e>>=1);else if(e===i.pseudo)if(t.data)if("has"===t.name||"contains"===t.name)e=0;else if("matches"===t.name||"not"===t.name){e=0;for(var n=0;n<t.data.length;n++)if(1===t.data[n].length){var o=s(t.data[n][0]);if(0===o){e=0;break}o>e&&(e=o)}t.data.length>1&&e>0&&(e-=1)}else e=1;else e=3;return e}},7147:function(t){"use strict";t.exports=f;var e=/^(?:\\.|[\w\-\u00b0-\uFFFF])+/,n=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,i=/^\s*((?:\\.|[\w\u00b0-\uFFFF\-])+)\s*(?:(\S?)=\s*(?:(['"])([^]*?)\3|(#?(?:\\.|[\w\u00b0-\uFFFF\-])*)|)|)\s*(i)?\]/,r={__proto__:null,undefined:"exists","":"equals","~":"element","^":"start",$:"end","*":"any","!":"not","|":"hyphen"},o={__proto__:null,">":"child","<":"parent","~":"sibling","+":"adjacent"},s={__proto__:null,"#":["id","equals"],".":["class","element"]},a={__proto__:null,has:!0,not:!0,matches:!0},l={__proto__:null,contains:!0,icontains:!0},c={__proto__:null,'"':!0,"'":!0};function u(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)}function h(t){return t.replace(n,u)}function p(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function f(t,e){var n=[];if(t=d(n,t+"",e),""!==t)throw new SyntaxError("Unmatched selector: "+t);return n}function d(t,n,u){var f,v,m,y,b=[],w=!1;function _(){var t=n.match(e)[0];return n=n.substr(t.length),h(t)}function x(t){while(p(n.charAt(t)))t++;n=n.substr(t)}function S(t){var e=0;while("\\"===n.charAt(--t))e++;return 1===(1&e)}x(0);while(""!==n)if(v=n.charAt(0),p(v))w=!0,x(1);else if(v in o)b.push({type:o[v]}),w=!1,x(1);else if(","===v){if(0===b.length)throw new SyntaxError("empty sub-selector");t.push(b),b=[],w=!1,x(1)}else if(w&&(b.length>0&&b.push({type:"descendant"}),w=!1),"*"===v)n=n.substr(1),b.push({type:"universal"});else if(v in s)n=n.substr(1),b.push({type:"attribute",name:s[v][0],action:s[v][1],value:_(),ignoreCase:!1});else if("["===v){if(n=n.substr(1),f=n.match(i),!f)throw new SyntaxError("Malformed attribute selector: "+n);n=n.substr(f[0].length),m=h(f[1]),u&&("lowerCaseAttributeNames"in u?!u.lowerCaseAttributeNames:u.xmlMode)||(m=m.toLowerCase()),b.push({type:"attribute",name:m,action:r[f[2]],value:h(f[4]||f[5]||""),ignoreCase:!!f[6]})}else if(":"===v){if(":"===n.charAt(1)){n=n.substr(2),b.push({type:"pseudo-element",name:_().toLowerCase()});continue}if(n=n.substr(1),m=_().toLowerCase(),f=null,"("===n.charAt(0))if(m in a){y=n.charAt(1);var T=y in c;if(n=n.substr(T+1),f=[],n=d(f,n,u),T){if(n.charAt(0)!==y)throw new SyntaxError("unmatched quotes in :"+m);n=n.substr(1)}if(")"!==n.charAt(0))throw new SyntaxError("missing closing parenthesis in :"+m+" "+n);n=n.substr(1)}else{for(var C=1,E=1;E>0&&C<n.length;C++)"("!==n.charAt(C)||S(C)?")"!==n.charAt(C)||S(C)||E--:E++;if(E)throw new SyntaxError("parenthesis not matched");f=n.substr(1,C-2),n=n.substr(C),m in l&&(y=f.charAt(0),y===f.slice(-1)&&y in c&&(f=f.slice(1,-1)),f=h(f))}b.push({type:"pseudo",name:m,data:f})}else{if(!e.test(n))return b.length&&"descendant"===b[b.length-1].type&&b.pop(),g(t,b),n;m=_(),u&&("lowerCaseTags"in u?!u.lowerCaseTags:u.xmlMode)||(m=m.toLowerCase()),b.push({type:"tag",name:m})}return g(t,b),n}function g(t,e){if(t.length>0&&0===e.length)throw new SyntaxError("empty sub-selector");t.push(e)}},6138:function(t,e,n){var i=n(4431),r=n(1091),o={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};function s(t,e){if(t){var n,i="";for(var o in t)n=t[o],i&&(i+=" "),i+=o,(null!==n&&""!==n||e.xmlMode)&&(i+='="'+(e.decodeEntities?r.encodeXML(n):n)+'"');return i}}var a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},l=t.exports=function(t,e){Array.isArray(t)||t.cheerio||(t=[t]),e=e||{};for(var n="",r=0;r<t.length;r++){var o=t[r];"root"===o.type?n+=l(o.children,e):i.isTag(o)?n+=c(o,e):o.type===i.Directive?n+=u(o):o.type===i.Comment?n+=f(o):o.type===i.CDATA?n+=p(o):n+=h(o,e)}return n};function c(t,e){"svg"===t.name&&(e={decodeEntities:e.decodeEntities,xmlMode:!0});var n="<"+t.name,i=s(t.attribs,e);return i&&(n+=" "+i),!e.xmlMode||t.children&&0!==t.children.length?(n+=">",t.children&&(n+=l(t.children,e)),a[t.name]&&!e.xmlMode||(n+="</"+t.name+">")):n+="/>",n}function u(t){return"<"+t.data+">"}function h(t,e){var n=t.data||"";return!e.decodeEntities||t.parent&&t.parent.name in o||(n=r.encodeXML(n)),n}function p(t){return"<![CDATA["+t.children[0].data+"]]>"}function f(t){return"\x3c!--"+t.data+"--\x3e"}},4431:function(t){t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(t){return"tag"===t.type||"script"===t.type||"style"===t.type}}},8753:function(t,e,n){var i=n(4431),r=/\s+/g,o=n(7790),s=n(4407);function a(t,e,n){"object"===typeof t?(n=e,e=t,t=null):"function"===typeof e&&(n=e,e=l),this._callback=t,this._options=e||l,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var l={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};a.prototype.onparserinit=function(t){this._parser=t},a.prototype.onreset=function(){a.call(this,this._callback,this._options,this._elementCB)},a.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},a.prototype._handleCallback=a.prototype.onerror=function(t){if("function"===typeof this._callback)this._callback(t,this.dom);else if(t)throw t},a.prototype.onclosetag=function(){var t=this._tagStack.pop();this._options.withEndIndices&&t&&(t.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(t)},a.prototype._createDomElement=function(t){if(!this._options.withDomLvl1)return t;var e;for(var n in e="tag"===t.type?Object.create(s):Object.create(o),t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},a.prototype._addDomElement=function(t){var e=this._tagStack[this._tagStack.length-1],n=e?e.children:this.dom,i=n[n.length-1];t.next=null,this._options.withStartIndices&&(t.startIndex=this._parser.startIndex),this._options.withEndIndices&&(t.endIndex=this._parser.endIndex),i?(t.prev=i,i.next=t):t.prev=null,n.push(t),t.parent=e||null},a.prototype.onopentag=function(t,e){var n={type:"script"===t?i.Script:"style"===t?i.Style:i.Tag,name:t,attribs:e,children:[]},r=this._createDomElement(n);this._addDomElement(r),this._tagStack.push(r)},a.prototype.ontext=function(t){var e,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(e=this.dom[this.dom.length-1]).type===i.Text)n?e.data=(e.data+t).replace(r," "):e.data+=t;else if(this._tagStack.length&&(e=this._tagStack[this._tagStack.length-1])&&(e=e.children[e.children.length-1])&&e.type===i.Text)n?e.data=(e.data+t).replace(r," "):e.data+=t;else{n&&(t=t.replace(r," "));var o=this._createDomElement({data:t,type:i.Text});this._addDomElement(o)}},a.prototype.oncomment=function(t){var e=this._tagStack[this._tagStack.length-1];if(e&&e.type===i.Comment)e.data+=t;else{var n={data:t,type:i.Comment},r=this._createDomElement(n);this._addDomElement(r),this._tagStack.push(r)}},a.prototype.oncdatastart=function(){var t={children:[{data:"",type:i.Text}],type:i.CDATA},e=this._createDomElement(t);this._addDomElement(e),this._tagStack.push(e)},a.prototype.oncommentend=a.prototype.oncdataend=function(){this._tagStack.pop()},a.prototype.onprocessinginstruction=function(t,e){var n=this._createDomElement({name:t,data:e,type:i.Directive});this._addDomElement(n)},t.exports=a},4407:function(t,e,n){var i=n(7790),r=t.exports=Object.create(i),o={tagName:"name"};Object.keys(o).forEach((function(t){var e=o[t];Object.defineProperty(r,t,{get:function(){return this[e]||null},set:function(t){return this[e]=t,t}})}))},7790:function(t){var e=t.exports={get firstChild(){var t=this.children;return t&&t[0]||null},get lastChild(){var t=this.children;return t&&t[t.length-1]||null},get nodeType(){return i[this.type]||i.element}},n={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},i={element:1,text:3,cdata:4,comment:8};Object.keys(n).forEach((function(t){var i=n[t];Object.defineProperty(e,t,{get:function(){return this[i]||null},set:function(t){return this[i]=t,t}})}))},2417:function(t,e,n){var i=t.exports;[n(3346),n(5010),n(6765),n(8043),n(3905),n(4975)].forEach((function(t){Object.keys(t).forEach((function(e){i[e]=t[e].bind(i)}))}))},4975:function(t,e){e.removeSubsets=function(t){var e,n,i,r=t.length;while(--r>-1){e=n=t[r],t[r]=null,i=!0;while(n){if(t.indexOf(n)>-1){i=!1,t.splice(r,1);break}n=n.parent}i&&(t[r]=e)}return t};var n={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16},i=e.compareDocumentPosition=function(t,e){var i,r,o,s,a,l,c=[],u=[];if(t===e)return 0;i=t;while(i)c.unshift(i),i=i.parent;i=e;while(i)u.unshift(i),i=i.parent;l=0;while(c[l]===u[l])l++;return 0===l?n.DISCONNECTED:(r=c[l-1],o=r.children,s=c[l],a=u[l],o.indexOf(s)>o.indexOf(a)?r===e?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:r===t?n.PRECEDING|n.CONTAINS:n.PRECEDING)};e.uniqueSort=function(t){var e,r,o=t.length;t=t.slice();while(--o>-1)e=t[o],r=t.indexOf(e),r>-1&&r<o&&t.splice(o,1);return t.sort((function(t,e){var r=i(t,e);return r&n.PRECEDING?-1:r&n.FOLLOWING?1:0})),t}},3905:function(t,e,n){var i=n(4431),r=e.isTag=i.isTag;e.testElement=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){if("tag_name"===n){if(!r(e)||!t.tag_name(e.name))return!1}else if("tag_type"===n){if(!t.tag_type(e.type))return!1}else if("tag_contains"===n){if(r(e)||!t.tag_contains(e.data))return!1}else if(!e.attribs||!t[n](e.attribs[n]))return!1}else;return!0};var o={tag_name:function(t){return"function"===typeof t?function(e){return r(e)&&t(e.name)}:"*"===t?r:function(e){return r(e)&&e.name===t}},tag_type:function(t){return"function"===typeof t?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return"function"===typeof t?function(e){return!r(e)&&t(e.data)}:function(e){return!r(e)&&e.data===t}}};function s(t,e){return"function"===typeof e?function(n){return n.attribs&&e(n.attribs[t])}:function(n){return n.attribs&&n.attribs[t]===e}}function a(t,e){return function(n){return t(n)||e(n)}}e.getElements=function(t,e,n,i){var r=Object.keys(t).map((function(e){var n=t[e];return e in o?o[e](n):s(e,n)}));return 0===r.length?[]:this.filter(r.reduce(a),e,n,i)},e.getElementById=function(t,e,n){return Array.isArray(e)||(e=[e]),this.findOne(s("id",t),e,!1!==n)},e.getElementsByTagName=function(t,e,n,i){return this.filter(o.tag_name(t),e,n,i)},e.getElementsByTagType=function(t,e,n,i){return this.filter(o.tag_type(t),e,n,i)}},6765:function(t,e){e.removeElement=function(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children;e.splice(e.lastIndexOf(t),1)}},e.replaceElement=function(t,e){var n=e.prev=t.prev;n&&(n.next=e);var i=e.next=t.next;i&&(i.prev=e);var r=e.parent=t.parent;if(r){var o=r.children;o[o.lastIndexOf(t)]=e}},e.appendChild=function(t,e){if(e.parent=t,1!==t.children.push(e)){var n=t.children[t.children.length-2];n.next=e,e.prev=n,e.next=null}},e.append=function(t,e){var n=t.parent,i=t.next;if(e.next=i,e.prev=t,t.next=e,e.parent=n,i){if(i.prev=e,n){var r=n.children;r.splice(r.lastIndexOf(i),0,e)}}else n&&n.children.push(e)},e.prepend=function(t,e){var n=t.parent;if(n){var i=n.children;i.splice(i.lastIndexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=n,e.prev=t.prev,e.next=t,t.prev=e}},8043:function(t,e,n){var i=n(4431).isTag;function r(t,e,n,i){return Array.isArray(e)||(e=[e]),"number"===typeof i&&isFinite(i)||(i=1/0),o(t,e,!1!==n,i)}function o(t,e,n,i){for(var r,s=[],a=0,l=e.length;a<l;a++){if(t(e[a])&&(s.push(e[a]),--i<=0))break;if(r=e[a].children,n&&r&&r.length>0&&(r=o(t,r,n,i),s=s.concat(r),i-=r.length,i<=0))break}return s}function s(t,e){for(var n=0,i=e.length;n<i;n++)if(t(e[n]))return e[n];return null}function a(t,e){for(var n=null,r=0,o=e.length;r<o&&!n;r++)i(e[r])&&(t(e[r])?n=e[r]:e[r].children.length>0&&(n=a(t,e[r].children)));return n}function l(t,e){for(var n=0,r=e.length;n<r;n++)if(i(e[n])&&(t(e[n])||e[n].children.length>0&&l(t,e[n].children)))return!0;return!1}function c(t,e){for(var n=[],r=0,o=e.length;r<o;r++)i(e[r])&&(t(e[r])&&n.push(e[r]),e[r].children.length>0&&(n=n.concat(c(t,e[r].children))));return n}t.exports={filter:r,find:o,findOneChild:s,findOne:a,existsOne:l,findAll:c}},3346:function(t,e,n){var i=n(4431),r=n(6138),o=i.isTag;function s(t,e){return t.children?t.children.map((function(t){return r(t,e)})).join(""):""}function a(t){return Array.isArray(t)?t.map(a).join(""):o(t)||t.type===i.CDATA?a(t.children):t.type===i.Text?t.data:""}t.exports={getInnerHTML:s,getOuterHTML:r,getText:a}},5010:function(t,e){var n=e.getChildren=function(t){return t.children},i=e.getParent=function(t){return t.parent};e.getSiblings=function(t){var e=i(t);return e?n(e):[t]},e.getAttributeValue=function(t,e){return t.attribs&&t.attribs[e]},e.hasAttrib=function(t,e){return!!t.attribs&&hasOwnProperty.call(t.attribs,e)},e.getName=function(t){return t.name}},3549:function(t){t.exports=function(){return"undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")()}()},5983:function(t,e,n){t.exports=n(2192),t.exports.parser=n(4455)},2192:function(t,e,n){var i=n(3352),r=n(8767),o=n(4802)("engine.io-client:socket"),s=n(7355),a=n(4455),l=n(4187),c=n(1830);function u(t,e){if(!(this instanceof u))return new u(t,e);e=e||{},t&&"object"===typeof t&&(e=t,t=null),t?(t=l(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=l(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!==typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!==typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"===typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.withCredentials=!1!==e.withCredentials,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||void 0,this.key=e.key||void 0,this.passphrase=e.passphrase||void 0,this.cert=e.cert||void 0,this.ca=e.ca||void 0,this.ciphers=e.ciphers||void 0,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"===typeof self||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function h(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}t.exports=u,u.priorWebsocketSuccess=!1,r(u.prototype),u.protocol=a.protocol,u.Socket=u,u.Transport=n(6496),u.transports=n(3352),u.parser=n(4455),u.prototype.createTransport=function(t){o('creating transport "%s"',t);var e=h(this.query);e.EIO=a.protocol,e.transport=t;var n=this.transportOptions[t]||{};this.id&&(e.sid=this.id);var r=new i[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative});return r},u.prototype.open=function(){var t;if(this.rememberUpgrade&&u.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout((function(){e.emit("error","No transports available")}),0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(n){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},u.prototype.setTransport=function(t){o("setting transport %s",t.name);var e=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",(function(){e.onDrain()})).on("packet",(function(t){e.onPacket(t)})).on("error",(function(t){e.onError(t)})).on("close",(function(){e.onClose("transport close")}))},u.prototype.probe=function(t){o('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,i=this;function r(){if(i.onlyBinaryUpgrades){var r=!this.supportsBinary&&i.transport.supportsBinary;n=n||r}n||(o('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",(function(r){if(!n)if("pong"===r.type&&"probe"===r.data){if(o('probe transport "%s" pong',t),i.upgrading=!0,i.emit("upgrading",e),!e)return;u.priorWebsocketSuccess="websocket"===e.name,o('pausing current transport "%s"',i.transport.name),i.transport.pause((function(){n||"closed"!==i.readyState&&(o("changing transport and sending upgrade packet"),p(),i.setTransport(e),e.send([{type:"upgrade"}]),i.emit("upgrade",e),e=null,i.upgrading=!1,i.flush())}))}else{o('probe transport "%s" failed',t);var s=new Error("probe error");s.transport=e.name,i.emit("upgradeError",s)}})))}function s(){n||(n=!0,p(),e.close(),e=null)}function a(n){var r=new Error("probe error: "+n);r.transport=e.name,s(),o('probe transport "%s" failed because of error: %s',t,n),i.emit("upgradeError",r)}function l(){a("transport closed")}function c(){a("socket closed")}function h(t){e&&t.name!==e.name&&(o('"%s" works - aborting "%s"',t.name,e.name),s())}function p(){e.removeListener("open",r),e.removeListener("error",a),e.removeListener("close",l),i.removeListener("close",c),i.removeListener("upgrading",h)}u.priorWebsocketSuccess=!1,e.once("open",r),e.once("error",a),e.once("close",l),this.once("close",c),this.once("upgrading",h),e.open()},u.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",u.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},u.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data);break}else o('packet received with socket readyState "%s"',this.readyState)},u.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},u.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout((function(){"closed"!==e.readyState&&e.onClose("ping timeout")}),t||e.pingInterval+e.pingTimeout)},u.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout((function(){o("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)}),t.pingInterval)},u.prototype.ping=function(){var t=this;this.sendPacket("ping",(function(){t.emit("ping")}))},u.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},u.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},u.prototype.write=u.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},u.prototype.sendPacket=function(t,e,n,i){if("function"===typeof e&&(i=e,e=void 0),"function"===typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var r={type:t,data:e,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}},u.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?i():e()})):this.upgrading?i():e()}function e(){t.onClose("forced close"),o("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function i(){t.once("upgrade",n),t.once("upgradeError",n)}return this},u.prototype.onError=function(t){o("socket error %j",t),u.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},u.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),n.writeBuffer=[],n.prevBufferLen=0}},u.prototype.filterUpgrades=function(t){for(var e=[],n=0,i=t.length;n<i;n++)~s(this.transports,t[n])&&e.push(t[n]);return e}},6496:function(t,e,n){var i=n(4455),r=n(8767);function o(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=o,r(o.prototype),o.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(t){var e=i.decodePacket(t,this.socket.binaryType);this.onPacket(e)},o.prototype.onPacket=function(t){this.emit("packet",t)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},3352:function(t,e,n){var i=n(2777),r=n(3416),o=n(9785),s=n(4442);function a(t){var e,n=!1,s=!1,a=!1!==t.jsonp;if("undefined"!==typeof location){var l="https:"===location.protocol,c=location.port;c||(c=l?443:80),n=t.hostname!==location.hostname||c!==t.port,s=t.secure!==l}if(t.xdomain=n,t.xscheme=s,e=new i(t),"open"in e&&!t.forceJSONP)return new r(t);if(!a)throw new Error("JSONP disabled");return new o(t)}e.polling=a,e.websocket=s},9785:function(t,e,n){var i=n(9015),r=n(3861),o=n(3549);t.exports=u;var s,a=/\n/g,l=/\\n/g;function c(){}function u(t){i.call(this,t),this.query=this.query||{},s||(s=o.___eio=o.___eio||[]),this.index=s.length;var e=this;s.push((function(t){e.onData(t)})),this.query.j=this.index,"function"===typeof addEventListener&&addEventListener("beforeunload",(function(){e.script&&(e.script.onerror=c)}),!1)}r(u,i),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},u.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e;var i="undefined"!==typeof navigator&&/gecko/i.test(navigator.userAgent);i&&setTimeout((function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)},u.prototype.doWrite=function(t,e){var n=this;if(!this.form){var i,r=document.createElement("form"),o=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=s,r.method="POST",r.setAttribute("accept-charset","utf-8"),o.name="d",r.appendChild(o),document.body.appendChild(r),this.form=r,this.area=o}function c(){u(),e()}function u(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';i=document.createElement(t)}catch(e){i=document.createElement("iframe"),i.name=n.iframeId,i.src="javascript:0"}i.id=n.iframeId,n.form.appendChild(i),n.iframe=i}this.form.action=this.uri(),u(),t=t.replace(l,"\\\n"),this.area.value=t.replace(a,"\\n");try{this.form.submit()}catch(h){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&c()}:this.iframe.onload=c}},3416:function(t,e,n){var i=n(2777),r=n(9015),o=n(8767),s=n(3861),a=n(4802)("engine.io-client:polling-xhr"),l=n(3549);function c(){}function u(t){if(r.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!==typeof location){var e="https:"===location.protocol,n=location.port;n||(n=e?443:80),this.xd="undefined"!==typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}}function h(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}if(t.exports=u,t.exports.Request=h,s(u,r),u.prototype.supportsBinary=!0,u.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.withCredentials=this.withCredentials,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new h(t)},u.prototype.doWrite=function(t,e){var n="string"!==typeof t&&void 0!==t,i=this.request({method:"POST",data:t,isBinary:n}),r=this;i.on("success",e),i.on("error",(function(t){r.onError("xhr post error",t)})),this.sendXhr=i},u.prototype.doPoll=function(){a("xhr poll");var t=this.request(),e=this;t.on("data",(function(t){e.onData(t)})),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t},o(h.prototype),h.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new i(t),n=this;try{a("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&e.setRequestHeader(r,this.extraHeaders[r])}catch(o){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{e.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in e&&(e.withCredentials=this.withCredentials),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&(e.responseType="arraybuffer")}catch(o){}4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout((function(){n.onError("number"===typeof e.status?e.status:0)}),0))},a("xhr data %s",this.data),e.send(this.data)}catch(o){return void setTimeout((function(){n.onError(o)}),0)}"undefined"!==typeof document&&(this.index=h.requestsCount++,h.requests[this.index]=this)},h.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},h.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},h.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},h.prototype.cleanup=function(t){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,t)try{this.xhr.abort()}catch(e){}"undefined"!==typeof document&&delete h.requests[this.index],this.xhr=null}},h.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(n){}t=("application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=t&&this.onData(t)},h.prototype.hasXDR=function(){return"undefined"!==typeof XDomainRequest&&!this.xs&&this.enablesXDR},h.prototype.abort=function(){this.cleanup()},h.requestsCount=0,h.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",f);else if("function"===typeof addEventListener){var p="onpagehide"in l?"pagehide":"unload";addEventListener(p,f,!1)}function f(){for(var t in h.requests)h.requests.hasOwnProperty(t)&&h.requests[t].abort()}},9015:function(t,e,n){var i=n(6496),r=n(1830),o=n(4455),s=n(3861),a=n(2281),l=n(4802)("engine.io-client:polling");t.exports=u;var c=function(){var t=n(2777),e=new t({xdomain:!1});return null!=e.responseType}();function u(t){var e=t&&t.forceBase64;c&&!e||(this.supportsBinary=!1),i.call(this,t)}s(u,i),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(t){var e=this;function n(){l("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(l("we are currently polling - waiting to pause"),i++,this.once("pollComplete",(function(){l("pre-pause polling complete"),--i||n()}))),this.writable||(l("we are currently writing - waiting to pause"),i++,this.once("drain",(function(){l("pre-pause writing complete"),--i||n()})))}else n()},u.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(t){var e=this;l("polling got data %s",t);var n=function(t,n,i){if("opening"===e.readyState&&"open"===t.type&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)};o.decodePayload(t,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){var t=this;function e(){l("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(l("transport open - closing"),e()):(l("transport not open - deferring close"),this.once("open",e))},u.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};o.encodePayload(t,this.supportsBinary,(function(t){e.doWrite(t,n)}))},u.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";!1!==this.timestampRequests&&(t[this.timestampParam]=a()),this.supportsBinary||t.sid||(t.b64=1),t=r.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t);var i=-1!==this.hostname.indexOf(":");return e+"://"+(i?"["+this.hostname+"]":this.hostname)+n+this.path+t}},4442:function(t,e,n){var i,r,o=n(6496),s=n(4455),a=n(1830),l=n(3861),c=n(2281),u=n(4802)("engine.io-client:websocket");if("undefined"!==typeof WebSocket?i=WebSocket:"undefined"!==typeof self&&(i=self.WebSocket||self.MozWebSocket),"undefined"===typeof window)try{r=n(7020)}catch(f){}var h=i||r;function p(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=i&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(h=r),o.call(this,t)}t.exports=p,l(p,o),p.prototype.name="websocket",p.prototype.supportsBinary=!0,p.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={};this.isReactNative||(n.agent=this.agent,n.perMessageDeflate=this.perMessageDeflate,n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new h(t,e):new h(t):new h(t,e,n)}catch(i){return this.emit("error",i)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},p.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},p.prototype.write=function(t){var e=this;this.writable=!1;for(var n=t.length,i=0,r=n;i<r;i++)(function(t){s.encodePacket(t,e.supportsBinary,(function(i){if(!e.usingBrowserWebSocket){var r={};if(t.options&&(r.compress=t.options.compress),e.perMessageDeflate){var s="string"===typeof i?Buffer.byteLength(i):i.length;s<e.perMessageDeflate.threshold&&(r.compress=!1)}}try{e.usingBrowserWebSocket?e.ws.send(i):e.ws.send(i,r)}catch(f){u("websocket closed before onclose event")}--n||o()}))})(t[i]);function o(){e.emit("flush"),setTimeout((function(){e.writable=!0,e.emit("drain")}),0)}},p.prototype.onClose=function(){o.prototype.onClose.call(this)},p.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()},p.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||(t.b64=1),t=a.encode(t),t.length&&(t="?"+t);var i=-1!==this.hostname.indexOf(":");return e+"://"+(i?"["+this.hostname+"]":this.hostname)+n+this.path+t},p.prototype.check=function(){return!!h&&!("__initialize"in h&&this.name===p.prototype.name)}},2777:function(t,e,n){var i=n(8058),r=n(3549);t.exports=function(t){var e=t.xdomain,n=t.xscheme,o=t.enablesXDR;try{if("undefined"!==typeof XMLHttpRequest&&(!e||i))return new XMLHttpRequest}catch(s){}try{if("undefined"!==typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(s){}if(!e)try{return new(r[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(s){}}},4802:function(t,e,n){function i(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type)||("undefined"===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function r(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))})),t.splice(o,0,i)}}function o(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(n){}}function a(){var t;try{t=e.storage.debug}catch(n){}return!t&&"undefined"!==typeof process&&"env"in process&&(t={NODE_ENV:"production",BASE_URL:"/"}.DEBUG),t}function l(){try{return window.localStorage}catch(t){}}e=t.exports=n(7616),e.log=o,e.formatArgs=r,e.save=s,e.load=a,e.useColors=i,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(a())},7616:function(t,e,n){function i(t){var n,i=0;for(n in t)i=(i<<5)-i+t.charCodeAt(n),i|=0;return e.colors[Math.abs(i)%e.colors.length]}function r(t){var n;function r(){if(r.enabled){var t=r,i=+new Date,o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!==typeof s[0]&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,i){if("%%"===n)return n;l++;var r=e.formatters[i];if("function"===typeof r){var o=s[l];n=r.call(t,o),s.splice(l,1),l--}return n})),e.formatArgs.call(t,s);var c=r.log||e.log||console.log.bind(console);c.apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=i(t),r.destroy=o,"function"===typeof e.init&&e.init(r),e.instances.push(r),r}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}function s(t){var n;e.save(t),e.names=[],e.skips=[];var i=("string"===typeof t?t:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&(t=i[n].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}}function a(){e.enable("")}function l(t){if("*"===t[t.length-1])return!0;var n,i;for(n=0,i=e.skips.length;n<i;n++)if(e.skips[n].test(t))return!1;for(n=0,i=e.names.length;n<i;n++)if(e.names[n].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=r.debug=r["default"]=r,e.coerce=c,e.disable=a,e.enable=s,e.enabled=l,e.humanize=n(7824),e.instances=[],e.names=[],e.skips=[],e.formatters={}},4455:function(t,e,n){var i,r=n(7990),o=n(3466),s=n(9718),a=n(6906),l=n(3414);"undefined"!==typeof ArrayBuffer&&(i=n(3704));var c="undefined"!==typeof navigator&&/Android/i.test(navigator.userAgent),u="undefined"!==typeof navigator&&/PhantomJS/i.test(navigator.userAgent),h=c||u;e.protocol=3;var p=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=r(p),d={type:"error",data:"parser error"},g=n(5548);function v(t,n){var i="b"+e.packets[t.type]+t.data.data;return n(i)}function m(t,n,i){if(!n)return e.encodeBase64Packet(t,i);var r=t.data,o=new Uint8Array(r),s=new Uint8Array(1+r.byteLength);s[0]=p[t.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return i(s.buffer)}function y(t,n,i){if(!n)return e.encodeBase64Packet(t,i);var r=new FileReader;return r.onload=function(){e.encodePacket({type:t.type,data:r.result},n,!0,i)},r.readAsArrayBuffer(t.data)}function b(t,n,i){if(!n)return e.encodeBase64Packet(t,i);if(h)return y(t,n,i);var r=new Uint8Array(1);r[0]=p[t.type];var o=new g([r.buffer,t.data]);return i(o)}function w(t){try{t=l.decode(t,{strict:!1})}catch(e){return!1}return t}function _(t,e,n){for(var i=new Array(t.length),r=a(t.length,n),o=function(t,n,r){e(n,(function(e,n){i[t]=n,r(e,i)}))},s=0;s<t.length;s++)o(s,t[s],r)}e.encodePacket=function(t,e,n,i){"function"===typeof e&&(i=e,e=!1),"function"===typeof n&&(i=n,n=null);var r=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!==typeof ArrayBuffer&&r instanceof ArrayBuffer)return m(t,e,i);if("undefined"!==typeof g&&r instanceof g)return b(t,e,i);if(r&&r.base64)return v(t,i);var o=p[t.type];return void 0!==t.data&&(o+=n?l.encode(String(t.data),{strict:!1}):String(t.data)),i(""+o)},e.encodeBase64Packet=function(t,n){var i,r="b"+e.packets[t.type];if("undefined"!==typeof g&&t.data instanceof g){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];n(r+t)},o.readAsDataURL(t.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(c){for(var s=new Uint8Array(t.data),a=new Array(s.length),l=0;l<s.length;l++)a[l]=s[l];i=String.fromCharCode.apply(null,a)}return r+=btoa(i),n(r)},e.decodePacket=function(t,n,i){if(void 0===t)return d;if("string"===typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(i&&(t=w(t),!1===t))return d;var r=t.charAt(0);return Number(r)==r&&f[r]?t.length>1?{type:f[r],data:t.substring(1)}:{type:f[r]}:d}var o=new Uint8Array(t),a=(r=o[0],s(t,1));return g&&"blob"===n&&(a=new g([a])),{type:f[r],data:a}},e.decodeBase64Packet=function(t,e){var n=f[t.charAt(0)];if(!i)return{type:n,data:{base64:!0,data:t.substr(1)}};var r=i.decode(t.substr(1));return"blob"===e&&g&&(r=new g([r])),{type:n,data:r}},e.encodePayload=function(t,n,i){"function"===typeof n&&(i=n,n=null);var r=o(t);if(n&&r)return g&&!h?e.encodePayloadAsBlob(t,i):e.encodePayloadAsArrayBuffer(t,i);if(!t.length)return i("0:");function s(t){return t.length+":"+t}function a(t,i){e.encodePacket(t,!!r&&n,!1,(function(t){i(null,s(t))}))}_(t,a,(function(t,e){return i(e.join(""))}))},e.decodePayload=function(t,n,i){if("string"!==typeof t)return e.decodePayloadAsBinary(t,n,i);var r;if("function"===typeof n&&(i=n,n=null),""===t)return i(d,0,1);for(var o,s,a="",l=0,c=t.length;l<c;l++){var u=t.charAt(l);if(":"===u){if(""===a||a!=(o=Number(a)))return i(d,0,1);if(s=t.substr(l+1,o),a!=s.length)return i(d,0,1);if(s.length){if(r=e.decodePacket(s,n,!1),d.type===r.type&&d.data===r.data)return i(d,0,1);var h=i(r,l+o,c);if(!1===h)return}l+=o,a=""}else a+=u}return""!==a?i(d,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){if(!t.length)return n(new ArrayBuffer(0));function i(t,n){e.encodePacket(t,!0,!0,(function(t){return n(null,t)}))}_(t,i,(function(t,e){var i=e.reduce((function(t,e){var n;return n="string"===typeof e?e.length:e.byteLength,t+n.toString().length+n+2}),0),r=new Uint8Array(i),o=0;return e.forEach((function(t){var e="string"===typeof t,n=t;if(e){for(var i=new Uint8Array(t.length),s=0;s<t.length;s++)i[s]=t.charCodeAt(s);n=i.buffer}r[o++]=e?0:1;var a=n.byteLength.toString();for(s=0;s<a.length;s++)r[o++]=parseInt(a[s]);r[o++]=255;for(i=new Uint8Array(n),s=0;s<i.length;s++)r[o++]=i[s]})),n(r.buffer)}))},e.encodePayloadAsBlob=function(t,n){function i(t,n){e.encodePacket(t,!0,!0,(function(t){var e=new Uint8Array(1);if(e[0]=1,"string"===typeof t){for(var i=new Uint8Array(t.length),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);t=i.buffer,e[0]=0}var o=t instanceof ArrayBuffer?t.byteLength:t.size,s=o.toString(),a=new Uint8Array(s.length+1);for(r=0;r<s.length;r++)a[r]=parseInt(s[r]);if(a[s.length]=255,g){var l=new g([e.buffer,a.buffer,t]);n(null,l)}}))}_(t,i,(function(t,e){return n(new g(e))}))},e.decodePayloadAsBinary=function(t,n,i){"function"===typeof n&&(i=n,n=null);var r=t,o=[];while(r.byteLength>0){for(var a=new Uint8Array(r),l=0===a[0],c="",u=1;;u++){if(255===a[u])break;if(c.length>310)return i(d,0,1);c+=a[u]}r=s(r,2+c.length),c=parseInt(c);var h=s(r,0,c);if(l)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(g){var p=new Uint8Array(h);h="";for(u=0;u<p.length;u++)h+=String.fromCharCode(p[u])}o.push(h),r=s(r,c)}var f=o.length;o.forEach((function(t,r){i(e.decodePacket(t,n,!0),r,f)}))}},7990:function(t){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var i in t)n.call(t,i)&&e.push(i);return e}},3414:function(t){
/*! https://mths.be/utf8js v2.1.2 by @mathias */
var e,n,i,r=String.fromCharCode;function o(t){var e,n,i=[],r=0,o=t.length;while(r<o)e=t.charCodeAt(r++),e>=55296&&e<=56319&&r<o?(n=t.charCodeAt(r++),56320==(64512&n)?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--)):i.push(e);return i}function s(t){var e,n=t.length,i=-1,o="";while(++i<n)e=t[i],e>65535&&(e-=65536,o+=r(e>>>10&1023|55296),e=56320|1023&e),o+=r(e);return o}function a(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function l(t,e){return r(t>>e&63|128)}function c(t,e){if(0==(4294967168&t))return r(t);var n="";return 0==(4294965248&t)?n=r(t>>6&31|192):0==(4294901760&t)?(a(t,e)||(t=65533),n=r(t>>12&15|224),n+=l(t,6)):0==(4292870144&t)&&(n=r(t>>18&7|240),n+=l(t,12),n+=l(t,6)),n+=r(63&t|128),n}function u(t,e){e=e||{};var n,i=!1!==e.strict,r=o(t),s=r.length,a=-1,l="";while(++a<s)n=r[a],l+=c(n,i);return l}function h(){if(i>=n)throw Error("Invalid byte index");var t=255&e[i];if(i++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function p(t){var r,o,s,l,c;if(i>n)throw Error("Invalid byte index");if(i==n)return!1;if(r=255&e[i],i++,0==(128&r))return r;if(192==(224&r)){if(o=h(),c=(31&r)<<6|o,c>=128)return c;throw Error("Invalid continuation byte")}if(224==(240&r)){if(o=h(),s=h(),c=(15&r)<<12|o<<6|s,c>=2048)return a(c,t)?c:65533;throw Error("Invalid continuation byte")}if(240==(248&r)&&(o=h(),s=h(),l=h(),c=(7&r)<<18|o<<12|s<<6|l,c>=65536&&c<=1114111))return c;throw Error("Invalid UTF-8 detected")}function f(t,r){r=r||{};var a=!1!==r.strict;e=o(t),n=e.length,i=0;var l,c=[];while(!1!==(l=p(a)))c.push(l);return s(c)}t.exports={version:"2.1.2",encode:u,decode:f}},1091:function(t,e,n){var i=n(7322),r=n(4076);e.decode=function(t,e){return(!e||e<=0?r.XML:r.HTML)(t)},e.decodeStrict=function(t,e){return(!e||e<=0?r.XML:r.HTMLStrict)(t)},e.encode=function(t,e){return(!e||e<=0?i.XML:i.HTML)(t)},e.encodeXML=i.XML,e.encodeHTML4=e.encodeHTML5=e.encodeHTML=i.HTML,e.decodeXML=e.decodeXMLStrict=r.XML,e.decodeHTML4=e.decodeHTML5=e.decodeHTML=r.HTML,e.decodeHTML4Strict=e.decodeHTML5Strict=e.decodeHTMLStrict=r.HTMLStrict,e.escape=i.escape},4076:function(t,e,n){var i=n(9489),r=n(490),o=n(1344),s=n(26),a=c(o),l=c(i);function c(t){var e=Object.keys(t).join("|"),n=p(t);e+="|#[xX][\\da-fA-F]+|#\\d+";var i=new RegExp("&(?:"+e+");","g");return function(t){return String(t).replace(i,n)}}var u=function(){for(var t=Object.keys(r).sort(h),e=Object.keys(i).sort(h),n=0,o=0;n<e.length;n++)t[o]===e[n]?(e[n]+=";?",o++):e[n]+=";";var s=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=p(i);function l(t){return";"!==t.substr(-1)&&(t+=";"),a(t)}return function(t){return String(t).replace(s,l)}}();function h(t,e){return t<e?1:-1}function p(t){return function(e){return"#"===e.charAt(1)?"X"===e.charAt(2)||"x"===e.charAt(2)?s(parseInt(e.substr(3),16)):s(parseInt(e.substr(2),10)):t[e.slice(1,-1)]}}t.exports={XML:a,HTML:u,HTMLStrict:l}},26:function(t,e,n){var i=n(9545);function r(t){if(t>=55296&&t<=57343||t>1114111)return"";t in i&&(t=i[t]);var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t),e}t.exports=r},7322:function(t,e,n){var i=a(n(1344)),r=l(i);e.XML=f(i,r);var o=a(n(9489)),s=l(o);function a(t){return Object.keys(t).sort().reduce((function(e,n){return e[t[n]]="&"+n+";",e}),{})}function l(t){var e=[],n=[];return Object.keys(t).forEach((function(t){1===t.length?e.push("\\"+t):n.push(t)})),n.unshift("["+e.join("")+"]"),new RegExp(n.join("|"),"g")}e.HTML=f(o,s);var c=/[^\0-\x7F]/g,u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function h(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"}function p(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=1024*(e-55296)+n-56320+65536;return"&#x"+i.toString(16).toUpperCase()+";"}function f(t,e){function n(e){return t[e]}return function(t){return t.replace(e,n).replace(u,p).replace(c,h)}}var d=l(i);function g(t){return t.replace(d,h).replace(u,p).replace(c,h)}e.escape=g},7187:function(t){"use strict";var e,n="object"===typeof Reflect?Reflect:null,i=n&&"function"===typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};function r(t){console&&console.warn&&console.warn(t)}e=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!==t};function s(){s.init.call(this)}t.exports=s,t.exports.once=y,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function l(t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function u(t,e,n,i){var o,s,a;if(l(n),s=t._events,void 0===s?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),a=s[e]),void 0===a)a=s[e]=n,++t._eventsCount;else if("function"===typeof a?a=s[e]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),o=c(t),o>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,r(u)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=h.bind(i);return r.listener=n,i.wrapFn=r,r}function f(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"===typeof r?n?[r.listener||r]:[r]:n?m(r):g(r,r.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function v(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function m(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function y(t,e){return new Promise((function(n,i){function r(n){t.removeListener(e,o),i(n)}function o(){"function"===typeof t.removeListener&&t.removeListener("error",r),n([].slice.call(arguments))}w(t,e,o,{once:!0}),"error"!==e&&b(t,r,{once:!0})}))}function b(t,e,n){"function"===typeof t.on&&w(t,"error",e,n)}function w(t,e,n,i){if("function"===typeof t.on)i.once?t.once(e,n):t.on(e,n);else{if("function"!==typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function r(o){i.once&&t.removeEventListener(e,r),n(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!==typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[t];if(void 0===l)return!1;if("function"===typeof l)i(l,this,e);else{var c=l.length,u=g(l,c);for(n=0;n<c;++n)i(u[n],this,e)}return!0},s.prototype.addListener=function(t,e){return u(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return u(this,t,e,!0)},s.prototype.once=function(t,e){return l(e),this.on(t,p(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,p(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,i,r,o,s;if(l(e),i=this._events,void 0===i)return this;if(n=i[t],void 0===n)return this;if(n===e||n.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!==typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():v(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,s||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,i;if(n=this._events,void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)r=o[i],"removeListener"!==r&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=n[t],"function"===typeof e)this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},s.prototype.listeners=function(t){return f(this,t,!0)},s.prototype.rawListeners=function(t){return f(this,t,!1)},s.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},3466:function(t,e,n){var i=n(5826),r=Object.prototype.toString,o="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===r.call(Blob),s="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===r.call(File);function a(t){if(!t||"object"!==typeof t)return!1;if(i(t)){for(var e=0,n=t.length;e<n;e++)if(a(t[e]))return!0;return!1}if("function"===typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||"function"===typeof ArrayBuffer&&t instanceof ArrayBuffer||o&&t instanceof Blob||s&&t instanceof File)return!0;if(t.toJSON&&"function"===typeof t.toJSON&&1===arguments.length)return a(t.toJSON(),!0);for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&a(t[r]))return!0;return!1}t.exports=a},8058:function(t){try{t.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},5449:function(t,e,n){function i(t){this._cbs=t||{},this.events=[]}t.exports=i;var r=n(3719).EVENTS;Object.keys(r).forEach((function(t){if(0===r[t])t="on"+t,i.prototype[t]=function(){this.events.push([t]),this._cbs[t]&&this._cbs[t]()};else if(1===r[t])t="on"+t,i.prototype[t]=function(e){this.events.push([t,e]),this._cbs[t]&&this._cbs[t](e)};else{if(2!==r[t])throw Error("wrong number of arguments");t="on"+t,i.prototype[t]=function(e,n){this.events.push([t,e,n]),this._cbs[t]&&this._cbs[t](e,n)}}})),i.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},i.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var t=0,e=this.events.length;t<e;t++)if(this._cbs[this.events[t][0]]){var n=this.events[t].length;1===n?this._cbs[this.events[t][0]]():2===n?this._cbs[this.events[t][0]](this.events[t][1]):this._cbs[this.events[t][0]](this.events[t][1],this.events[t][2])}}},3870:function(t,e,n){var i=n(8753),r=n(2417);function o(t,e){this.init(t,e)}function s(t,e){return r.getElementsByTagName(t,e,!0)}function a(t,e){return r.getElementsByTagName(t,e,!0,1)[0]}function l(t,e,n){return r.getText(r.getElementsByTagName(t,e,n,1)).trim()}function c(t,e,n,i,r){var o=l(n,i,r);o&&(t[e]=o)}n(5717)(o,i),o.prototype.init=i;var u=function(t){return"rss"===t||"feed"===t||"rdf:RDF"===t};o.prototype.onend=function(){var t,e,n={},r=a(u,this.dom);r&&("feed"===r.name?(e=r.children,n.type="atom",c(n,"id","id",e),c(n,"title","title",e),(t=a("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),c(n,"description","subtitle",e),(t=l("updated",e))&&(n.updated=new Date(t)),c(n,"author","email",e,!0),n.items=s("entry",e).map((function(t){var e,n={};return t=t.children,c(n,"id","id",t),c(n,"title","title",t),(e=a("link",t))&&(e=e.attribs)&&(e=e.href)&&(n.link=e),(e=l("summary",t)||l("content",t))&&(n.description=e),(e=l("updated",t))&&(n.pubDate=new Date(e)),n}))):(e=a("channel",r.children).children,n.type=r.name.substr(0,3),n.id="",c(n,"title","title",e),c(n,"link","link",e),c(n,"description","description",e),(t=l("lastBuildDate",e))&&(n.updated=new Date(t)),c(n,"author","managingEditor",e,!0),n.items=s("item",r.children).map((function(t){var e,n={};return t=t.children,c(n,"id","guid",t),c(n,"title","title",t),c(n,"link","link",t),c(n,"description","description",t),(e=l("pubDate",t))&&(n.pubDate=new Date(e)),n})))),this.dom=n,i.prototype._handleCallback.call(this,r?null:Error("couldn't find root of feed"))},t.exports=o},763:function(t,e,n){var i=n(9889),r={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},o={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:r,input:r,output:r,button:r,datalist:r,textarea:r,option:{option:!0},optgroup:{optgroup:!0}},s={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},a={__proto__:null,math:!0,svg:!0},l={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},c=/\s|\//;function u(t,e){this._options=e||{},this._cbs=t||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(i=this._options.Tokenizer),this._tokenizer=new i(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}n(5717)(u,n(7187).EventEmitter),u.prototype._updatePosition=function(t){null===this.endIndex?this._tokenizer._sectionStart<=t?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-t:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},u.prototype.ontext=function(t){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(t)},u.prototype.onopentagname=function(t){if(this._lowerCaseTagNames&&(t=t.toLowerCase()),this._tagname=t,!this._options.xmlMode&&t in o)for(var e;(e=this._stack[this._stack.length-1])in o[t];this.onclosetag(e));!this._options.xmlMode&&t in s||(this._stack.push(t),t in a?this._foreignContext.push(!0):t in l&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(t),this._cbs.onopentag&&(this._attribs={})},u.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in s&&this._cbs.onclosetag(this._tagname),this._tagname=""},u.prototype.onclosetag=function(t){if(this._updatePosition(1),this._lowerCaseTagNames&&(t=t.toLowerCase()),(t in a||t in l)&&this._foreignContext.pop(),!this._stack.length||t in s&&!this._options.xmlMode)this._options.xmlMode||"br"!==t&&"p"!==t||(this.onopentagname(t),this._closeCurrentTag());else{var e=this._stack.lastIndexOf(t);if(-1!==e)if(this._cbs.onclosetag){e=this._stack.length-e;while(e--)this._cbs.onclosetag(this._stack.pop())}else this._stack.length=e;else"p"!==t||this._options.xmlMode||(this.onopentagname(t),this._closeCurrentTag())}},u.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},u.prototype._closeCurrentTag=function(){var t=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===t&&(this._cbs.onclosetag&&this._cbs.onclosetag(t),this._stack.pop())},u.prototype.onattribname=function(t){this._lowerCaseAttributeNames&&(t=t.toLowerCase()),this._attribname=t},u.prototype.onattribdata=function(t){this._attribvalue+=t},u.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},u.prototype._getInstructionName=function(t){var e=t.search(c),n=e<0?t:t.substr(0,e);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},u.prototype.ondeclaration=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("!"+e,"!"+t)}},u.prototype.onprocessinginstruction=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("?"+e,"?"+t)}},u.prototype.oncomment=function(t){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(t),this._cbs.oncommentend&&this._cbs.oncommentend()},u.prototype.oncdata=function(t){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(t),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+t+"]]")},u.prototype.onerror=function(t){this._cbs.onerror&&this._cbs.onerror(t)},u.prototype.onend=function(){if(this._cbs.onclosetag)for(var t=this._stack.length;t>0;this._cbs.onclosetag(this._stack[--t]));this._cbs.onend&&this._cbs.onend()},u.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},u.prototype.parseComplete=function(t){this.reset(),this.end(t)},u.prototype.write=function(t){this._tokenizer.write(t)},u.prototype.end=function(t){this._tokenizer.end(t)},u.prototype.pause=function(){this._tokenizer.pause()},u.prototype.resume=function(){this._tokenizer.resume()},u.prototype.parseChunk=u.prototype.write,u.prototype.done=u.prototype.end,t.exports=u},6321:function(t,e,n){function i(t){this._cbs=t||{}}t.exports=i;var r=n(3719).EVENTS;Object.keys(r).forEach((function(t){if(0===r[t])t="on"+t,i.prototype[t]=function(){this._cbs[t]&&this._cbs[t]()};else if(1===r[t])t="on"+t,i.prototype[t]=function(e){this._cbs[t]&&this._cbs[t](e)};else{if(2!==r[t])throw Error("wrong number of arguments");t="on"+t,i.prototype[t]=function(e,n){this._cbs[t]&&this._cbs[t](e,n)}}}))},9924:function(t,e,n){t.exports=r;var i=n(3621);function r(t){i.call(this,new o(this),t)}function o(t){this.scope=t}n(5717)(r,i),r.prototype.readable=!0;var s=n(3719).EVENTS;Object.keys(s).forEach((function(t){if(0===s[t])o.prototype["on"+t]=function(){this.scope.emit(t)};else if(1===s[t])o.prototype["on"+t]=function(e){this.scope.emit(t,e)};else{if(2!==s[t])throw Error("wrong number of arguments!");o.prototype["on"+t]=function(e,n){this.scope.emit(t,e,n)}}}))},9889:function(t,e,n){t.exports=vt;var i=n(26),r=n(9489),o=n(490),s=n(1344),a=0,l=a++,c=a++,u=a++,h=a++,p=a++,f=a++,d=a++,g=a++,v=a++,m=a++,y=a++,b=a++,w=a++,_=a++,x=a++,S=a++,T=a++,C=a++,E=a++,k=a++,O=a++,A=a++,P=a++,R=a++,I=a++,j=a++,L=a++,B=a++,F=a++,D=a++,N=a++,M=a++,$=a++,H=a++,z=a++,q=a++,U=a++,V=a++,W=a++,G=a++,Z=a++,X=a++,K=a++,J=a++,Y=a++,Q=a++,tt=a++,et=a++,nt=a++,it=a++,rt=a++,ot=a++,st=a++,at=a++,lt=a++,ct=0,ut=ct++,ht=ct++,pt=ct++;function ft(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function dt(t,e,n){var i=t.toLowerCase();return t===i?function(t){t===i?this._state=e:(this._state=n,this._index--)}:function(r){r===i||r===t?this._state=e:(this._state=n,this._index--)}}function gt(t,e){var n=t.toLowerCase();return function(i){i===n||i===t?this._state=e:(this._state=u,this._index--)}}function vt(t,e){this._state=l,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=l,this._special=ut,this._cbs=e,this._running=!0,this._ended=!1,this._xmlMode=!(!t||!t.xmlMode),this._decodeEntities=!(!t||!t.decodeEntities)}vt.prototype._stateText=function(t){"<"===t?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=c,this._sectionStart=this._index):this._decodeEntities&&this._special===ut&&"&"===t&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=l,this._state=rt,this._sectionStart=this._index)},vt.prototype._stateBeforeTagName=function(t){"/"===t?this._state=p:"<"===t?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===t||this._special!==ut||ft(t)?this._state=l:"!"===t?(this._state=x,this._sectionStart=this._index+1):"?"===t?(this._state=T,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==t&&"S"!==t?u:N,this._sectionStart=this._index)},vt.prototype._stateInTagName=function(t){("/"===t||">"===t||ft(t))&&(this._emitToken("onopentagname"),this._state=g,this._index--)},vt.prototype._stateBeforeCloseingTagName=function(t){ft(t)||(">"===t?this._state=l:this._special!==ut?"s"===t||"S"===t?this._state=M:(this._state=l,this._index--):(this._state=f,this._sectionStart=this._index))},vt.prototype._stateInCloseingTagName=function(t){(">"===t||ft(t))&&(this._emitToken("onclosetag"),this._state=d,this._index--)},vt.prototype._stateAfterCloseingTagName=function(t){">"===t&&(this._state=l,this._sectionStart=this._index+1)},vt.prototype._stateBeforeAttributeName=function(t){">"===t?(this._cbs.onopentagend(),this._state=l,this._sectionStart=this._index+1):"/"===t?this._state=h:ft(t)||(this._state=v,this._sectionStart=this._index)},vt.prototype._stateInSelfClosingTag=function(t){">"===t?(this._cbs.onselfclosingtag(),this._state=l,this._sectionStart=this._index+1):ft(t)||(this._state=g,this._index--)},vt.prototype._stateInAttributeName=function(t){("="===t||"/"===t||">"===t||ft(t))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=m,this._index--)},vt.prototype._stateAfterAttributeName=function(t){"="===t?this._state=y:"/"===t||">"===t?(this._cbs.onattribend(),this._state=g,this._index--):ft(t)||(this._cbs.onattribend(),this._state=v,this._sectionStart=this._index)},vt.prototype._stateBeforeAttributeValue=function(t){'"'===t?(this._state=b,this._sectionStart=this._index+1):"'"===t?(this._state=w,this._sectionStart=this._index+1):ft(t)||(this._state=_,this._sectionStart=this._index,this._index--)},vt.prototype._stateInAttributeValueDoubleQuotes=function(t){'"'===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=g):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=rt,this._sectionStart=this._index)},vt.prototype._stateInAttributeValueSingleQuotes=function(t){"'"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=g):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=rt,this._sectionStart=this._index)},vt.prototype._stateInAttributeValueNoQuotes=function(t){ft(t)||">"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=g,this._index--):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=rt,this._sectionStart=this._index)},vt.prototype._stateBeforeDeclaration=function(t){this._state="["===t?A:"-"===t?C:S},vt.prototype._stateInDeclaration=function(t){">"===t&&(this._cbs.ondeclaration(this._getSection()),this._state=l,this._sectionStart=this._index+1)},vt.prototype._stateInProcessingInstruction=function(t){">"===t&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=l,this._sectionStart=this._index+1)},vt.prototype._stateBeforeComment=function(t){"-"===t?(this._state=E,this._sectionStart=this._index+1):this._state=S},vt.prototype._stateInComment=function(t){"-"===t&&(this._state=k)},vt.prototype._stateAfterComment1=function(t){this._state="-"===t?O:E},vt.prototype._stateAfterComment2=function(t){">"===t?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"-"!==t&&(this._state=E)},vt.prototype._stateBeforeCdata1=dt("C",P,S),vt.prototype._stateBeforeCdata2=dt("D",R,S),vt.prototype._stateBeforeCdata3=dt("A",I,S),vt.prototype._stateBeforeCdata4=dt("T",j,S),vt.prototype._stateBeforeCdata5=dt("A",L,S),vt.prototype._stateBeforeCdata6=function(t){"["===t?(this._state=B,this._sectionStart=this._index+1):(this._state=S,this._index--)},vt.prototype._stateInCdata=function(t){"]"===t&&(this._state=F)},vt.prototype._stateAfterCdata1=function(t){this._state="]"===t?D:B},vt.prototype._stateAfterCdata2=function(t){">"===t?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"]"!==t&&(this._state=B)},vt.prototype._stateBeforeSpecial=function(t){"c"===t||"C"===t?this._state=$:"t"===t||"T"===t?this._state=K:(this._state=u,this._index--)},vt.prototype._stateBeforeSpecialEnd=function(t){this._special!==ht||"c"!==t&&"C"!==t?this._special!==pt||"t"!==t&&"T"!==t?this._state=l:this._state=tt:this._state=V},vt.prototype._stateBeforeScript1=gt("R",H),vt.prototype._stateBeforeScript2=gt("I",z),vt.prototype._stateBeforeScript3=gt("P",q),vt.prototype._stateBeforeScript4=gt("T",U),vt.prototype._stateBeforeScript5=function(t){("/"===t||">"===t||ft(t))&&(this._special=ht),this._state=u,this._index--},vt.prototype._stateAfterScript1=dt("R",W,l),vt.prototype._stateAfterScript2=dt("I",G,l),vt.prototype._stateAfterScript3=dt("P",Z,l),vt.prototype._stateAfterScript4=dt("T",X,l),vt.prototype._stateAfterScript5=function(t){">"===t||ft(t)?(this._special=ut,this._state=f,this._sectionStart=this._index-6,this._index--):this._state=l},vt.prototype._stateBeforeStyle1=gt("Y",J),vt.prototype._stateBeforeStyle2=gt("L",Y),vt.prototype._stateBeforeStyle3=gt("E",Q),vt.prototype._stateBeforeStyle4=function(t){("/"===t||">"===t||ft(t))&&(this._special=pt),this._state=u,this._index--},vt.prototype._stateAfterStyle1=dt("Y",et,l),vt.prototype._stateAfterStyle2=dt("L",nt,l),vt.prototype._stateAfterStyle3=dt("E",it,l),vt.prototype._stateAfterStyle4=function(t){">"===t||ft(t)?(this._special=ut,this._state=f,this._sectionStart=this._index-5,this._index--):this._state=l},vt.prototype._stateBeforeEntity=dt("#",ot,st),vt.prototype._stateBeforeNumericEntity=dt("X",lt,at),vt.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var t=this._buffer.substring(this._sectionStart+1,this._index),e=this._xmlMode?s:r;e.hasOwnProperty(t)&&(this._emitPartial(e[t]),this._sectionStart=this._index+1)}},vt.prototype._parseLegacyEntity=function(){var t=this._sectionStart+1,e=this._index-t;e>6&&(e=6);while(e>=2){var n=this._buffer.substr(t,e);if(o.hasOwnProperty(n))return this._emitPartial(o[n]),void(this._sectionStart+=e+1);e--}},vt.prototype._stateInNamedEntity=function(t){";"===t?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(t<"a"||t>"z")&&(t<"A"||t>"Z")&&(t<"0"||t>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==l?"="!==t&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},vt.prototype._decodeNumericEntity=function(t,e){var n=this._sectionStart+t;if(n!==this._index){var r=this._buffer.substring(n,this._index),o=parseInt(r,e);this._emitPartial(i(o)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},vt.prototype._stateInNumericEntity=function(t){";"===t?(this._decodeNumericEntity(2,10),this._sectionStart++):(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},vt.prototype._stateInHexEntity=function(t){";"===t?(this._decodeNumericEntity(3,16),this._sectionStart++):(t<"a"||t>"f")&&(t<"A"||t>"F")&&(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},vt.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===l?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},vt.prototype.write=function(t){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=t,this._parse()},vt.prototype._parse=function(){while(this._index<this._buffer.length&&this._running){var t=this._buffer.charAt(this._index);this._state===l?this._stateText(t):this._state===c?this._stateBeforeTagName(t):this._state===u?this._stateInTagName(t):this._state===p?this._stateBeforeCloseingTagName(t):this._state===f?this._stateInCloseingTagName(t):this._state===d?this._stateAfterCloseingTagName(t):this._state===h?this._stateInSelfClosingTag(t):this._state===g?this._stateBeforeAttributeName(t):this._state===v?this._stateInAttributeName(t):this._state===m?this._stateAfterAttributeName(t):this._state===y?this._stateBeforeAttributeValue(t):this._state===b?this._stateInAttributeValueDoubleQuotes(t):this._state===w?this._stateInAttributeValueSingleQuotes(t):this._state===_?this._stateInAttributeValueNoQuotes(t):this._state===x?this._stateBeforeDeclaration(t):this._state===S?this._stateInDeclaration(t):this._state===T?this._stateInProcessingInstruction(t):this._state===C?this._stateBeforeComment(t):this._state===E?this._stateInComment(t):this._state===k?this._stateAfterComment1(t):this._state===O?this._stateAfterComment2(t):this._state===A?this._stateBeforeCdata1(t):this._state===P?this._stateBeforeCdata2(t):this._state===R?this._stateBeforeCdata3(t):this._state===I?this._stateBeforeCdata4(t):this._state===j?this._stateBeforeCdata5(t):this._state===L?this._stateBeforeCdata6(t):this._state===B?this._stateInCdata(t):this._state===F?this._stateAfterCdata1(t):this._state===D?this._stateAfterCdata2(t):this._state===N?this._stateBeforeSpecial(t):this._state===M?this._stateBeforeSpecialEnd(t):this._state===$?this._stateBeforeScript1(t):this._state===H?this._stateBeforeScript2(t):this._state===z?this._stateBeforeScript3(t):this._state===q?this._stateBeforeScript4(t):this._state===U?this._stateBeforeScript5(t):this._state===V?this._stateAfterScript1(t):this._state===W?this._stateAfterScript2(t):this._state===G?this._stateAfterScript3(t):this._state===Z?this._stateAfterScript4(t):this._state===X?this._stateAfterScript5(t):this._state===K?this._stateBeforeStyle1(t):this._state===J?this._stateBeforeStyle2(t):this._state===Y?this._stateBeforeStyle3(t):this._state===Q?this._stateBeforeStyle4(t):this._state===tt?this._stateAfterStyle1(t):this._state===et?this._stateAfterStyle2(t):this._state===nt?this._stateAfterStyle3(t):this._state===it?this._stateAfterStyle4(t):this._state===rt?this._stateBeforeEntity(t):this._state===ot?this._stateBeforeNumericEntity(t):this._state===st?this._stateInNamedEntity(t):this._state===at?this._stateInNumericEntity(t):this._state===lt?this._stateInHexEntity(t):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},vt.prototype.pause=function(){this._running=!1},vt.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},vt.prototype.end=function(t){this._ended&&this._cbs.onerror(Error(".end() after done!")),t&&this.write(t),this._ended=!0,this._running&&this._finish()},vt.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},vt.prototype._handleTrailingData=function(){var t=this._buffer.substr(this._sectionStart);this._state===B||this._state===F||this._state===D?this._cbs.oncdata(t):this._state===E||this._state===k||this._state===O?this._cbs.oncomment(t):this._state!==st||this._xmlMode?this._state!==at||this._xmlMode?this._state!==lt||this._xmlMode?this._state!==u&&this._state!==g&&this._state!==y&&this._state!==m&&this._state!==v&&this._state!==w&&this._state!==b&&this._state!==_&&this._state!==f&&this._cbs.ontext(t):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},vt.prototype.reset=function(){vt.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},vt.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},vt.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},vt.prototype._emitToken=function(t){this._cbs[t](this._getSection()),this._sectionStart=-1},vt.prototype._emitPartial=function(t){this._baseState!==l?this._cbs.onattribdata(t):this._cbs.ontext(t)}},3621:function(t,e,n){t.exports=a;var i=n(763),r=n(247).Writable,o=n(2553).s,s=n(8764).Buffer;function a(t,e){var n=this._parser=new i(t,e),s=this._decoder=new o;r.call(this,{decodeStrings:!1}),this.once("finish",(function(){n.end(s.end())}))}n(5717)(a,r),a.prototype._write=function(t,e,n){t instanceof s&&(t=this._decoder.write(t)),this._parser.write(t),n()}},3719:function(t,e,n){var i=n(763),r=n(8753);function o(e,n){return delete t.exports[e],t.exports[e]=n,n}t.exports={Parser:i,Tokenizer:n(9889),ElementType:n(4431),DomHandler:r,get FeedHandler(){return o("FeedHandler",n(3870))},get Stream(){return o("Stream",n(9924))},get WritableStream(){return o("WritableStream",n(3621))},get ProxyHandler(){return o("ProxyHandler",n(6321))},get DomUtils(){return o("DomUtils",n(2417))},get CollectingHandler(){return o("CollectingHandler",n(5449))},DefaultHandler:r,get RssHandler(){return o("RssHandler",this.FeedHandler)},parseDOM:function(t,e){var n=new r(e);return new i(n,e).end(t),n.dom},parseFeed:function(e,n){var r=new t.exports.FeedHandler(n);return new i(r,n).end(e),r.dom},createDomStream:function(t,e,n){var o=new r(t,e,n);return new i(o,e)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},645:function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?r-1:0,p=n?-1:1,f=t[e+h];for(h+=p,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=256*o+t[e+h],h+=p,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=256*s+t[e+h],h+=p,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,i),o-=c}return(f?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var s,a,l,c=8*o-r-1,u=(1<<c)-1,h=u>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,d=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),e+=s+h>=1?p/l:p*Math.pow(2,1-h),e*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(e*l-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[n+f]=255&a,f+=d,a/=256,r-=8);for(s=s<<r|a,c+=r;c>0;t[n+f]=255&s,f+=d,s/=256,c-=8);t[n+f-d]|=128*g}},7355:function(t){var e=[].indexOf;t.exports=function(t,n){if(e)return t.indexOf(n);for(var i=0;i<t.length;++i)if(t[i]===n)return i;return-1}},5717:function(t){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},5826:function(t){var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},5089:function(t){var e=9007199254740991,n="[object Arguments]",i="[object Function]",r="[object GeneratorFunction]",o=/^(?:0|[1-9]\d*)$/;function s(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function a(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}var l=Object.prototype,c=l.hasOwnProperty,u=l.toString,h=l.propertyIsEnumerable,p=Math.max;function f(t,e){var n=C(t)||T(t)?a(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!c.call(t,o)||r&&("length"==o||b(o,i))||n.push(o);return n}function d(t,e,n){var i=t[e];c.call(t,e)&&S(i,n)&&(void 0!==n||e in t)||(t[e]=n)}function g(t){if(!P(t))return x(t);var e=_(t),n=[];for(var i in t)("constructor"!=i||!e&&c.call(t,i))&&n.push(i);return n}function v(t,e){return e=p(void 0===e?t.length-1:e,0),function(){var n=arguments,i=-1,r=p(n.length-e,0),o=Array(r);while(++i<r)o[i]=n[e+i];i=-1;var a=Array(e+1);while(++i<e)a[i]=n[i];return a[e]=o,s(t,this,a)}}function m(t,e,n,i){n||(n={});var r=-1,o=e.length;while(++r<o){var s=e[r],a=i?i(n[s],t[s],s,n,t):void 0;d(n,s,void 0===a?t[s]:a)}return n}function y(t){return v((function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;o=t.length>3&&"function"==typeof o?(r--,o):void 0,s&&w(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),e=Object(e);while(++i<r){var a=n[i];a&&t(e,a,i,o)}return e}))}function b(t,n){return n=null==n?e:n,!!n&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<n}function w(t,e,n){if(!P(n))return!1;var i=typeof e;return!!("number"==i?E(n)&&b(e,n.length):"string"==i&&e in n)&&S(n[e],t)}function _(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||l;return t===n}function x(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}function S(t,e){return t===e||t!==t&&e!==e}function T(t){return k(t)&&c.call(t,"callee")&&(!h.call(t,"callee")||u.call(t)==n)}var C=Array.isArray;function E(t){return null!=t&&A(t.length)&&!O(t)}function k(t){return R(t)&&E(t)}function O(t){var e=P(t)?u.call(t):"";return e==i||e==r}function A(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}function P(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function R(t){return!!t&&"object"==typeof t}var I=y((function(t,e){m(e,j(e),t)}));function j(t){return E(t)?f(t,!0):g(t)}t.exports=I},4067:function(t,e,n){var i="Expected a function",r="__lodash_placeholder__",o=1,s=2,a=4,l=8,c=16,u=32,h=64,p=128,f=256,d=512,g=1/0,v=9007199254740991,m=17976931348623157e292,y=NaN,b=[["ary",p],["bind",o],["bindKey",s],["curry",l],["curryRight",c],["flip",d],["partial",u],["partialRight",h],["rearg",f]],w="[object Function]",_="[object GeneratorFunction]",x="[object Symbol]",S=/[\\^$.*+?()[\]{}|]/g,T=/^\s+|\s+$/g,C=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,E=/\{\n\/\* \[wrapped with (.+)\] \*/,k=/,? & /,O=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,P=/^\[object .+?Constructor\]$/,R=/^0o[0-7]+$/i,I=/^(?:0|[1-9]\d*)$/,j=parseInt,L="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,B="object"==typeof self&&self&&self.Object===Object&&self,F=L||B||Function("return this")();function D(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function N(t,e){var n=-1,i=t?t.length:0;while(++n<i)if(!1===e(t[n],n,t))break;return t}function M(t,e){var n=t?t.length:0;return!!n&&H(t,e,0)>-1}function $(t,e,n,i){var r=t.length,o=n+(i?1:-1);while(i?o--:++o<r)if(e(t[o],o,t))return o;return-1}function H(t,e,n){if(e!==e)return $(t,z,n);var i=n-1,r=t.length;while(++i<r)if(t[i]===e)return i;return-1}function z(t){return t!==t}function q(t,e){var n=t.length,i=0;while(n--)t[n]===e&&i++;return i}function U(t,e){return null==t?void 0:t[e]}function V(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function W(t,e){var n=-1,i=t.length,o=0,s=[];while(++n<i){var a=t[n];a!==e&&a!==r||(t[n]=r,s[o++]=n)}return s}var G=Function.prototype,Z=Object.prototype,X=F["__core-js_shared__"],K=function(){var t=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),J=G.toString,Y=Z.hasOwnProperty,Q=Z.toString,tt=RegExp("^"+J.call(Y).replace(S,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=Object.create,nt=Math.max,it=Math.min,rt=function(){var t=bt(Object,"defineProperty"),e=bt.name;return e&&e.length>2?t:void 0}();function ot(t){return Pt(t)?et(t):{}}function st(t){if(!Pt(t)||St(t))return!1;var e=At(t)||V(t)?tt:P;return e.test(Et(t))}function at(t,e){return e=nt(void 0===e?t.length-1:e,0),function(){var n=arguments,i=-1,r=nt(n.length-e,0),o=Array(r);while(++i<r)o[i]=n[e+i];i=-1;var s=Array(e+1);while(++i<e)s[i]=n[i];return s[e]=o,D(t,this,s)}}function lt(t,e,n,i){var r=-1,o=t.length,s=n.length,a=-1,l=e.length,c=nt(o-s,0),u=Array(l+c),h=!i;while(++a<l)u[a]=e[a];while(++r<s)(h||r<o)&&(u[n[r]]=t[r]);while(c--)u[a++]=t[r++];return u}function ct(t,e,n,i){var r=-1,o=t.length,s=-1,a=n.length,l=-1,c=e.length,u=nt(o-a,0),h=Array(u+c),p=!i;while(++r<u)h[r]=t[r];var f=r;while(++l<c)h[f+l]=e[l];while(++s<a)(p||r<o)&&(h[f+n[s]]=t[r++]);return h}function ut(t,e){var n=-1,i=t.length;e||(e=Array(i));while(++n<i)e[n]=t[n];return e}function ht(t,e,n){var i=e&o,r=pt(t);function s(){var e=this&&this!==F&&this instanceof s?r:t;return e.apply(i?n:this,arguments)}return s}function pt(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=ot(t.prototype),i=t.apply(n,e);return Pt(i)?i:n}}function ft(t,e,n){var i=pt(t);function r(){var o=arguments.length,s=Array(o),a=o,l=yt(r);while(a--)s[a]=arguments[a];var c=o<3&&s[0]!==l&&s[o-1]!==l?[]:W(s,l);if(o-=c.length,o<n)return vt(t,e,dt,r.placeholder,void 0,s,c,void 0,void 0,n-o);var u=this&&this!==F&&this instanceof r?i:t;return D(u,this,s)}return r}function dt(t,e,n,i,r,a,u,h,f,g){var v=e&p,m=e&o,y=e&s,b=e&(l|c),w=e&d,_=y?void 0:pt(t);function x(){var o=arguments.length,s=Array(o),l=o;while(l--)s[l]=arguments[l];if(b)var c=yt(x),p=q(s,c);if(i&&(s=lt(s,i,r,b)),a&&(s=ct(s,a,u,b)),o-=p,b&&o<g){var d=W(s,c);return vt(t,e,dt,x.placeholder,n,s,d,h,f,g-o)}var S=m?n:this,T=y?S[t]:t;return o=s.length,h?s=Tt(s,h):w&&o>1&&s.reverse(),v&&f<o&&(s.length=f),this&&this!==F&&this instanceof x&&(T=_||pt(T)),T.apply(S,s)}return x}function gt(t,e,n,i){var r=e&o,s=pt(t);function a(){var e=-1,o=arguments.length,l=-1,c=i.length,u=Array(c+o),h=this&&this!==F&&this instanceof a?s:t;while(++l<c)u[l]=i[l];while(o--)u[l++]=arguments[++e];return D(h,r?n:this,u)}return a}function vt(t,e,n,i,r,c,p,f,d,g){var v=e&l,m=v?p:void 0,y=v?void 0:p,b=v?c:void 0,w=v?void 0:c;e|=v?u:h,e&=~(v?h:u),e&a||(e&=~(o|s));var _=n(t,e,r,b,m,w,y,f,d,g);return _.placeholder=i,Ct(_,t,e)}function mt(t,e,n,r,a,p,f,d){var g=e&s;if(!g&&"function"!=typeof t)throw new TypeError(i);var v=r?r.length:0;if(v||(e&=~(u|h),r=a=void 0),f=void 0===f?f:nt(Lt(f),0),d=void 0===d?d:Lt(d),v-=a?a.length:0,e&h){var m=r,y=a;r=a=void 0}var b=[t,e,n,r,a,m,y,p,f,d];if(t=b[0],e=b[1],n=b[2],r=b[3],a=b[4],d=b[9]=null==b[9]?g?0:t.length:nt(b[9]-v,0),!d&&e&(l|c)&&(e&=~(l|c)),e&&e!=o)w=e==l||e==c?ft(t,e,d):e!=u&&e!=(o|u)||a.length?dt.apply(void 0,b):gt(t,e,n,r);else var w=ht(t,e,n);return Ct(w,t,e)}function yt(t){var e=t;return e.placeholder}function bt(t,e){var n=U(t,e);return st(n)?n:void 0}function wt(t){var e=t.match(E);return e?e[1].split(k):[]}function _t(t,e){var n=e.length,i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(C,"{\n/* [wrapped with "+e+"] */\n")}function xt(t,e){return e=null==e?v:e,!!e&&("number"==typeof t||I.test(t))&&t>-1&&t%1==0&&t<e}function St(t){return!!K&&K in t}function Tt(t,e){var n=t.length,i=it(e.length,n),r=ut(t);while(i--){var o=e[i];t[i]=xt(o,n)?r[o]:void 0}return t}var Ct=rt?function(t,e,n){var i=e+"";return rt(t,"toString",{configurable:!0,enumerable:!1,value:Ft(_t(i,kt(wt(i),n)))})}:Dt;function Et(t){if(null!=t){try{return J.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function kt(t,e){return N(b,(function(n){var i="_."+n[0];e&n[1]&&!M(t,i)&&t.push(i)})),t.sort()}var Ot=at((function(t,e,n){var i=o;if(n.length){var r=W(n,yt(Ot));i|=u}return mt(t,i,e,n,r)}));function At(t){var e=Pt(t)?Q.call(t):"";return e==w||e==_}function Pt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Rt(t){return!!t&&"object"==typeof t}function It(t){return"symbol"==typeof t||Rt(t)&&Q.call(t)==x}function jt(t){if(!t)return 0===t?t:0;if(t=Bt(t),t===g||t===-g){var e=t<0?-1:1;return e*m}return t===t?t:0}function Lt(t){var e=jt(t),n=e%1;return e===e?n?e-n:e:0}function Bt(t){if("number"==typeof t)return t;if(It(t))return y;if(Pt(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Pt(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(T,"");var n=A.test(t);return n||R.test(t)?j(t.slice(2),n?2:8):O.test(t)?y:+t}function Ft(t){return function(){return t}}function Dt(t){return t}Ot.placeholder={},t.exports=Ot},5402:function(t){var e=9007199254740991,n="[object Arguments]",i="[object Function]",r="[object GeneratorFunction]",o=/^(?:0|[1-9]\d*)$/;function s(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function a(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}var l=Object.prototype,c=l.hasOwnProperty,u=l.toString,h=l.propertyIsEnumerable,p=Math.max;function f(t,e){var n=E(t)||C(t)?a(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!c.call(t,o)||r&&("length"==o||w(o,i))||n.push(o);return n}function d(t,e,n,i){return void 0===t||T(t,l[n])&&!c.call(i,n)?e:t}function g(t,e,n){var i=t[e];c.call(t,e)&&T(i,n)&&(void 0!==n||e in t)||(t[e]=n)}function v(t){if(!R(t))return S(t);var e=x(t),n=[];for(var i in t)("constructor"!=i||!e&&c.call(t,i))&&n.push(i);return n}function m(t,e){return e=p(void 0===e?t.length-1:e,0),function(){var n=arguments,i=-1,r=p(n.length-e,0),o=Array(r);while(++i<r)o[i]=n[e+i];i=-1;var a=Array(e+1);while(++i<e)a[i]=n[i];return a[e]=o,s(t,this,a)}}function y(t,e,n,i){n||(n={});var r=-1,o=e.length;while(++r<o){var s=e[r],a=i?i(n[s],t[s],s,n,t):void 0;g(n,s,void 0===a?t[s]:a)}return n}function b(t){return m((function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;o=t.length>3&&"function"==typeof o?(r--,o):void 0,s&&_(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),e=Object(e);while(++i<r){var a=n[i];a&&t(e,a,i,o)}return e}))}function w(t,n){return n=null==n?e:n,!!n&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<n}function _(t,e,n){if(!R(n))return!1;var i=typeof e;return!!("number"==i?k(n)&&w(e,n.length):"string"==i&&e in n)&&T(n[e],t)}function x(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||l;return t===n}function S(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}function T(t,e){return t===e||t!==t&&e!==e}function C(t){return O(t)&&c.call(t,"callee")&&(!h.call(t,"callee")||u.call(t)==n)}var E=Array.isArray;function k(t){return null!=t&&P(t.length)&&!A(t)}function O(t){return I(t)&&k(t)}function A(t){var e=R(t)?u.call(t):"";return e==i||e==r}function P(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}function R(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function I(t){return!!t&&"object"==typeof t}var j=b((function(t,e,n,i){y(e,B(e),t,i)})),L=m((function(t){return t.push(void 0,d),s(j,void 0,t)}));function B(t){return k(t)?f(t,!0):v(t)}t.exports=L},4474:function(t,e,n){t=n.nmd(t);var i=200,r="Expected a function",o="__lodash_hash_undefined__",s=1,a=2,l=1/0,c=9007199254740991,u="[object Arguments]",h="[object Array]",p="[object Boolean]",f="[object Date]",d="[object Error]",g="[object Function]",v="[object GeneratorFunction]",m="[object Map]",y="[object Number]",b="[object Object]",w="[object Promise]",_="[object RegExp]",x="[object Set]",S="[object String]",T="[object Symbol]",C="[object WeakMap]",E="[object ArrayBuffer]",k="[object DataView]",O="[object Float32Array]",A="[object Float64Array]",P="[object Int8Array]",R="[object Int16Array]",I="[object Int32Array]",j="[object Uint8Array]",L="[object Uint8ClampedArray]",B="[object Uint16Array]",F="[object Uint32Array]",D=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,N=/^\w*$/,M=/^\./,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H=/[\\^$.*+?()[\]{}|]/g,z=/\\(\\)?/g,q=/^\[object .+?Constructor\]$/,U=/^(?:0|[1-9]\d*)$/,V={};V[O]=V[A]=V[P]=V[R]=V[I]=V[j]=V[L]=V[B]=V[F]=!0,V[u]=V[h]=V[E]=V[p]=V[k]=V[f]=V[d]=V[g]=V[m]=V[y]=V[b]=V[_]=V[x]=V[S]=V[C]=!1;var W="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,G="object"==typeof self&&self&&self.Object===Object&&self,Z=W||G||Function("return this")(),X=e&&!e.nodeType&&e,K=X&&t&&!t.nodeType&&t,J=K&&K.exports===X,Y=J&&W.process,Q=function(){try{return Y&&Y.binding("util")}catch(t){}}(),tt=Q&&Q.isTypedArray;function et(t,e){var n=-1,i=t?t.length:0,r=0,o=[];while(++n<i){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}function nt(t,e){var n=-1,i=t?t.length:0;while(++n<i)if(e(t[n],n,t))return!0;return!1}function it(t){return function(e){return null==e?void 0:e[t]}}function rt(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}function ot(t){return function(e){return t(e)}}function st(t,e){return null==t?void 0:t[e]}function at(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function lt(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function ct(t,e){return function(n){return t(e(n))}}function ut(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var ht=Array.prototype,pt=Function.prototype,ft=Object.prototype,dt=Z["__core-js_shared__"],gt=function(){var t=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),vt=pt.toString,mt=ft.hasOwnProperty,yt=ft.toString,bt=RegExp("^"+vt.call(mt).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=Z.Symbol,_t=Z.Uint8Array,xt=ft.propertyIsEnumerable,St=ht.splice,Tt=ct(Object.keys,Object),Ct=$e(Z,"DataView"),Et=$e(Z,"Map"),kt=$e(Z,"Promise"),Ot=$e(Z,"Set"),At=$e(Z,"WeakMap"),Pt=$e(Object,"create"),Rt=Ye(Ct),It=Ye(Et),jt=Ye(kt),Lt=Ye(Ot),Bt=Ye(At),Ft=wt?wt.prototype:void 0,Dt=Ft?Ft.valueOf:void 0,Nt=Ft?Ft.toString:void 0;function Mt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function $t(){this.__data__=Pt?Pt(null):{}}function Ht(t){return this.has(t)&&delete this.__data__[t]}function zt(t){var e=this.__data__;if(Pt){var n=e[t];return n===o?void 0:n}return mt.call(e,t)?e[t]:void 0}function qt(t){var e=this.__data__;return Pt?void 0!==e[t]:mt.call(e,t)}function Ut(t,e){var n=this.__data__;return n[t]=Pt&&void 0===e?o:e,this}function Vt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Wt(){this.__data__=[]}function Gt(t){var e=this.__data__,n=fe(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():St.call(e,n,1),!0}function Zt(t){var e=this.__data__,n=fe(e,t);return n<0?void 0:e[n][1]}function Xt(t){return fe(this.__data__,t)>-1}function Kt(t,e){var n=this.__data__,i=fe(n,t);return i<0?n.push([t,e]):n[i][1]=e,this}function Jt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Yt(){this.__data__={hash:new Mt,map:new(Et||Vt),string:new Mt}}function Qt(t){return Ne(this,t)["delete"](t)}function te(t){return Ne(this,t).get(t)}function ee(t){return Ne(this,t).has(t)}function ne(t,e){return Ne(this,t).set(t,e),this}function ie(t){var e=-1,n=t?t.length:0;this.__data__=new Jt;while(++e<n)this.add(t[e])}function re(t){return this.__data__.set(t,o),this}function oe(t){return this.__data__.has(t)}function se(t){this.__data__=new Vt(t)}function ae(){this.__data__=new Vt}function le(t){return this.__data__["delete"](t)}function ce(t){return this.__data__.get(t)}function ue(t){return this.__data__.has(t)}function he(t,e){var n=this.__data__;if(n instanceof Vt){var r=n.__data__;if(!Et||r.length<i-1)return r.push([t,e]),this;n=this.__data__=new Jt(r)}return n.set(t,e),this}function pe(t,e){var n=rn(t)||nn(t)?rt(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!mt.call(t,o)||r&&("length"==o||qe(o,i))||n.push(o);return n}function fe(t,e){var n=t.length;while(n--)if(en(t[n][0],e))return n;return-1}Mt.prototype.clear=$t,Mt.prototype["delete"]=Ht,Mt.prototype.get=zt,Mt.prototype.has=qt,Mt.prototype.set=Ut,Vt.prototype.clear=Wt,Vt.prototype["delete"]=Gt,Vt.prototype.get=Zt,Vt.prototype.has=Xt,Vt.prototype.set=Kt,Jt.prototype.clear=Yt,Jt.prototype["delete"]=Qt,Jt.prototype.get=te,Jt.prototype.has=ee,Jt.prototype.set=ne,ie.prototype.add=ie.prototype.push=re,ie.prototype.has=oe,se.prototype.clear=ae,se.prototype["delete"]=le,se.prototype.get=ce,se.prototype.has=ue,se.prototype.set=he;var de=je(me);function ge(t,e){var n=[];return de(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}var ve=Le();function me(t,e){return t&&ve(t,e,vn)}function ye(t,e){e=Ue(e,t)?[e]:Ie(e);var n=0,i=e.length;while(null!=t&&n<i)t=t[Je(e[n++])];return n&&n==i?t:void 0}function be(t){return yt.call(t)}function we(t,e){return null!=t&&e in Object(t)}function _e(t,e,n,i,r){return t===e||(null==t||null==e||!cn(t)&&!un(e)?t!==t&&e!==e:xe(t,e,_e,n,i,r))}function xe(t,e,n,i,r,o){var s=rn(t),l=rn(e),c=h,p=h;s||(c=He(t),c=c==u?b:c),l||(p=He(e),p=p==u?b:p);var f=c==b&&!at(t),d=p==b&&!at(e),g=c==p;if(g&&!f)return o||(o=new se),s||pn(t)?Be(t,e,n,i,r,o):Fe(t,e,c,n,i,r,o);if(!(r&a)){var v=f&&mt.call(t,"__wrapped__"),m=d&&mt.call(e,"__wrapped__");if(v||m){var y=v?t.value():t,w=m?e.value():e;return o||(o=new se),n(y,w,i,r,o)}}return!!g&&(o||(o=new se),De(t,e,n,i,r,o))}function Se(t,e,n,i){var r=n.length,o=r,l=!i;if(null==t)return!o;t=Object(t);while(r--){var c=n[r];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}while(++r<o){c=n[r];var u=c[0],h=t[u],p=c[1];if(l&&c[2]){if(void 0===h&&!(u in t))return!1}else{var f=new se;if(i)var d=i(h,p,u,t,e,f);if(!(void 0===d?_e(p,h,i,s|a,f):d))return!1}}return!0}function Te(t){if(!cn(t)||We(t))return!1;var e=an(t)||at(t)?bt:q;return e.test(Ye(t))}function Ce(t){return un(t)&&ln(t.length)&&!!V[yt.call(t)]}function Ee(t){return"function"==typeof t?t:null==t?mn:"object"==typeof t?rn(t)?Ae(t[0],t[1]):Oe(t):yn(t)}function ke(t){if(!Ge(t))return Tt(t);var e=[];for(var n in Object(t))mt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Oe(t){var e=Me(t);return 1==e.length&&e[0][2]?Xe(e[0][0],e[0][1]):function(n){return n===t||Se(n,t,e)}}function Ae(t,e){return Ue(t)&&Ze(e)?Xe(Je(t),e):function(n){var i=dn(n,t);return void 0===i&&i===e?gn(n,t):_e(e,i,void 0,s|a)}}function Pe(t){return function(e){return ye(e,t)}}function Re(t){if("string"==typeof t)return t;if(hn(t))return Nt?Nt.call(t):"";var e=t+"";return"0"==e&&1/t==-l?"-0":e}function Ie(t){return rn(t)?t:Ke(t)}function je(t,e){return function(n,i){if(null==n)return n;if(!on(n))return t(n,i);var r=n.length,o=e?r:-1,s=Object(n);while(e?o--:++o<r)if(!1===i(s[o],o,s))break;return n}}function Le(t){return function(e,n,i){var r=-1,o=Object(e),s=i(e),a=s.length;while(a--){var l=s[t?a:++r];if(!1===n(o[l],l,o))break}return e}}function Be(t,e,n,i,r,o){var l=r&a,c=t.length,u=e.length;if(c!=u&&!(l&&u>c))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var p=-1,f=!0,d=r&s?new ie:void 0;o.set(t,e),o.set(e,t);while(++p<c){var g=t[p],v=e[p];if(i)var m=l?i(v,g,p,e,t,o):i(g,v,p,t,e,o);if(void 0!==m){if(m)continue;f=!1;break}if(d){if(!nt(e,(function(t,e){if(!d.has(e)&&(g===t||n(g,t,i,r,o)))return d.add(e)}))){f=!1;break}}else if(g!==v&&!n(g,v,i,r,o)){f=!1;break}}return o["delete"](t),o["delete"](e),f}function Fe(t,e,n,i,r,o,l){switch(n){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!i(new _t(t),new _t(e)));case p:case f:case y:return en(+t,+e);case d:return t.name==e.name&&t.message==e.message;case _:case S:return t==e+"";case m:var c=lt;case x:var u=o&a;if(c||(c=ut),t.size!=e.size&&!u)return!1;var h=l.get(t);if(h)return h==e;o|=s,l.set(t,e);var g=Be(c(t),c(e),i,r,o,l);return l["delete"](t),g;case T:if(Dt)return Dt.call(t)==Dt.call(e)}return!1}function De(t,e,n,i,r,o){var s=r&a,l=vn(t),c=l.length,u=vn(e),h=u.length;if(c!=h&&!s)return!1;var p=c;while(p--){var f=l[p];if(!(s?f in e:mt.call(e,f)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var g=!0;o.set(t,e),o.set(e,t);var v=s;while(++p<c){f=l[p];var m=t[f],y=e[f];if(i)var b=s?i(y,m,f,e,t,o):i(m,y,f,t,e,o);if(!(void 0===b?m===y||n(m,y,i,r,o):b)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var w=t.constructor,_=e.constructor;w==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(g=!1)}return o["delete"](t),o["delete"](e),g}function Ne(t,e){var n=t.__data__;return Ve(e)?n["string"==typeof e?"string":"hash"]:n.map}function Me(t){var e=vn(t),n=e.length;while(n--){var i=e[n],r=t[i];e[n]=[i,r,Ze(r)]}return e}function $e(t,e){var n=st(t,e);return Te(n)?n:void 0}var He=be;function ze(t,e,n){e=Ue(e,t)?[e]:Ie(e);var i,r=-1,o=e.length;while(++r<o){var s=Je(e[r]);if(!(i=null!=t&&n(t,s)))break;t=t[s]}if(i)return i;o=t?t.length:0;return!!o&&ln(o)&&qe(s,o)&&(rn(t)||nn(t))}function qe(t,e){return e=null==e?c:e,!!e&&("number"==typeof t||U.test(t))&&t>-1&&t%1==0&&t<e}function Ue(t,e){if(rn(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!hn(t))||(N.test(t)||!D.test(t)||null!=e&&t in Object(e))}function Ve(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function We(t){return!!gt&&gt in t}function Ge(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||ft;return t===n}function Ze(t){return t===t&&!cn(t)}function Xe(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(Ct&&He(new Ct(new ArrayBuffer(1)))!=k||Et&&He(new Et)!=m||kt&&He(kt.resolve())!=w||Ot&&He(new Ot)!=x||At&&He(new At)!=C)&&(He=function(t){var e=yt.call(t),n=e==b?t.constructor:void 0,i=n?Ye(n):void 0;if(i)switch(i){case Rt:return k;case It:return m;case jt:return w;case Lt:return x;case Bt:return C}return e});var Ke=tn((function(t){t=fn(t);var e=[];return M.test(t)&&e.push(""),t.replace($,(function(t,n,i,r){e.push(i?r.replace(z,"$1"):n||t)})),e}));function Je(t){if("string"==typeof t||hn(t))return t;var e=t+"";return"0"==e&&1/t==-l?"-0":e}function Ye(t){if(null!=t){try{return vt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Qe(t,e){var n=rn(t)?et:ge;return n(t,Ee(e,3))}function tn(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(tn.Cache||Jt),n}function en(t,e){return t===e||t!==t&&e!==e}function nn(t){return sn(t)&&mt.call(t,"callee")&&(!xt.call(t,"callee")||yt.call(t)==u)}tn.Cache=Jt;var rn=Array.isArray;function on(t){return null!=t&&ln(t.length)&&!an(t)}function sn(t){return un(t)&&on(t)}function an(t){var e=cn(t)?yt.call(t):"";return e==g||e==v}function ln(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function cn(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function un(t){return!!t&&"object"==typeof t}function hn(t){return"symbol"==typeof t||un(t)&&yt.call(t)==T}var pn=tt?ot(tt):Ce;function fn(t){return null==t?"":Re(t)}function dn(t,e,n){var i=null==t?void 0:ye(t,e);return void 0===i?n:i}function gn(t,e){return null!=t&&ze(t,e,we)}function vn(t){return on(t)?pe(t):ke(t)}function mn(t){return t}function yn(t){return Ue(t)?it(Je(t)):Pe(t)}t.exports=Qe},5800:function(t,e,n){var i=9007199254740991,r="[object Arguments]",o="[object Function]",s="[object GeneratorFunction]",a="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,c=a||l||Function("return this")();function u(t,e){var n=-1,i=e.length,r=t.length;while(++n<i)t[r+n]=e[n];return t}var h=Object.prototype,p=h.hasOwnProperty,f=h.toString,d=c.Symbol,g=h.propertyIsEnumerable,v=d?d.isConcatSpreadable:void 0;function m(t,e,n,i,r){var o=-1,s=t.length;n||(n=y),r||(r=[]);while(++o<s){var a=t[o];e>0&&n(a)?e>1?m(a,e-1,n,i,r):u(r,a):i||(r[r.length]=a)}return r}function y(t){return _(t)||w(t)||!!(v&&t&&t[v])}function b(t){var e=t?t.length:0;return e?m(t,1):[]}function w(t){return S(t)&&p.call(t,"callee")&&(!g.call(t,"callee")||f.call(t)==r)}var _=Array.isArray;function x(t){return null!=t&&C(t.length)&&!T(t)}function S(t){return k(t)&&x(t)}function T(t){var e=E(t)?f.call(t):"";return e==o||e==s}function C(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function E(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function k(t){return!!t&&"object"==typeof t}t.exports=b},3590:function(t){var e=9007199254740991,n="[object Arguments]",i="[object Function]",r="[object GeneratorFunction]",o=/^(?:0|[1-9]\d*)$/;function s(t,e){var n=-1,i=t?t.length:0;while(++n<i)if(!1===e(t[n],n,t))break;return t}function a(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}function l(t,e){return function(n){return t(e(n))}}var c=Object.prototype,u=c.hasOwnProperty,h=c.toString,p=c.propertyIsEnumerable,f=l(Object.keys,Object);function d(t,e){var n=C(t)||T(t)?a(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!u.call(t,o)||r&&("length"==o||_(o,i))||n.push(o);return n}var g=b(m),v=w();function m(t,e){return t&&v(t,e,I)}function y(t){if(!x(t))return f(t);var e=[];for(var n in Object(t))u.call(t,n)&&"constructor"!=n&&e.push(n);return e}function b(t,e){return function(n,i){if(null==n)return n;if(!E(n))return t(n,i);var r=n.length,o=e?r:-1,s=Object(n);while(e?o--:++o<r)if(!1===i(s[o],o,s))break;return n}}function w(t){return function(e,n,i){var r=-1,o=Object(e),s=i(e),a=s.length;while(a--){var l=s[t?a:++r];if(!1===n(o[l],l,o))break}return e}}function _(t,n){return n=null==n?e:n,!!n&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<n}function x(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||c;return t===n}function S(t,e){var n=C(t)?s:g;return n(t,"function"==typeof e?e:j)}function T(t){return k(t)&&u.call(t,"callee")&&(!p.call(t,"callee")||h.call(t)==n)}var C=Array.isArray;function E(t){return null!=t&&A(t.length)&&!O(t)}function k(t){return R(t)&&E(t)}function O(t){var e=P(t)?h.call(t):"";return e==i||e==r}function A(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}function P(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function R(t){return!!t&&"object"==typeof t}function I(t){return E(t)?d(t):y(t)}function j(t){return t}t.exports=S},820:function(t,e,n){t=n.nmd(t);var i=200,r="Expected a function",o="__lodash_hash_undefined__",s=1,a=2,l=1/0,c=9007199254740991,u="[object Arguments]",h="[object Array]",p="[object Boolean]",f="[object Date]",d="[object Error]",g="[object Function]",v="[object GeneratorFunction]",m="[object Map]",y="[object Number]",b="[object Object]",w="[object Promise]",_="[object RegExp]",x="[object Set]",S="[object String]",T="[object Symbol]",C="[object WeakMap]",E="[object ArrayBuffer]",k="[object DataView]",O="[object Float32Array]",A="[object Float64Array]",P="[object Int8Array]",R="[object Int16Array]",I="[object Int32Array]",j="[object Uint8Array]",L="[object Uint8ClampedArray]",B="[object Uint16Array]",F="[object Uint32Array]",D=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,N=/^\w*$/,M=/^\./,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H=/[\\^$.*+?()[\]{}|]/g,z=/\\(\\)?/g,q=/^\[object .+?Constructor\]$/,U=/^(?:0|[1-9]\d*)$/,V={};V[O]=V[A]=V[P]=V[R]=V[I]=V[j]=V[L]=V[B]=V[F]=!0,V[u]=V[h]=V[E]=V[p]=V[k]=V[f]=V[d]=V[g]=V[m]=V[y]=V[b]=V[_]=V[x]=V[S]=V[C]=!1;var W="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,G="object"==typeof self&&self&&self.Object===Object&&self,Z=W||G||Function("return this")(),X=e&&!e.nodeType&&e,K=X&&t&&!t.nodeType&&t,J=K&&K.exports===X,Y=J&&W.process,Q=function(){try{return Y&&Y.binding("util")}catch(t){}}(),tt=Q&&Q.isTypedArray;function et(t,e){var n=-1,i=t?t.length:0,r=Array(i);while(++n<i)r[n]=e(t[n],n,t);return r}function nt(t,e){var n=-1,i=t?t.length:0;while(++n<i)if(e(t[n],n,t))return!0;return!1}function it(t){return function(e){return null==e?void 0:e[t]}}function rt(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}function ot(t){return function(e){return t(e)}}function st(t,e){return null==t?void 0:t[e]}function at(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function lt(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function ct(t,e){return function(n){return t(e(n))}}function ut(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var ht=Array.prototype,pt=Function.prototype,ft=Object.prototype,dt=Z["__core-js_shared__"],gt=function(){var t=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),vt=pt.toString,mt=ft.hasOwnProperty,yt=ft.toString,bt=RegExp("^"+vt.call(mt).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=Z.Symbol,_t=Z.Uint8Array,xt=ft.propertyIsEnumerable,St=ht.splice,Tt=ct(Object.keys,Object),Ct=$e(Z,"DataView"),Et=$e(Z,"Map"),kt=$e(Z,"Promise"),Ot=$e(Z,"Set"),At=$e(Z,"WeakMap"),Pt=$e(Object,"create"),Rt=Ye(Ct),It=Ye(Et),jt=Ye(kt),Lt=Ye(Ot),Bt=Ye(At),Ft=wt?wt.prototype:void 0,Dt=Ft?Ft.valueOf:void 0,Nt=Ft?Ft.toString:void 0;function Mt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function $t(){this.__data__=Pt?Pt(null):{}}function Ht(t){return this.has(t)&&delete this.__data__[t]}function zt(t){var e=this.__data__;if(Pt){var n=e[t];return n===o?void 0:n}return mt.call(e,t)?e[t]:void 0}function qt(t){var e=this.__data__;return Pt?void 0!==e[t]:mt.call(e,t)}function Ut(t,e){var n=this.__data__;return n[t]=Pt&&void 0===e?o:e,this}function Vt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Wt(){this.__data__=[]}function Gt(t){var e=this.__data__,n=fe(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():St.call(e,n,1),!0}function Zt(t){var e=this.__data__,n=fe(e,t);return n<0?void 0:e[n][1]}function Xt(t){return fe(this.__data__,t)>-1}function Kt(t,e){var n=this.__data__,i=fe(n,t);return i<0?n.push([t,e]):n[i][1]=e,this}function Jt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Yt(){this.__data__={hash:new Mt,map:new(Et||Vt),string:new Mt}}function Qt(t){return Ne(this,t)["delete"](t)}function te(t){return Ne(this,t).get(t)}function ee(t){return Ne(this,t).has(t)}function ne(t,e){return Ne(this,t).set(t,e),this}function ie(t){var e=-1,n=t?t.length:0;this.__data__=new Jt;while(++e<n)this.add(t[e])}function re(t){return this.__data__.set(t,o),this}function oe(t){return this.__data__.has(t)}function se(t){this.__data__=new Vt(t)}function ae(){this.__data__=new Vt}function le(t){return this.__data__["delete"](t)}function ce(t){return this.__data__.get(t)}function ue(t){return this.__data__.has(t)}function he(t,e){var n=this.__data__;if(n instanceof Vt){var r=n.__data__;if(!Et||r.length<i-1)return r.push([t,e]),this;n=this.__data__=new Jt(r)}return n.set(t,e),this}function pe(t,e){var n=rn(t)||nn(t)?rt(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!mt.call(t,o)||r&&("length"==o||qe(o,i))||n.push(o);return n}function fe(t,e){var n=t.length;while(n--)if(en(t[n][0],e))return n;return-1}Mt.prototype.clear=$t,Mt.prototype["delete"]=Ht,Mt.prototype.get=zt,Mt.prototype.has=qt,Mt.prototype.set=Ut,Vt.prototype.clear=Wt,Vt.prototype["delete"]=Gt,Vt.prototype.get=Zt,Vt.prototype.has=Xt,Vt.prototype.set=Kt,Jt.prototype.clear=Yt,Jt.prototype["delete"]=Qt,Jt.prototype.get=te,Jt.prototype.has=ee,Jt.prototype.set=ne,ie.prototype.add=ie.prototype.push=re,ie.prototype.has=oe,se.prototype.clear=ae,se.prototype["delete"]=le,se.prototype.get=ce,se.prototype.has=ue,se.prototype.set=he;var de=je(ve),ge=Le();function ve(t,e){return t&&ge(t,e,vn)}function me(t,e){e=Ue(e,t)?[e]:Ie(e);var n=0,i=e.length;while(null!=t&&n<i)t=t[Je(e[n++])];return n&&n==i?t:void 0}function ye(t){return yt.call(t)}function be(t,e){return null!=t&&e in Object(t)}function we(t,e,n,i,r){return t===e||(null==t||null==e||!cn(t)&&!un(e)?t!==t&&e!==e:_e(t,e,we,n,i,r))}function _e(t,e,n,i,r,o){var s=rn(t),l=rn(e),c=h,p=h;s||(c=He(t),c=c==u?b:c),l||(p=He(e),p=p==u?b:p);var f=c==b&&!at(t),d=p==b&&!at(e),g=c==p;if(g&&!f)return o||(o=new se),s||pn(t)?Be(t,e,n,i,r,o):Fe(t,e,c,n,i,r,o);if(!(r&a)){var v=f&&mt.call(t,"__wrapped__"),m=d&&mt.call(e,"__wrapped__");if(v||m){var y=v?t.value():t,w=m?e.value():e;return o||(o=new se),n(y,w,i,r,o)}}return!!g&&(o||(o=new se),De(t,e,n,i,r,o))}function xe(t,e,n,i){var r=n.length,o=r,l=!i;if(null==t)return!o;t=Object(t);while(r--){var c=n[r];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}while(++r<o){c=n[r];var u=c[0],h=t[u],p=c[1];if(l&&c[2]){if(void 0===h&&!(u in t))return!1}else{var f=new se;if(i)var d=i(h,p,u,t,e,f);if(!(void 0===d?we(p,h,i,s|a,f):d))return!1}}return!0}function Se(t){if(!cn(t)||We(t))return!1;var e=an(t)||at(t)?bt:q;return e.test(Ye(t))}function Te(t){return un(t)&&ln(t.length)&&!!V[yt.call(t)]}function Ce(t){return"function"==typeof t?t:null==t?mn:"object"==typeof t?rn(t)?Ae(t[0],t[1]):Oe(t):yn(t)}function Ee(t){if(!Ge(t))return Tt(t);var e=[];for(var n in Object(t))mt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ke(t,e){var n=-1,i=on(t)?Array(t.length):[];return de(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Oe(t){var e=Me(t);return 1==e.length&&e[0][2]?Xe(e[0][0],e[0][1]):function(n){return n===t||xe(n,t,e)}}function Ae(t,e){return Ue(t)&&Ze(e)?Xe(Je(t),e):function(n){var i=dn(n,t);return void 0===i&&i===e?gn(n,t):we(e,i,void 0,s|a)}}function Pe(t){return function(e){return me(e,t)}}function Re(t){if("string"==typeof t)return t;if(hn(t))return Nt?Nt.call(t):"";var e=t+"";return"0"==e&&1/t==-l?"-0":e}function Ie(t){return rn(t)?t:Ke(t)}function je(t,e){return function(n,i){if(null==n)return n;if(!on(n))return t(n,i);var r=n.length,o=e?r:-1,s=Object(n);while(e?o--:++o<r)if(!1===i(s[o],o,s))break;return n}}function Le(t){return function(e,n,i){var r=-1,o=Object(e),s=i(e),a=s.length;while(a--){var l=s[t?a:++r];if(!1===n(o[l],l,o))break}return e}}function Be(t,e,n,i,r,o){var l=r&a,c=t.length,u=e.length;if(c!=u&&!(l&&u>c))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var p=-1,f=!0,d=r&s?new ie:void 0;o.set(t,e),o.set(e,t);while(++p<c){var g=t[p],v=e[p];if(i)var m=l?i(v,g,p,e,t,o):i(g,v,p,t,e,o);if(void 0!==m){if(m)continue;f=!1;break}if(d){if(!nt(e,(function(t,e){if(!d.has(e)&&(g===t||n(g,t,i,r,o)))return d.add(e)}))){f=!1;break}}else if(g!==v&&!n(g,v,i,r,o)){f=!1;break}}return o["delete"](t),o["delete"](e),f}function Fe(t,e,n,i,r,o,l){switch(n){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!i(new _t(t),new _t(e)));case p:case f:case y:return en(+t,+e);case d:return t.name==e.name&&t.message==e.message;case _:case S:return t==e+"";case m:var c=lt;case x:var u=o&a;if(c||(c=ut),t.size!=e.size&&!u)return!1;var h=l.get(t);if(h)return h==e;o|=s,l.set(t,e);var g=Be(c(t),c(e),i,r,o,l);return l["delete"](t),g;case T:if(Dt)return Dt.call(t)==Dt.call(e)}return!1}function De(t,e,n,i,r,o){var s=r&a,l=vn(t),c=l.length,u=vn(e),h=u.length;if(c!=h&&!s)return!1;var p=c;while(p--){var f=l[p];if(!(s?f in e:mt.call(e,f)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var g=!0;o.set(t,e),o.set(e,t);var v=s;while(++p<c){f=l[p];var m=t[f],y=e[f];if(i)var b=s?i(y,m,f,e,t,o):i(m,y,f,t,e,o);if(!(void 0===b?m===y||n(m,y,i,r,o):b)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var w=t.constructor,_=e.constructor;w==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(g=!1)}return o["delete"](t),o["delete"](e),g}function Ne(t,e){var n=t.__data__;return Ve(e)?n["string"==typeof e?"string":"hash"]:n.map}function Me(t){var e=vn(t),n=e.length;while(n--){var i=e[n],r=t[i];e[n]=[i,r,Ze(r)]}return e}function $e(t,e){var n=st(t,e);return Se(n)?n:void 0}var He=ye;function ze(t,e,n){e=Ue(e,t)?[e]:Ie(e);var i,r=-1,o=e.length;while(++r<o){var s=Je(e[r]);if(!(i=null!=t&&n(t,s)))break;t=t[s]}if(i)return i;o=t?t.length:0;return!!o&&ln(o)&&qe(s,o)&&(rn(t)||nn(t))}function qe(t,e){return e=null==e?c:e,!!e&&("number"==typeof t||U.test(t))&&t>-1&&t%1==0&&t<e}function Ue(t,e){if(rn(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!hn(t))||(N.test(t)||!D.test(t)||null!=e&&t in Object(e))}function Ve(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function We(t){return!!gt&&gt in t}function Ge(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||ft;return t===n}function Ze(t){return t===t&&!cn(t)}function Xe(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(Ct&&He(new Ct(new ArrayBuffer(1)))!=k||Et&&He(new Et)!=m||kt&&He(kt.resolve())!=w||Ot&&He(new Ot)!=x||At&&He(new At)!=C)&&(He=function(t){var e=yt.call(t),n=e==b?t.constructor:void 0,i=n?Ye(n):void 0;if(i)switch(i){case Rt:return k;case It:return m;case jt:return w;case Lt:return x;case Bt:return C}return e});var Ke=tn((function(t){t=fn(t);var e=[];return M.test(t)&&e.push(""),t.replace($,(function(t,n,i,r){e.push(i?r.replace(z,"$1"):n||t)})),e}));function Je(t){if("string"==typeof t||hn(t))return t;var e=t+"";return"0"==e&&1/t==-l?"-0":e}function Ye(t){if(null!=t){try{return vt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Qe(t,e){var n=rn(t)?et:ke;return n(t,Ce(e,3))}function tn(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(tn.Cache||Jt),n}function en(t,e){return t===e||t!==t&&e!==e}function nn(t){return sn(t)&&mt.call(t,"callee")&&(!xt.call(t,"callee")||yt.call(t)==u)}tn.Cache=Jt;var rn=Array.isArray;function on(t){return null!=t&&ln(t.length)&&!an(t)}function sn(t){return un(t)&&on(t)}function an(t){var e=cn(t)?yt.call(t):"";return e==g||e==v}function ln(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function cn(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function un(t){return!!t&&"object"==typeof t}function hn(t){return"symbol"==typeof t||un(t)&&yt.call(t)==T}var pn=tt?ot(tt):Te;function fn(t){return null==t?"":Re(t)}function dn(t,e,n){var i=null==t?void 0:me(t,e);return void 0===i?n:i}function gn(t,e){return null!=t&&ze(t,e,be)}function vn(t){return on(t)?pe(t):Ee(t)}function mn(t){return t}function yn(t){return Ue(t)?it(Je(t)):Pe(t)}t.exports=Qe},2378:function(t,e,n){t=n.nmd(t);var i=200,r="__lodash_hash_undefined__",o=800,s=16,a=9007199254740991,l="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",h="[object Boolean]",p="[object Date]",f="[object Error]",d="[object Function]",g="[object GeneratorFunction]",v="[object Map]",m="[object Number]",y="[object Null]",b="[object Object]",w="[object Proxy]",_="[object RegExp]",x="[object Set]",S="[object String]",T="[object Undefined]",C="[object WeakMap]",E="[object ArrayBuffer]",k="[object DataView]",O="[object Float32Array]",A="[object Float64Array]",P="[object Int8Array]",R="[object Int16Array]",I="[object Int32Array]",j="[object Uint8Array]",L="[object Uint8ClampedArray]",B="[object Uint16Array]",F="[object Uint32Array]",D=/[\\^$.*+?()[\]{}|]/g,N=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,$={};$[O]=$[A]=$[P]=$[R]=$[I]=$[j]=$[L]=$[B]=$[F]=!0,$[l]=$[c]=$[E]=$[h]=$[k]=$[p]=$[f]=$[d]=$[v]=$[m]=$[b]=$[_]=$[x]=$[S]=$[C]=!1;var H="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,z="object"==typeof self&&self&&self.Object===Object&&self,q=H||z||Function("return this")(),U=e&&!e.nodeType&&e,V=U&&t&&!t.nodeType&&t,W=V&&V.exports===U,G=W&&H.process,Z=function(){try{var t=V&&V.require&&V.require("util").types;return t||G&&G.binding&&G.binding("util")}catch(e){}}(),X=Z&&Z.isTypedArray;function K(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function J(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}function Y(t){return function(e){return t(e)}}function Q(t,e){return null==t?void 0:t[e]}function tt(t,e){return function(n){return t(e(n))}}var et=Array.prototype,nt=Function.prototype,it=Object.prototype,rt=q["__core-js_shared__"],ot=nt.toString,st=it.hasOwnProperty,at=function(){var t=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),lt=it.toString,ct=ot.call(Object),ut=RegExp("^"+ot.call(st).replace(D,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ht=W?q.Buffer:void 0,pt=q.Symbol,ft=q.Uint8Array,dt=ht?ht.allocUnsafe:void 0,gt=tt(Object.getPrototypeOf,Object),vt=Object.create,mt=it.propertyIsEnumerable,yt=et.splice,bt=pt?pt.toStringTag:void 0,wt=function(){try{var t=we(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),_t=ht?ht.isBuffer:void 0,xt=Math.max,St=Date.now,Tt=we(q,"Map"),Ct=we(Object,"create"),Et=function(){function t(){}return function(e){if(!qe(e))return{};if(vt)return vt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function kt(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Ot(){this.__data__=Ct?Ct(null):{},this.size=0}function At(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Pt(t){var e=this.__data__;if(Ct){var n=e[t];return n===r?void 0:n}return st.call(e,t)?e[t]:void 0}function Rt(t){var e=this.__data__;return Ct?void 0!==e[t]:st.call(e,t)}function It(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ct&&void 0===e?r:e,this}function jt(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Lt(){this.__data__=[],this.size=0}function Bt(t){var e=this.__data__,n=te(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():yt.call(e,n,1),--this.size,!0}function Ft(t){var e=this.__data__,n=te(e,t);return n<0?void 0:e[n][1]}function Dt(t){return te(this.__data__,t)>-1}function Nt(t,e){var n=this.__data__,i=te(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function Mt(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function $t(){this.size=0,this.__data__={hash:new kt,map:new(Tt||jt),string:new kt}}function Ht(t){var e=be(this,t)["delete"](t);return this.size-=e?1:0,e}function zt(t){return be(this,t).get(t)}function qt(t){return be(this,t).has(t)}function Ut(t,e){var n=be(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function Vt(t){var e=this.__data__=new jt(t);this.size=e.size}function Wt(){this.__data__=new jt,this.size=0}function Gt(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function Zt(t){return this.__data__.get(t)}function Xt(t){return this.__data__.has(t)}function Kt(t,e){var n=this.__data__;if(n instanceof jt){var r=n.__data__;if(!Tt||r.length<i-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Mt(r)}return n.set(t,e),this.size=n.size,this}function Jt(t,e){var n=De(t),i=!n&&Fe(t),r=!n&&!i&&$e(t),o=!n&&!i&&!r&&We(t),s=n||i||r||o,a=s?J(t.length,String):[],l=a.length;for(var c in t)!e&&!st.call(t,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Se(c,l))||a.push(c);return a}function Yt(t,e,n){(void 0!==n&&!Be(t[e],n)||void 0===n&&!(e in t))&&ee(t,e,n)}function Qt(t,e,n){var i=t[e];st.call(t,e)&&Be(i,n)&&(void 0!==n||e in t)||ee(t,e,n)}function te(t,e){var n=t.length;while(n--)if(Be(t[n][0],e))return n;return-1}function ee(t,e,n){"__proto__"==e&&wt?wt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}kt.prototype.clear=Ot,kt.prototype["delete"]=At,kt.prototype.get=Pt,kt.prototype.has=Rt,kt.prototype.set=It,jt.prototype.clear=Lt,jt.prototype["delete"]=Bt,jt.prototype.get=Ft,jt.prototype.has=Dt,jt.prototype.set=Nt,Mt.prototype.clear=$t,Mt.prototype["delete"]=Ht,Mt.prototype.get=zt,Mt.prototype.has=qt,Mt.prototype.set=Ut,Vt.prototype.clear=Wt,Vt.prototype["delete"]=Gt,Vt.prototype.get=Zt,Vt.prototype.has=Xt,Vt.prototype.set=Kt;var ne=ye();function ie(t){return null==t?void 0===t?T:y:bt&&bt in Object(t)?_e(t):Ae(t)}function re(t){return Ue(t)&&ie(t)==l}function oe(t){if(!qe(t)||Ee(t))return!1;var e=He(t)?ut:N;return e.test(Le(t))}function se(t){return Ue(t)&&ze(t.length)&&!!$[ie(t)]}function ae(t){if(!qe(t))return Oe(t);var e=ke(t),n=[];for(var i in t)("constructor"!=i||!e&&st.call(t,i))&&n.push(i);return n}function le(t,e,n,i,r){t!==e&&ne(e,(function(o,s){if(r||(r=new Vt),qe(o))ce(t,e,s,n,le,i,r);else{var a=i?i(Re(t,s),o,s+"",t,e,r):void 0;void 0===a&&(a=o),Yt(t,s,a)}}),Ze)}function ce(t,e,n,i,r,o,s){var a=Re(t,n),l=Re(e,n),c=s.get(l);if(c)Yt(t,n,c);else{var u=o?o(a,l,n+"",t,e,s):void 0,h=void 0===u;if(h){var p=De(l),f=!p&&$e(l),d=!p&&!f&&We(l);u=l,p||f||d?De(a)?u=a:Me(a)?u=ge(a):f?(h=!1,u=pe(l,!0)):d?(h=!1,u=de(l,!0)):u=[]:Ve(l)||Fe(l)?(u=a,Fe(a)?u=Ge(a):qe(a)&&!He(a)||(u=xe(l))):h=!1}h&&(s.set(l,u),r(u,l,i,o,s),s["delete"](l)),Yt(t,n,u)}}function ue(t,e){return Ie(Pe(t,e,Je),t+"")}var he=wt?function(t,e){return wt(t,"toString",{configurable:!0,enumerable:!1,value:Ke(e),writable:!0})}:Je;function pe(t,e){if(e)return t.slice();var n=t.length,i=dt?dt(n):new t.constructor(n);return t.copy(i),i}function fe(t){var e=new t.constructor(t.byteLength);return new ft(e).set(new ft(t)),e}function de(t,e){var n=e?fe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ge(t,e){var n=-1,i=t.length;e||(e=Array(i));while(++n<i)e[n]=t[n];return e}function ve(t,e,n,i){var r=!n;n||(n={});var o=-1,s=e.length;while(++o<s){var a=e[o],l=i?i(n[a],t[a],a,n,t):void 0;void 0===l&&(l=t[a]),r?ee(n,a,l):Qt(n,a,l)}return n}function me(t){return ue((function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;o=t.length>3&&"function"==typeof o?(r--,o):void 0,s&&Te(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),e=Object(e);while(++i<r){var a=n[i];a&&t(e,a,i,o)}return e}))}function ye(t){return function(e,n,i){var r=-1,o=Object(e),s=i(e),a=s.length;while(a--){var l=s[t?a:++r];if(!1===n(o[l],l,o))break}return e}}function be(t,e){var n=t.__data__;return Ce(e)?n["string"==typeof e?"string":"hash"]:n.map}function we(t,e){var n=Q(t,e);return oe(n)?n:void 0}function _e(t){var e=st.call(t,bt),n=t[bt];try{t[bt]=void 0;var i=!0}catch(o){}var r=lt.call(t);return i&&(e?t[bt]=n:delete t[bt]),r}function xe(t){return"function"!=typeof t.constructor||ke(t)?{}:Et(gt(t))}function Se(t,e){var n=typeof t;return e=null==e?a:e,!!e&&("number"==n||"symbol"!=n&&M.test(t))&&t>-1&&t%1==0&&t<e}function Te(t,e,n){if(!qe(n))return!1;var i=typeof e;return!!("number"==i?Ne(n)&&Se(e,n.length):"string"==i&&e in n)&&Be(n[e],t)}function Ce(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Ee(t){return!!at&&at in t}function ke(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||it;return t===n}function Oe(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}function Ae(t){return lt.call(t)}function Pe(t,e,n){return e=xt(void 0===e?t.length-1:e,0),function(){var i=arguments,r=-1,o=xt(i.length-e,0),s=Array(o);while(++r<o)s[r]=i[e+r];r=-1;var a=Array(e+1);while(++r<e)a[r]=i[r];return a[e]=n(s),K(t,this,a)}}function Re(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var Ie=je(he);function je(t){var e=0,n=0;return function(){var i=St(),r=s-(i-n);if(n=i,r>0){if(++e>=o)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Le(t){if(null!=t){try{return ot.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Be(t,e){return t===e||t!==t&&e!==e}var Fe=re(function(){return arguments}())?re:function(t){return Ue(t)&&st.call(t,"callee")&&!mt.call(t,"callee")},De=Array.isArray;function Ne(t){return null!=t&&ze(t.length)&&!He(t)}function Me(t){return Ue(t)&&Ne(t)}var $e=_t||Ye;function He(t){if(!qe(t))return!1;var e=ie(t);return e==d||e==g||e==u||e==w}function ze(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}function qe(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ue(t){return null!=t&&"object"==typeof t}function Ve(t){if(!Ue(t)||ie(t)!=b)return!1;var e=gt(t);if(null===e)return!0;var n=st.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ot.call(n)==ct}var We=X?Y(X):se;function Ge(t){return ve(t,Ze(t))}function Ze(t){return Ne(t)?Jt(t,!0):ae(t)}var Xe=me((function(t,e,n){le(t,e,n)}));function Ke(t){return function(){return t}}function Je(t){return t}function Ye(){return!1}t.exports=Xe},5030:function(t,e,n){var i=1/0,r=9007199254740991,o="[object Arguments]",s="[object Function]",a="[object GeneratorFunction]",l="[object Symbol]",c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,h=c||u||Function("return this")();function p(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function f(t,e){var n=-1,i=t?t.length:0,r=Array(i);while(++n<i)r[n]=e(t[n],n,t);return r}function d(t,e){var n=-1,i=e.length,r=t.length;while(++n<i)t[r+n]=e[n];return t}var g=Object.prototype,v=g.hasOwnProperty,m=g.toString,y=h.Symbol,b=g.propertyIsEnumerable,w=y?y.isConcatSpreadable:void 0,_=Math.max;function x(t,e,n,i,r){var o=-1,s=t.length;n||(n=E),r||(r=[]);while(++o<s){var a=t[o];e>0&&n(a)?e>1?x(a,e-1,n,i,r):d(r,a):i||(r[r.length]=a)}return r}function S(t,e){return t=Object(t),T(t,e,(function(e,n){return n in t}))}function T(t,e,n){var i=-1,r=e.length,o={};while(++i<r){var s=e[i],a=t[s];n(a,s)&&(o[s]=a)}return o}function C(t,e){return e=_(void 0===e?t.length-1:e,0),function(){var n=arguments,i=-1,r=_(n.length-e,0),o=Array(r);while(++i<r)o[i]=n[e+i];i=-1;var s=Array(e+1);while(++i<e)s[i]=n[i];return s[e]=o,p(t,this,s)}}function E(t){return A(t)||O(t)||!!(w&&t&&t[w])}function k(t){if("string"==typeof t||F(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}function O(t){return R(t)&&v.call(t,"callee")&&(!b.call(t,"callee")||m.call(t)==o)}var A=Array.isArray;function P(t){return null!=t&&j(t.length)&&!I(t)}function R(t){return B(t)&&P(t)}function I(t){var e=L(t)?m.call(t):"";return e==s||e==a}function j(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}function L(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function B(t){return!!t&&"object"==typeof t}function F(t){return"symbol"==typeof t||B(t)&&m.call(t)==l}var D=C((function(t,e){return null==t?{}:S(t,f(x(e,1),k))}));t.exports=D},4766:function(t,e,n){t=n.nmd(t);var i=200,r="Expected a function",o="__lodash_hash_undefined__",s=1,a=2,l=1/0,c=9007199254740991,u="[object Arguments]",h="[object Array]",p="[object Boolean]",f="[object Date]",d="[object Error]",g="[object Function]",v="[object GeneratorFunction]",m="[object Map]",y="[object Number]",b="[object Object]",w="[object Promise]",_="[object RegExp]",x="[object Set]",S="[object String]",T="[object Symbol]",C="[object WeakMap]",E="[object ArrayBuffer]",k="[object DataView]",O="[object Float32Array]",A="[object Float64Array]",P="[object Int8Array]",R="[object Int16Array]",I="[object Int32Array]",j="[object Uint8Array]",L="[object Uint8ClampedArray]",B="[object Uint16Array]",F="[object Uint32Array]",D=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,N=/^\w*$/,M=/^\./,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H=/[\\^$.*+?()[\]{}|]/g,z=/\\(\\)?/g,q=/^\[object .+?Constructor\]$/,U=/^(?:0|[1-9]\d*)$/,V={};V[O]=V[A]=V[P]=V[R]=V[I]=V[j]=V[L]=V[B]=V[F]=!0,V[u]=V[h]=V[E]=V[p]=V[k]=V[f]=V[d]=V[g]=V[m]=V[y]=V[b]=V[_]=V[x]=V[S]=V[C]=!1;var W="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,G="object"==typeof self&&self&&self.Object===Object&&self,Z=W||G||Function("return this")(),X=e&&!e.nodeType&&e,K=X&&t&&!t.nodeType&&t,J=K&&K.exports===X,Y=J&&W.process,Q=function(){try{return Y&&Y.binding("util")}catch(t){}}(),tt=Q&&Q.isTypedArray;function et(t,e,n,i){var r=-1,o=t?t.length:0;i&&o&&(n=t[++r]);while(++r<o)n=e(n,t[r],r,t);return n}function nt(t,e){var n=-1,i=t?t.length:0;while(++n<i)if(e(t[n],n,t))return!0;return!1}function it(t){return function(e){return null==e?void 0:e[t]}}function rt(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function ot(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}function st(t){return function(e){return t(e)}}function at(t,e){return null==t?void 0:t[e]}function lt(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function ct(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function ut(t,e){return function(n){return t(e(n))}}function ht(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var pt=Array.prototype,ft=Function.prototype,dt=Object.prototype,gt=Z["__core-js_shared__"],vt=function(){var t=/[^.]+$/.exec(gt&&gt.keys&&gt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),mt=ft.toString,yt=dt.hasOwnProperty,bt=dt.toString,wt=RegExp("^"+mt.call(yt).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_t=Z.Symbol,xt=Z.Uint8Array,St=dt.propertyIsEnumerable,Tt=pt.splice,Ct=ut(Object.keys,Object),Et=$e(Z,"DataView"),kt=$e(Z,"Map"),Ot=$e(Z,"Promise"),At=$e(Z,"Set"),Pt=$e(Z,"WeakMap"),Rt=$e(Object,"create"),It=Ye(Et),jt=Ye(kt),Lt=Ye(Ot),Bt=Ye(At),Ft=Ye(Pt),Dt=_t?_t.prototype:void 0,Nt=Dt?Dt.valueOf:void 0,Mt=Dt?Dt.toString:void 0;function $t(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Ht(){this.__data__=Rt?Rt(null):{}}function zt(t){return this.has(t)&&delete this.__data__[t]}function qt(t){var e=this.__data__;if(Rt){var n=e[t];return n===o?void 0:n}return yt.call(e,t)?e[t]:void 0}function Ut(t){var e=this.__data__;return Rt?void 0!==e[t]:yt.call(e,t)}function Vt(t,e){var n=this.__data__;return n[t]=Rt&&void 0===e?o:e,this}function Wt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Gt(){this.__data__=[]}function Zt(t){var e=this.__data__,n=de(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Tt.call(e,n,1),!0}function Xt(t){var e=this.__data__,n=de(e,t);return n<0?void 0:e[n][1]}function Kt(t){return de(this.__data__,t)>-1}function Jt(t,e){var n=this.__data__,i=de(n,t);return i<0?n.push([t,e]):n[i][1]=e,this}function Yt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Qt(){this.__data__={hash:new $t,map:new(kt||Wt),string:new $t}}function te(t){return Ne(this,t)["delete"](t)}function ee(t){return Ne(this,t).get(t)}function ne(t){return Ne(this,t).has(t)}function ie(t,e){return Ne(this,t).set(t,e),this}function re(t){var e=-1,n=t?t.length:0;this.__data__=new Yt;while(++e<n)this.add(t[e])}function oe(t){return this.__data__.set(t,o),this}function se(t){return this.__data__.has(t)}function ae(t){this.__data__=new Wt(t)}function le(){this.__data__=new Wt}function ce(t){return this.__data__["delete"](t)}function ue(t){return this.__data__.get(t)}function he(t){return this.__data__.has(t)}function pe(t,e){var n=this.__data__;if(n instanceof Wt){var r=n.__data__;if(!kt||r.length<i-1)return r.push([t,e]),this;n=this.__data__=new Yt(r)}return n.set(t,e),this}function fe(t,e){var n=rn(t)||nn(t)?ot(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!yt.call(t,o)||r&&("length"==o||qe(o,i))||n.push(o);return n}function de(t,e){var n=t.length;while(n--)if(en(t[n][0],e))return n;return-1}$t.prototype.clear=Ht,$t.prototype["delete"]=zt,$t.prototype.get=qt,$t.prototype.has=Ut,$t.prototype.set=Vt,Wt.prototype.clear=Gt,Wt.prototype["delete"]=Zt,Wt.prototype.get=Xt,Wt.prototype.has=Kt,Wt.prototype.set=Jt,Yt.prototype.clear=Qt,Yt.prototype["delete"]=te,Yt.prototype.get=ee,Yt.prototype.has=ne,Yt.prototype.set=ie,re.prototype.add=re.prototype.push=oe,re.prototype.has=se,ae.prototype.clear=le,ae.prototype["delete"]=ce,ae.prototype.get=ue,ae.prototype.has=he,ae.prototype.set=pe;var ge=je(me),ve=Le();function me(t,e){return t&&ve(t,e,vn)}function ye(t,e){e=Ue(e,t)?[e]:Ie(e);var n=0,i=e.length;while(null!=t&&n<i)t=t[Je(e[n++])];return n&&n==i?t:void 0}function be(t){return bt.call(t)}function we(t,e){return null!=t&&e in Object(t)}function _e(t,e,n,i,r){return t===e||(null==t||null==e||!cn(t)&&!un(e)?t!==t&&e!==e:xe(t,e,_e,n,i,r))}function xe(t,e,n,i,r,o){var s=rn(t),l=rn(e),c=h,p=h;s||(c=He(t),c=c==u?b:c),l||(p=He(e),p=p==u?b:p);var f=c==b&&!lt(t),d=p==b&&!lt(e),g=c==p;if(g&&!f)return o||(o=new ae),s||pn(t)?Be(t,e,n,i,r,o):Fe(t,e,c,n,i,r,o);if(!(r&a)){var v=f&&yt.call(t,"__wrapped__"),m=d&&yt.call(e,"__wrapped__");if(v||m){var y=v?t.value():t,w=m?e.value():e;return o||(o=new ae),n(y,w,i,r,o)}}return!!g&&(o||(o=new ae),De(t,e,n,i,r,o))}function Se(t,e,n,i){var r=n.length,o=r,l=!i;if(null==t)return!o;t=Object(t);while(r--){var c=n[r];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}while(++r<o){c=n[r];var u=c[0],h=t[u],p=c[1];if(l&&c[2]){if(void 0===h&&!(u in t))return!1}else{var f=new ae;if(i)var d=i(h,p,u,t,e,f);if(!(void 0===d?_e(p,h,i,s|a,f):d))return!1}}return!0}function Te(t){if(!cn(t)||We(t))return!1;var e=an(t)||lt(t)?wt:q;return e.test(Ye(t))}function Ce(t){return un(t)&&ln(t.length)&&!!V[bt.call(t)]}function Ee(t){return"function"==typeof t?t:null==t?mn:"object"==typeof t?rn(t)?Ae(t[0],t[1]):Oe(t):yn(t)}function ke(t){if(!Ge(t))return Ct(t);var e=[];for(var n in Object(t))yt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Oe(t){var e=Me(t);return 1==e.length&&e[0][2]?Xe(e[0][0],e[0][1]):function(n){return n===t||Se(n,t,e)}}function Ae(t,e){return Ue(t)&&Ze(e)?Xe(Je(t),e):function(n){var i=dn(n,t);return void 0===i&&i===e?gn(n,t):_e(e,i,void 0,s|a)}}function Pe(t){return function(e){return ye(e,t)}}function Re(t){if("string"==typeof t)return t;if(hn(t))return Mt?Mt.call(t):"";var e=t+"";return"0"==e&&1/t==-l?"-0":e}function Ie(t){return rn(t)?t:Ke(t)}function je(t,e){return function(n,i){if(null==n)return n;if(!on(n))return t(n,i);var r=n.length,o=e?r:-1,s=Object(n);while(e?o--:++o<r)if(!1===i(s[o],o,s))break;return n}}function Le(t){return function(e,n,i){var r=-1,o=Object(e),s=i(e),a=s.length;while(a--){var l=s[t?a:++r];if(!1===n(o[l],l,o))break}return e}}function Be(t,e,n,i,r,o){var l=r&a,c=t.length,u=e.length;if(c!=u&&!(l&&u>c))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var p=-1,f=!0,d=r&s?new re:void 0;o.set(t,e),o.set(e,t);while(++p<c){var g=t[p],v=e[p];if(i)var m=l?i(v,g,p,e,t,o):i(g,v,p,t,e,o);if(void 0!==m){if(m)continue;f=!1;break}if(d){if(!nt(e,(function(t,e){if(!d.has(e)&&(g===t||n(g,t,i,r,o)))return d.add(e)}))){f=!1;break}}else if(g!==v&&!n(g,v,i,r,o)){f=!1;break}}return o["delete"](t),o["delete"](e),f}function Fe(t,e,n,i,r,o,l){switch(n){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!i(new xt(t),new xt(e)));case p:case f:case y:return en(+t,+e);case d:return t.name==e.name&&t.message==e.message;case _:case S:return t==e+"";case m:var c=ct;case x:var u=o&a;if(c||(c=ht),t.size!=e.size&&!u)return!1;var h=l.get(t);if(h)return h==e;o|=s,l.set(t,e);var g=Be(c(t),c(e),i,r,o,l);return l["delete"](t),g;case T:if(Nt)return Nt.call(t)==Nt.call(e)}return!1}function De(t,e,n,i,r,o){var s=r&a,l=vn(t),c=l.length,u=vn(e),h=u.length;if(c!=h&&!s)return!1;var p=c;while(p--){var f=l[p];if(!(s?f in e:yt.call(e,f)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var g=!0;o.set(t,e),o.set(e,t);var v=s;while(++p<c){f=l[p];var m=t[f],y=e[f];if(i)var b=s?i(y,m,f,e,t,o):i(m,y,f,t,e,o);if(!(void 0===b?m===y||n(m,y,i,r,o):b)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var w=t.constructor,_=e.constructor;w==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(g=!1)}return o["delete"](t),o["delete"](e),g}function Ne(t,e){var n=t.__data__;return Ve(e)?n["string"==typeof e?"string":"hash"]:n.map}function Me(t){var e=vn(t),n=e.length;while(n--){var i=e[n],r=t[i];e[n]=[i,r,Ze(r)]}return e}function $e(t,e){var n=at(t,e);return Te(n)?n:void 0}var He=be;function ze(t,e,n){e=Ue(e,t)?[e]:Ie(e);var i,r=-1,o=e.length;while(++r<o){var s=Je(e[r]);if(!(i=null!=t&&n(t,s)))break;t=t[s]}if(i)return i;o=t?t.length:0;return!!o&&ln(o)&&qe(s,o)&&(rn(t)||nn(t))}function qe(t,e){return e=null==e?c:e,!!e&&("number"==typeof t||U.test(t))&&t>-1&&t%1==0&&t<e}function Ue(t,e){if(rn(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!hn(t))||(N.test(t)||!D.test(t)||null!=e&&t in Object(e))}function Ve(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function We(t){return!!vt&&vt in t}function Ge(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||dt;return t===n}function Ze(t){return t===t&&!cn(t)}function Xe(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(Et&&He(new Et(new ArrayBuffer(1)))!=k||kt&&He(new kt)!=m||Ot&&He(Ot.resolve())!=w||At&&He(new At)!=x||Pt&&He(new Pt)!=C)&&(He=function(t){var e=bt.call(t),n=e==b?t.constructor:void 0,i=n?Ye(n):void 0;if(i)switch(i){case It:return k;case jt:return m;case Lt:return w;case Bt:return x;case Ft:return C}return e});var Ke=tn((function(t){t=fn(t);var e=[];return M.test(t)&&e.push(""),t.replace($,(function(t,n,i,r){e.push(i?r.replace(z,"$1"):n||t)})),e}));function Je(t){if("string"==typeof t||hn(t))return t;var e=t+"";return"0"==e&&1/t==-l?"-0":e}function Ye(t){if(null!=t){try{return mt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Qe(t,e,n){var i=rn(t)?et:rt,r=arguments.length<3;return i(t,Ee(e,4),n,r,ge)}function tn(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(tn.Cache||Yt),n}function en(t,e){return t===e||t!==t&&e!==e}function nn(t){return sn(t)&&yt.call(t,"callee")&&(!St.call(t,"callee")||bt.call(t)==u)}tn.Cache=Yt;var rn=Array.isArray;function on(t){return null!=t&&ln(t.length)&&!an(t)}function sn(t){return un(t)&&on(t)}function an(t){var e=cn(t)?bt.call(t):"";return e==g||e==v}function ln(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function cn(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function un(t){return!!t&&"object"==typeof t}function hn(t){return"symbol"==typeof t||un(t)&&bt.call(t)==T}var pn=tt?st(tt):Ce;function fn(t){return null==t?"":Re(t)}function dn(t,e,n){var i=null==t?void 0:ye(t,e);return void 0===i?n:i}function gn(t,e){return null!=t&&ze(t,e,we)}function vn(t){return on(t)?fe(t):ke(t)}function mn(t){return t}function yn(t){return Ue(t)?it(Je(t)):Pe(t)}t.exports=Qe},6273:function(t,e,n){t=n.nmd(t);var i=200,r="Expected a function",o="__lodash_hash_undefined__",s=1,a=2,l=1/0,c=9007199254740991,u="[object Arguments]",h="[object Array]",p="[object Boolean]",f="[object Date]",d="[object Error]",g="[object Function]",v="[object GeneratorFunction]",m="[object Map]",y="[object Number]",b="[object Object]",w="[object Promise]",_="[object RegExp]",x="[object Set]",S="[object String]",T="[object Symbol]",C="[object WeakMap]",E="[object ArrayBuffer]",k="[object DataView]",O="[object Float32Array]",A="[object Float64Array]",P="[object Int8Array]",R="[object Int16Array]",I="[object Int32Array]",j="[object Uint8Array]",L="[object Uint8ClampedArray]",B="[object Uint16Array]",F="[object Uint32Array]",D=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,N=/^\w*$/,M=/^\./,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H=/[\\^$.*+?()[\]{}|]/g,z=/\\(\\)?/g,q=/^\[object .+?Constructor\]$/,U=/^(?:0|[1-9]\d*)$/,V={};V[O]=V[A]=V[P]=V[R]=V[I]=V[j]=V[L]=V[B]=V[F]=!0,V[u]=V[h]=V[E]=V[p]=V[k]=V[f]=V[d]=V[g]=V[m]=V[y]=V[b]=V[_]=V[x]=V[S]=V[C]=!1;var W="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,G="object"==typeof self&&self&&self.Object===Object&&self,Z=W||G||Function("return this")(),X=e&&!e.nodeType&&e,K=X&&t&&!t.nodeType&&t,J=K&&K.exports===X,Y=J&&W.process,Q=function(){try{return Y&&Y.binding("util")}catch(t){}}(),tt=Q&&Q.isTypedArray;function et(t,e){var n=-1,i=t?t.length:0,r=0,o=[];while(++n<i){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}function nt(t,e){var n=-1,i=t?t.length:0;while(++n<i)if(e(t[n],n,t))return!0;return!1}function it(t){return function(e){return null==e?void 0:e[t]}}function rt(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}function ot(t){return function(e){return t(e)}}function st(t,e){return null==t?void 0:t[e]}function at(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function lt(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function ct(t,e){return function(n){return t(e(n))}}function ut(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var ht=Array.prototype,pt=Function.prototype,ft=Object.prototype,dt=Z["__core-js_shared__"],gt=function(){var t=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),vt=pt.toString,mt=ft.hasOwnProperty,yt=ft.toString,bt=RegExp("^"+vt.call(mt).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=Z.Symbol,_t=Z.Uint8Array,xt=ft.propertyIsEnumerable,St=ht.splice,Tt=ct(Object.keys,Object),Ct=$e(Z,"DataView"),Et=$e(Z,"Map"),kt=$e(Z,"Promise"),Ot=$e(Z,"Set"),At=$e(Z,"WeakMap"),Pt=$e(Object,"create"),Rt=Ye(Ct),It=Ye(Et),jt=Ye(kt),Lt=Ye(Ot),Bt=Ye(At),Ft=wt?wt.prototype:void 0,Dt=Ft?Ft.valueOf:void 0,Nt=Ft?Ft.toString:void 0;function Mt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function $t(){this.__data__=Pt?Pt(null):{}}function Ht(t){return this.has(t)&&delete this.__data__[t]}function zt(t){var e=this.__data__;if(Pt){var n=e[t];return n===o?void 0:n}return mt.call(e,t)?e[t]:void 0}function qt(t){var e=this.__data__;return Pt?void 0!==e[t]:mt.call(e,t)}function Ut(t,e){var n=this.__data__;return n[t]=Pt&&void 0===e?o:e,this}function Vt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Wt(){this.__data__=[]}function Gt(t){var e=this.__data__,n=fe(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():St.call(e,n,1),!0}function Zt(t){var e=this.__data__,n=fe(e,t);return n<0?void 0:e[n][1]}function Xt(t){return fe(this.__data__,t)>-1}function Kt(t,e){var n=this.__data__,i=fe(n,t);return i<0?n.push([t,e]):n[i][1]=e,this}function Jt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Yt(){this.__data__={hash:new Mt,map:new(Et||Vt),string:new Mt}}function Qt(t){return Ne(this,t)["delete"](t)}function te(t){return Ne(this,t).get(t)}function ee(t){return Ne(this,t).has(t)}function ne(t,e){return Ne(this,t).set(t,e),this}function ie(t){var e=-1,n=t?t.length:0;this.__data__=new Jt;while(++e<n)this.add(t[e])}function re(t){return this.__data__.set(t,o),this}function oe(t){return this.__data__.has(t)}function se(t){this.__data__=new Vt(t)}function ae(){this.__data__=new Vt}function le(t){return this.__data__["delete"](t)}function ce(t){return this.__data__.get(t)}function ue(t){return this.__data__.has(t)}function he(t,e){var n=this.__data__;if(n instanceof Vt){var r=n.__data__;if(!Et||r.length<i-1)return r.push([t,e]),this;n=this.__data__=new Jt(r)}return n.set(t,e),this}function pe(t,e){var n=on(t)||rn(t)?rt(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!mt.call(t,o)||r&&("length"==o||qe(o,i))||n.push(o);return n}function fe(t,e){var n=t.length;while(n--)if(nn(t[n][0],e))return n;return-1}Mt.prototype.clear=$t,Mt.prototype["delete"]=Ht,Mt.prototype.get=zt,Mt.prototype.has=qt,Mt.prototype.set=Ut,Vt.prototype.clear=Wt,Vt.prototype["delete"]=Gt,Vt.prototype.get=Zt,Vt.prototype.has=Xt,Vt.prototype.set=Kt,Jt.prototype.clear=Yt,Jt.prototype["delete"]=Qt,Jt.prototype.get=te,Jt.prototype.has=ee,Jt.prototype.set=ne,ie.prototype.add=ie.prototype.push=re,ie.prototype.has=oe,se.prototype.clear=ae,se.prototype["delete"]=le,se.prototype.get=ce,se.prototype.has=ue,se.prototype.set=he;var de=je(me);function ge(t,e){var n=[];return de(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}var ve=Le();function me(t,e){return t&&ve(t,e,mn)}function ye(t,e){e=Ue(e,t)?[e]:Ie(e);var n=0,i=e.length;while(null!=t&&n<i)t=t[Je(e[n++])];return n&&n==i?t:void 0}function be(t){return yt.call(t)}function we(t,e){return null!=t&&e in Object(t)}function _e(t,e,n,i,r){return t===e||(null==t||null==e||!un(t)&&!hn(e)?t!==t&&e!==e:xe(t,e,_e,n,i,r))}function xe(t,e,n,i,r,o){var s=on(t),l=on(e),c=h,p=h;s||(c=He(t),c=c==u?b:c),l||(p=He(e),p=p==u?b:p);var f=c==b&&!at(t),d=p==b&&!at(e),g=c==p;if(g&&!f)return o||(o=new se),s||fn(t)?Be(t,e,n,i,r,o):Fe(t,e,c,n,i,r,o);if(!(r&a)){var v=f&&mt.call(t,"__wrapped__"),m=d&&mt.call(e,"__wrapped__");if(v||m){var y=v?t.value():t,w=m?e.value():e;return o||(o=new se),n(y,w,i,r,o)}}return!!g&&(o||(o=new se),De(t,e,n,i,r,o))}function Se(t,e,n,i){var r=n.length,o=r,l=!i;if(null==t)return!o;t=Object(t);while(r--){var c=n[r];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}while(++r<o){c=n[r];var u=c[0],h=t[u],p=c[1];if(l&&c[2]){if(void 0===h&&!(u in t))return!1}else{var f=new se;if(i)var d=i(h,p,u,t,e,f);if(!(void 0===d?_e(p,h,i,s|a,f):d))return!1}}return!0}function Te(t){if(!un(t)||We(t))return!1;var e=ln(t)||at(t)?bt:q;return e.test(Ye(t))}function Ce(t){return hn(t)&&cn(t.length)&&!!V[yt.call(t)]}function Ee(t){return"function"==typeof t?t:null==t?yn:"object"==typeof t?on(t)?Ae(t[0],t[1]):Oe(t):bn(t)}function ke(t){if(!Ge(t))return Tt(t);var e=[];for(var n in Object(t))mt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Oe(t){var e=Me(t);return 1==e.length&&e[0][2]?Xe(e[0][0],e[0][1]):function(n){return n===t||Se(n,t,e)}}function Ae(t,e){return Ue(t)&&Ze(e)?Xe(Je(t),e):function(n){var i=gn(n,t);return void 0===i&&i===e?vn(n,t):_e(e,i,void 0,s|a)}}function Pe(t){return function(e){return ye(e,t)}}function Re(t){if("string"==typeof t)return t;if(pn(t))return Nt?Nt.call(t):"";var e=t+"";return"0"==e&&1/t==-l?"-0":e}function Ie(t){return on(t)?t:Ke(t)}function je(t,e){return function(n,i){if(null==n)return n;if(!sn(n))return t(n,i);var r=n.length,o=e?r:-1,s=Object(n);while(e?o--:++o<r)if(!1===i(s[o],o,s))break;return n}}function Le(t){return function(e,n,i){var r=-1,o=Object(e),s=i(e),a=s.length;while(a--){var l=s[t?a:++r];if(!1===n(o[l],l,o))break}return e}}function Be(t,e,n,i,r,o){var l=r&a,c=t.length,u=e.length;if(c!=u&&!(l&&u>c))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var p=-1,f=!0,d=r&s?new ie:void 0;o.set(t,e),o.set(e,t);while(++p<c){var g=t[p],v=e[p];if(i)var m=l?i(v,g,p,e,t,o):i(g,v,p,t,e,o);if(void 0!==m){if(m)continue;f=!1;break}if(d){if(!nt(e,(function(t,e){if(!d.has(e)&&(g===t||n(g,t,i,r,o)))return d.add(e)}))){f=!1;break}}else if(g!==v&&!n(g,v,i,r,o)){f=!1;break}}return o["delete"](t),o["delete"](e),f}function Fe(t,e,n,i,r,o,l){switch(n){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!i(new _t(t),new _t(e)));case p:case f:case y:return nn(+t,+e);case d:return t.name==e.name&&t.message==e.message;case _:case S:return t==e+"";case m:var c=lt;case x:var u=o&a;if(c||(c=ut),t.size!=e.size&&!u)return!1;var h=l.get(t);if(h)return h==e;o|=s,l.set(t,e);var g=Be(c(t),c(e),i,r,o,l);return l["delete"](t),g;case T:if(Dt)return Dt.call(t)==Dt.call(e)}return!1}function De(t,e,n,i,r,o){var s=r&a,l=mn(t),c=l.length,u=mn(e),h=u.length;if(c!=h&&!s)return!1;var p=c;while(p--){var f=l[p];if(!(s?f in e:mt.call(e,f)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var g=!0;o.set(t,e),o.set(e,t);var v=s;while(++p<c){f=l[p];var m=t[f],y=e[f];if(i)var b=s?i(y,m,f,e,t,o):i(m,y,f,t,e,o);if(!(void 0===b?m===y||n(m,y,i,r,o):b)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var w=t.constructor,_=e.constructor;w==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(g=!1)}return o["delete"](t),o["delete"](e),g}function Ne(t,e){var n=t.__data__;return Ve(e)?n["string"==typeof e?"string":"hash"]:n.map}function Me(t){var e=mn(t),n=e.length;while(n--){var i=e[n],r=t[i];e[n]=[i,r,Ze(r)]}return e}function $e(t,e){var n=st(t,e);return Te(n)?n:void 0}var He=be;function ze(t,e,n){e=Ue(e,t)?[e]:Ie(e);var i,r=-1,o=e.length;while(++r<o){var s=Je(e[r]);if(!(i=null!=t&&n(t,s)))break;t=t[s]}if(i)return i;o=t?t.length:0;return!!o&&cn(o)&&qe(s,o)&&(on(t)||rn(t))}function qe(t,e){return e=null==e?c:e,!!e&&("number"==typeof t||U.test(t))&&t>-1&&t%1==0&&t<e}function Ue(t,e){if(on(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!pn(t))||(N.test(t)||!D.test(t)||null!=e&&t in Object(e))}function Ve(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function We(t){return!!gt&&gt in t}function Ge(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||ft;return t===n}function Ze(t){return t===t&&!un(t)}function Xe(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(Ct&&He(new Ct(new ArrayBuffer(1)))!=k||Et&&He(new Et)!=m||kt&&He(kt.resolve())!=w||Ot&&He(new Ot)!=x||At&&He(new At)!=C)&&(He=function(t){var e=yt.call(t),n=e==b?t.constructor:void 0,i=n?Ye(n):void 0;if(i)switch(i){case Rt:return k;case It:return m;case jt:return w;case Lt:return x;case Bt:return C}return e});var Ke=tn((function(t){t=dn(t);var e=[];return M.test(t)&&e.push(""),t.replace($,(function(t,n,i,r){e.push(i?r.replace(z,"$1"):n||t)})),e}));function Je(t){if("string"==typeof t||pn(t))return t;var e=t+"";return"0"==e&&1/t==-l?"-0":e}function Ye(t){if(null!=t){try{return vt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Qe(t,e){var n=on(t)?et:ge;return n(t,en(Ee(e,3)))}function tn(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(tn.Cache||Jt),n}function en(t){if("function"!=typeof t)throw new TypeError(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function nn(t,e){return t===e||t!==t&&e!==e}function rn(t){return an(t)&&mt.call(t,"callee")&&(!xt.call(t,"callee")||yt.call(t)==u)}tn.Cache=Jt;var on=Array.isArray;function sn(t){return null!=t&&cn(t.length)&&!ln(t)}function an(t){return hn(t)&&sn(t)}function ln(t){var e=un(t)?yt.call(t):"";return e==g||e==v}function cn(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function un(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function hn(t){return!!t&&"object"==typeof t}function pn(t){return"symbol"==typeof t||hn(t)&&yt.call(t)==T}var fn=tt?ot(tt):Ce;function dn(t){return null==t?"":Re(t)}function gn(t,e,n){var i=null==t?void 0:ye(t,e);return void 0===i?n:i}function vn(t,e){return null!=t&&ze(t,e,we)}function mn(t){return sn(t)?pe(t):ke(t)}function yn(t){return t}function bn(t){return Ue(t)?it(Je(t)):Pe(t)}t.exports=Qe},1054:function(t,e,n){t=n.nmd(t);var i=200,r="Expected a function",o="__lodash_hash_undefined__",s=1,a=2,l=1/0,c=9007199254740991,u="[object Arguments]",h="[object Array]",p="[object Boolean]",f="[object Date]",d="[object Error]",g="[object Function]",v="[object GeneratorFunction]",m="[object Map]",y="[object Number]",b="[object Object]",w="[object Promise]",_="[object RegExp]",x="[object Set]",S="[object String]",T="[object Symbol]",C="[object WeakMap]",E="[object ArrayBuffer]",k="[object DataView]",O="[object Float32Array]",A="[object Float64Array]",P="[object Int8Array]",R="[object Int16Array]",I="[object Int32Array]",j="[object Uint8Array]",L="[object Uint8ClampedArray]",B="[object Uint16Array]",F="[object Uint32Array]",D=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,N=/^\w*$/,M=/^\./,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H=/[\\^$.*+?()[\]{}|]/g,z=/\\(\\)?/g,q=/^\[object .+?Constructor\]$/,U=/^(?:0|[1-9]\d*)$/,V={};V[O]=V[A]=V[P]=V[R]=V[I]=V[j]=V[L]=V[B]=V[F]=!0,V[u]=V[h]=V[E]=V[p]=V[k]=V[f]=V[d]=V[g]=V[m]=V[y]=V[b]=V[_]=V[x]=V[S]=V[C]=!1;var W="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,G="object"==typeof self&&self&&self.Object===Object&&self,Z=W||G||Function("return this")(),X=e&&!e.nodeType&&e,K=X&&t&&!t.nodeType&&t,J=K&&K.exports===X,Y=J&&W.process,Q=function(){try{return Y&&Y.binding("util")}catch(t){}}(),tt=Q&&Q.isTypedArray;function et(t,e){var n=-1,i=t?t.length:0;while(++n<i)if(e(t[n],n,t))return!0;return!1}function nt(t){return function(e){return null==e?void 0:e[t]}}function it(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}function rt(t){return function(e){return t(e)}}function ot(t,e){return null==t?void 0:t[e]}function st(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function at(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function lt(t,e){return function(n){return t(e(n))}}function ct(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var ut=Array.prototype,ht=Function.prototype,pt=Object.prototype,ft=Z["__core-js_shared__"],dt=function(){var t=/[^.]+$/.exec(ft&&ft.keys&&ft.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),gt=ht.toString,vt=pt.hasOwnProperty,mt=pt.toString,yt=RegExp("^"+gt.call(vt).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bt=Z.Symbol,wt=Z.Uint8Array,_t=pt.propertyIsEnumerable,xt=ut.splice,St=lt(Object.keys,Object),Tt=Me(Z,"DataView"),Ct=Me(Z,"Map"),Et=Me(Z,"Promise"),kt=Me(Z,"Set"),Ot=Me(Z,"WeakMap"),At=Me(Object,"create"),Pt=Ye(Tt),Rt=Ye(Ct),It=Ye(Et),jt=Ye(kt),Lt=Ye(Ot),Bt=bt?bt.prototype:void 0,Ft=Bt?Bt.valueOf:void 0,Dt=Bt?Bt.toString:void 0;function Nt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Mt(){this.__data__=At?At(null):{}}function $t(t){return this.has(t)&&delete this.__data__[t]}function Ht(t){var e=this.__data__;if(At){var n=e[t];return n===o?void 0:n}return vt.call(e,t)?e[t]:void 0}function zt(t){var e=this.__data__;return At?void 0!==e[t]:vt.call(e,t)}function qt(t,e){var n=this.__data__;return n[t]=At&&void 0===e?o:e,this}function Ut(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Vt(){this.__data__=[]}function Wt(t){var e=this.__data__,n=pe(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():xt.call(e,n,1),!0}function Gt(t){var e=this.__data__,n=pe(e,t);return n<0?void 0:e[n][1]}function Zt(t){return pe(this.__data__,t)>-1}function Xt(t,e){var n=this.__data__,i=pe(n,t);return i<0?n.push([t,e]):n[i][1]=e,this}function Kt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Jt(){this.__data__={hash:new Nt,map:new(Ct||Ut),string:new Nt}}function Yt(t){return De(this,t)["delete"](t)}function Qt(t){return De(this,t).get(t)}function te(t){return De(this,t).has(t)}function ee(t,e){return De(this,t).set(t,e),this}function ne(t){var e=-1,n=t?t.length:0;this.__data__=new Kt;while(++e<n)this.add(t[e])}function ie(t){return this.__data__.set(t,o),this}function re(t){return this.__data__.has(t)}function oe(t){this.__data__=new Ut(t)}function se(){this.__data__=new Ut}function ae(t){return this.__data__["delete"](t)}function le(t){return this.__data__.get(t)}function ce(t){return this.__data__.has(t)}function ue(t,e){var n=this.__data__;if(n instanceof Ut){var r=n.__data__;if(!Ct||r.length<i-1)return r.push([t,e]),this;n=this.__data__=new Kt(r)}return n.set(t,e),this}function he(t,e){var n=rn(t)||nn(t)?it(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!vt.call(t,o)||r&&("length"==o||ze(o,i))||n.push(o);return n}function pe(t,e){var n=t.length;while(n--)if(en(t[n][0],e))return n;return-1}Nt.prototype.clear=Mt,Nt.prototype["delete"]=$t,Nt.prototype.get=Ht,Nt.prototype.has=zt,Nt.prototype.set=qt,Ut.prototype.clear=Vt,Ut.prototype["delete"]=Wt,Ut.prototype.get=Gt,Ut.prototype.has=Zt,Ut.prototype.set=Xt,Kt.prototype.clear=Jt,Kt.prototype["delete"]=Yt,Kt.prototype.get=Qt,Kt.prototype.has=te,Kt.prototype.set=ee,ne.prototype.add=ne.prototype.push=ie,ne.prototype.has=re,oe.prototype.clear=se,oe.prototype["delete"]=ae,oe.prototype.get=le,oe.prototype.has=ce,oe.prototype.set=ue;var fe=Ie(ge),de=je();function ge(t,e){return t&&de(t,e,vn)}function ve(t,e){e=Ue(e,t)?[e]:Re(e);var n=0,i=e.length;while(null!=t&&n<i)t=t[Je(e[n++])];return n&&n==i?t:void 0}function me(t){return mt.call(t)}function ye(t,e){return null!=t&&e in Object(t)}function be(t,e,n,i,r){return t===e||(null==t||null==e||!cn(t)&&!un(e)?t!==t&&e!==e:we(t,e,be,n,i,r))}function we(t,e,n,i,r,o){var s=rn(t),l=rn(e),c=h,p=h;s||(c=$e(t),c=c==u?b:c),l||(p=$e(e),p=p==u?b:p);var f=c==b&&!st(t),d=p==b&&!st(e),g=c==p;if(g&&!f)return o||(o=new oe),s||pn(t)?Le(t,e,n,i,r,o):Be(t,e,c,n,i,r,o);if(!(r&a)){var v=f&&vt.call(t,"__wrapped__"),m=d&&vt.call(e,"__wrapped__");if(v||m){var y=v?t.value():t,w=m?e.value():e;return o||(o=new oe),n(y,w,i,r,o)}}return!!g&&(o||(o=new oe),Fe(t,e,n,i,r,o))}function _e(t,e,n,i){var r=n.length,o=r,l=!i;if(null==t)return!o;t=Object(t);while(r--){var c=n[r];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}while(++r<o){c=n[r];var u=c[0],h=t[u],p=c[1];if(l&&c[2]){if(void 0===h&&!(u in t))return!1}else{var f=new oe;if(i)var d=i(h,p,u,t,e,f);if(!(void 0===d?be(p,h,i,s|a,f):d))return!1}}return!0}function xe(t){if(!cn(t)||We(t))return!1;var e=an(t)||st(t)?yt:q;return e.test(Ye(t))}function Se(t){return un(t)&&ln(t.length)&&!!V[mt.call(t)]}function Te(t){return"function"==typeof t?t:null==t?mn:"object"==typeof t?rn(t)?ke(t[0],t[1]):Ee(t):yn(t)}function Ce(t){if(!Ge(t))return St(t);var e=[];for(var n in Object(t))vt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ee(t){var e=Ne(t);return 1==e.length&&e[0][2]?Xe(e[0][0],e[0][1]):function(n){return n===t||_e(n,t,e)}}function ke(t,e){return Ue(t)&&Ze(e)?Xe(Je(t),e):function(n){var i=dn(n,t);return void 0===i&&i===e?gn(n,t):be(e,i,void 0,s|a)}}function Oe(t){return function(e){return ve(e,t)}}function Ae(t,e){var n;return fe(t,(function(t,i,r){return n=e(t,i,r),!n})),!!n}function Pe(t){if("string"==typeof t)return t;if(hn(t))return Dt?Dt.call(t):"";var e=t+"";return"0"==e&&1/t==-l?"-0":e}function Re(t){return rn(t)?t:Ke(t)}function Ie(t,e){return function(n,i){if(null==n)return n;if(!on(n))return t(n,i);var r=n.length,o=e?r:-1,s=Object(n);while(e?o--:++o<r)if(!1===i(s[o],o,s))break;return n}}function je(t){return function(e,n,i){var r=-1,o=Object(e),s=i(e),a=s.length;while(a--){var l=s[t?a:++r];if(!1===n(o[l],l,o))break}return e}}function Le(t,e,n,i,r,o){var l=r&a,c=t.length,u=e.length;if(c!=u&&!(l&&u>c))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var p=-1,f=!0,d=r&s?new ne:void 0;o.set(t,e),o.set(e,t);while(++p<c){var g=t[p],v=e[p];if(i)var m=l?i(v,g,p,e,t,o):i(g,v,p,t,e,o);if(void 0!==m){if(m)continue;f=!1;break}if(d){if(!et(e,(function(t,e){if(!d.has(e)&&(g===t||n(g,t,i,r,o)))return d.add(e)}))){f=!1;break}}else if(g!==v&&!n(g,v,i,r,o)){f=!1;break}}return o["delete"](t),o["delete"](e),f}function Be(t,e,n,i,r,o,l){switch(n){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!i(new wt(t),new wt(e)));case p:case f:case y:return en(+t,+e);case d:return t.name==e.name&&t.message==e.message;case _:case S:return t==e+"";case m:var c=at;case x:var u=o&a;if(c||(c=ct),t.size!=e.size&&!u)return!1;var h=l.get(t);if(h)return h==e;o|=s,l.set(t,e);var g=Le(c(t),c(e),i,r,o,l);return l["delete"](t),g;case T:if(Ft)return Ft.call(t)==Ft.call(e)}return!1}function Fe(t,e,n,i,r,o){var s=r&a,l=vn(t),c=l.length,u=vn(e),h=u.length;if(c!=h&&!s)return!1;var p=c;while(p--){var f=l[p];if(!(s?f in e:vt.call(e,f)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var g=!0;o.set(t,e),o.set(e,t);var v=s;while(++p<c){f=l[p];var m=t[f],y=e[f];if(i)var b=s?i(y,m,f,e,t,o):i(m,y,f,t,e,o);if(!(void 0===b?m===y||n(m,y,i,r,o):b)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var w=t.constructor,_=e.constructor;w==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(g=!1)}return o["delete"](t),o["delete"](e),g}function De(t,e){var n=t.__data__;return Ve(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ne(t){var e=vn(t),n=e.length;while(n--){var i=e[n],r=t[i];e[n]=[i,r,Ze(r)]}return e}function Me(t,e){var n=ot(t,e);return xe(n)?n:void 0}var $e=me;function He(t,e,n){e=Ue(e,t)?[e]:Re(e);var i,r=-1,o=e.length;while(++r<o){var s=Je(e[r]);if(!(i=null!=t&&n(t,s)))break;t=t[s]}if(i)return i;o=t?t.length:0;return!!o&&ln(o)&&ze(s,o)&&(rn(t)||nn(t))}function ze(t,e){return e=null==e?c:e,!!e&&("number"==typeof t||U.test(t))&&t>-1&&t%1==0&&t<e}function qe(t,e,n){if(!cn(n))return!1;var i=typeof e;return!!("number"==i?on(n)&&ze(e,n.length):"string"==i&&e in n)&&en(n[e],t)}function Ue(t,e){if(rn(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!hn(t))||(N.test(t)||!D.test(t)||null!=e&&t in Object(e))}function Ve(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function We(t){return!!dt&&dt in t}function Ge(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||pt;return t===n}function Ze(t){return t===t&&!cn(t)}function Xe(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(Tt&&$e(new Tt(new ArrayBuffer(1)))!=k||Ct&&$e(new Ct)!=m||Et&&$e(Et.resolve())!=w||kt&&$e(new kt)!=x||Ot&&$e(new Ot)!=C)&&($e=function(t){var e=mt.call(t),n=e==b?t.constructor:void 0,i=n?Ye(n):void 0;if(i)switch(i){case Pt:return k;case Rt:return m;case It:return w;case jt:return x;case Lt:return C}return e});var Ke=tn((function(t){t=fn(t);var e=[];return M.test(t)&&e.push(""),t.replace($,(function(t,n,i,r){e.push(i?r.replace(z,"$1"):n||t)})),e}));function Je(t){if("string"==typeof t||hn(t))return t;var e=t+"";return"0"==e&&1/t==-l?"-0":e}function Ye(t){if(null!=t){try{return gt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Qe(t,e,n){var i=rn(t)?et:Ae;return n&&qe(t,e,n)&&(e=void 0),i(t,Te(e,3))}function tn(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(tn.Cache||Kt),n}function en(t,e){return t===e||t!==t&&e!==e}function nn(t){return sn(t)&&vt.call(t,"callee")&&(!_t.call(t,"callee")||mt.call(t)==u)}tn.Cache=Kt;var rn=Array.isArray;function on(t){return null!=t&&ln(t.length)&&!an(t)}function sn(t){return un(t)&&on(t)}function an(t){var e=cn(t)?mt.call(t):"";return e==g||e==v}function ln(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function cn(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function un(t){return!!t&&"object"==typeof t}function hn(t){return"symbol"==typeof t||un(t)&&mt.call(t)==T}var pn=tt?rt(tt):Se;function fn(t){return null==t?"":Pe(t)}function dn(t,e,n){var i=null==t?void 0:ve(t,e);return void 0===i?n:i}function gn(t,e){return null!=t&&He(t,e,ye)}function vn(t){return on(t)?he(t):Ce(t)}function mn(t){return t}function yn(t){return Ue(t)?nt(Je(t)):Oe(t)}t.exports=Qe},7824:function(t){var e=1e3,n=60*e,i=60*n,r=24*i,o=365.25*r;function s(t){if(t=String(t),!(t.length>100)){var s=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(s){var a=parseFloat(s[1]),l=(s[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return a*o;case"days":case"day":case"d":return a*r;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function a(t){return t>=r?Math.round(t/r)+"d":t>=i?Math.round(t/i)+"h":t>=n?Math.round(t/n)+"m":t>=e?Math.round(t/e)+"s":t+"ms"}function l(t){return c(t,r,"day")||c(t,i,"hour")||c(t,n,"minute")||c(t,e,"second")||t+" ms"}function c(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return s(t);if("number"===n&&!1===isNaN(t))return e.long?l(t):a(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},7368:function(t,e,n){t.exports=s;var i=n(1073),r=i.trueFunc,o=i.falseFunc;function s(t){var e=t[0],n=t[1]-1;if(n<0&&e<=0)return o;if(-1===e)return function(t){return t<=n};if(0===e)return function(t){return t===n};if(1===e)return n<0?r:function(t){return t>=n};var i=n%e;return i<0&&(i+=e),e>1?function(t){return t>=n&&t%e===i}:(e*=-1,function(t){return t<=n&&t%e===i})}},4882:function(t,e,n){var i=n(1367),r=n(7368);t.exports=function(t){return r(i(t))},t.exports.parse=i,t.exports.compile=r},1367:function(t){t.exports=n;var e=/^([+\-]?\d*n)?\s*(?:([+\-]?)\s*(\d+))?$/;function n(t){if(t=t.trim().toLowerCase(),"even"===t)return[2,0];if("odd"===t)return[2,1];var n,i=t.match(e);if(!i)throw new SyntaxError("n-th rule couldn't be parsed ('"+t+"')");return i[1]?(n=parseInt(i[1],10),isNaN(n)&&(n="-"===i[1].charAt(0)?-1:1)):n=0,[n,i[3]?parseInt((i[2]||"")+i[3],10):0]}},9203:function(module,exports){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;//! openseadragon 2.4.2
//! Built on 2020-03-05
//! Git commit: v2.4.2-0-c450749
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function OpenSeadragon(t){return new OpenSeadragon.Viewer(t)}(function(t){t.version={versionStr:"2.4.2",major:parseInt("2",10),minor:parseInt("4",10),revision:parseInt("2",10)};var e={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},n=Object.prototype.toString,i=Object.prototype.hasOwnProperty;t.isFunction=function(e){return"function"===t.type(e)},t.isArray=Array.isArray||function(e){return"array"===t.type(e)},t.isWindow=function(t){return t&&"object"===typeof t&&"setInterval"in t},t.type=function(t){return null===t||void 0===t?String(t):e[n.call(t)]||"object"},t.isPlainObject=function(e){if(!e||"object"!==OpenSeadragon.type(e)||e.nodeType||t.isWindow(e))return!1;if(e.constructor&&!i.call(e,"constructor")&&!i.call(e.constructor.prototype,"isPrototypeOf"))return!1;var n;for(var r in e)n=r;return void 0===n||i.call(e,n)},t.isEmptyObject=function(t){for(var e in t)return!1;return!0},t.freezeObject=function(e){return Object.freeze?t.freezeObject=Object.freeze:t.freezeObject=function(t){return t},t.freezeObject(e)},t.supportsCanvas=function(){var e=document.createElement("canvas");return!(!t.isFunction(e.getContext)||!e.getContext("2d"))}(),t.isCanvasTainted=function(t){var e=!1;try{t.getContext("2d").getImageData(0,0,1,1)}catch(n){e=!0}return e},t.pixelDensityRatio=function(){if(t.supportsCanvas){var e=document.createElement("canvas").getContext("2d"),n=window.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return Math.max(n,1)/i}return 1}()})(OpenSeadragon),function($){$.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=arguments.length,l=!1,c=1;for("boolean"===typeof s&&(l=s,s=arguments[1]||{},c=2),"object"===typeof s||OpenSeadragon.isFunction(s)||(s={}),a===c&&(s=this,--c);c<a;c++)if(t=arguments[c],null!==t||void 0!==t)for(e in t)n=s[e],i=t[e],s!==i&&(l&&i&&(OpenSeadragon.isPlainObject(i)||(r=OpenSeadragon.isArray(i)))?(r?(r=!1,o=n&&OpenSeadragon.isArray(n)?n:[]):o=n&&OpenSeadragon.isPlainObject(n)?n:{},s[e]=OpenSeadragon.extend(l,o,i)):void 0!==i&&(s[e]=i));return s};var isIOSDevice=function(){if("object"!==typeof navigator)return!1;var t=navigator.userAgent;return"string"===typeof t&&(-1!==t.indexOf("iPhone")||-1!==t.indexOf("iPad")||-1!==t.indexOf("iPod"))};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(t,e){return function(){var n=arguments;return void 0===n&&(n=[]),e.apply(t,n)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(t){return"string"==typeof t&&(t=document.getElementById(t)),t},getElementPosition:function(t){var e,n,i=new $.Point;t=$.getElement(t),e="fixed"==$.getElementStyle(t).position,n=getOffsetParent(t,e);while(n)i.x+=t.offsetLeft,i.y+=t.offsetTop,e&&(i=i.plus($.getPageScroll())),t=n,e="fixed"==$.getElementStyle(t).position,n=getOffsetParent(t,e);return i},getElementOffset:function(t){t=$.getElement(t);var e,n,i=t&&t.ownerDocument,r={top:0,left:0};return i?(e=i.documentElement,"undefined"!==typeof t.getBoundingClientRect&&(r=t.getBoundingClientRect()),n=i==i.window?i:9===i.nodeType&&(i.defaultView||i.parentWindow),new $.Point(r.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0),r.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0))):new $.Point},getElementSize:function(t){return t=$.getElement(t),new $.Point(t.clientWidth,t.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(t){return t=$.getElement(t),t.currentStyle}:function(t){return t=$.getElement(t),window.getComputedStyle(t,"")},getCssPropertyWithVendorPrefix:function(t){var e={};return $.getCssPropertyWithVendorPrefix=function(t){if(void 0!==e[t])return e[t];var n=document.createElement("div").style,i=null;if(void 0!==n[t])i=t;else for(var r=["Webkit","Moz","MS","O","webkit","moz","ms","o"],o=$.capitalizeFirstLetter(t),s=0;s<r.length;s++){var a=r[s]+o;if(void 0!==n[a]){i=a;break}}return e[t]=i,i},$.getCssPropertyWithVendorPrefix(t)},capitalizeFirstLetter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},positiveModulo:function(t,e){var n=t%e;return n<0&&(n+=e),n},pointInElement:function(t,e){t=$.getElement(t);var n=$.getElementOffset(t),i=$.getElementSize(t);return e.x>=n.x&&e.x<n.x+i.x&&e.y<n.y+i.y&&e.y>=n.y},getEvent:function(t){return $.getEvent=t?function(t){return t}:function(){return window.event},$.getEvent(t)},getMousePosition:function(t){if("number"==typeof t.pageX)$.getMousePosition=function(t){var e=new $.Point;return t=$.getEvent(t),e.x=t.pageX,e.y=t.pageY,e};else{if("number"!=typeof t.clientX)throw new Error("Unknown event mouse position, no known technique.");$.getMousePosition=function(t){var e=new $.Point;return t=$.getEvent(t),e.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop,e}}return $.getMousePosition(t)},getPageScroll:function(){var t=document.documentElement||{},e=document.body||{};if("number"==typeof window.pageXOffset)$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(e.scrollLeft||e.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!t.scrollLeft&&!t.scrollTop)return new $.Point(0,0);$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return $.getPageScroll()},setPageScroll:function(t){if("undefined"!==typeof window.scrollTo)$.setPageScroll=function(t){window.scrollTo(t.x,t.y)};else{var e=$.getPageScroll();if(e.x===t.x&&e.y===t.y)return;document.body.scrollLeft=t.x,document.body.scrollTop=t.y;var n=$.getPageScroll();if(n.x!==e.x&&n.y!==e.y)return void($.setPageScroll=function(t){document.body.scrollLeft=t.x,document.body.scrollTop=t.y});if(document.documentElement.scrollLeft=t.x,document.documentElement.scrollTop=t.y,n=$.getPageScroll(),n.x!==e.x&&n.y!==e.y)return void($.setPageScroll=function(t){document.documentElement.scrollLeft=t.x,document.documentElement.scrollTop=t.y});$.setPageScroll=function(t){}}return $.setPageScroll(t)},getWindowSize:function(){var t=document.documentElement||{},e=document.body||{};if("number"==typeof window.innerWidth)$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(t.clientWidth||t.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!e.clientWidth&&!e.clientHeight)throw new Error("Unknown window size, no known technique.");$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)}}return $.getWindowSize()},makeCenteredNode:function(t){t=$.getElement(t);var e=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(e[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(e[1].style,{display:"table-row"}),$.extend(e[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),e[0].appendChild(e[1]),e[1].appendChild(e[2]),e[2].appendChild(t),e[0]},makeNeutralElement:function(t){var e=document.createElement(t),n=e.style;return n.background="transparent none",n.border="none",n.margin="0px",n.padding="0px",n.position="static",e},now:function(){return Date.now?$.now=Date.now:$.now=function(){return(new Date).getTime()},$.now()},makeTransparentImage:function(t){return $.makeTransparentImage=function(t){var e=$.makeNeutralElement("img");return e.src=t,e},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(t){var e=$.makeNeutralElement("img"),n=null;return n=$.makeNeutralElement("span"),n.style.display="inline-block",e.onload=function(){n.style.width=n.style.width||e.width+"px",n.style.height=n.style.height||e.height+"px",e.onload=null,e=null},e.src=t,n.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"', sizingMethod='scale')",n}),$.makeTransparentImage(t)},setElementOpacity:function(t,e,n){var i,r;t=$.getElement(t),n&&!$.Browser.alpha&&(e=Math.round(e)),$.Browser.opacity?t.style.opacity=e<1?e:"":e<1?(i=Math.round(100*e),r="alpha(opacity="+i+")",t.style.filter=r):t.style.filter=""},setElementTouchActionNone:function(t){t=$.getElement(t),"undefined"!==typeof t.style.touchAction?t.style.touchAction="none":"undefined"!==typeof t.style.msTouchAction&&(t.style.msTouchAction="none")},addClass:function(t,e){t=$.getElement(t),t.className?-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=" "+e):t.className=e},indexOf:function(t,e,n){return Array.prototype.indexOf?this.indexOf=function(t,e,n){return t.indexOf(e,n)}:this.indexOf=function(t,e,n){var i,r,o=n||0;if(!t)throw new TypeError;if(r=t.length,0===r||o>=r)return-1;for(o<0&&(o=r-Math.abs(o)),i=o;i<r;i++)if(t[i]===e)return i;return-1},this.indexOf(t,e,n)},removeClass:function(t,e){var n,i,r=[];for(t=$.getElement(t),n=t.className.split(/\s+/),i=0;i<n.length;i++)n[i]&&n[i]!==e&&r.push(n[i]);t.className=r.join(" ")},addEvent:function(){if(window.addEventListener)return function(t,e,n,i){t=$.getElement(t),t.addEventListener(e,n,i)};if(window.attachEvent)return function(t,e,n,i){t=$.getElement(t),t.attachEvent("on"+e,n)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(t,e,n,i){t=$.getElement(t),t.removeEventListener(e,n,i)};if(window.detachEvent)return function(t,e,n,i){t=$.getElement(t),t.detachEvent("on"+e,n)};throw new Error("No known event model.")}(),cancelEvent:function(t){t=$.getEvent(t),t.preventDefault?$.cancelEvent=function(t){t.preventDefault()}:$.cancelEvent=function(t){t=$.getEvent(t),t.cancel=!0,t.returnValue=!1},$.cancelEvent(t)},stopEvent:function(t){t=$.getEvent(t),t.stopPropagation?$.stopEvent=function(t){t.stopPropagation()}:$.stopEvent=function(t){t=$.getEvent(t),t.cancelBubble=!0},$.stopEvent(t)},createCallback:function(t,e){var n,i=[];for(n=2;n<arguments.length;n++)i.push(arguments[n]);return function(){var n,r=i.concat([]);for(n=0;n<arguments.length;n++)r.push(arguments[n]);return e.apply(t,r)}},getUrlParameter:function(t){var e=URLPARAMS[t];return e||null},getUrlProtocol:function(t){var e=t.match(/^([a-z]+:)\/\//i);return null===e?window.location.protocol:e[1].toLowerCase()},createAjaxRequest:function(t){var e;try{e=!!new ActiveXObject("Microsoft.XMLHTTP")}catch(n){e=!1}if(e)window.XMLHttpRequest?$.createAjaxRequest=function(t){return t?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");$.createAjaxRequest=function(){return new XMLHttpRequest}}return $.createAjaxRequest(t)},makeAjaxRequest:function(t,e,n){var i,r,o;$.isPlainObject(t)&&(e=t.success,n=t.error,i=t.withCredentials,r=t.headers,o=t.responseType||null,t=t.url);var s=$.getUrlProtocol(t),a=$.createAjaxRequest("file:"===s);if(!$.isFunction(e))throw new Error("makeAjaxRequest requires a success callback");a.onreadystatechange=function(){4==a.readyState&&(a.onreadystatechange=function(){},a.status>=200&&a.status<300||0===a.status&&"http:"!==s&&"https:"!==s?e(a):($.console.log("AJAX request returned %d: %s",a.status,t),$.isFunction(n)&&n(a)))};try{if(a.open("GET",t,!0),o&&(a.responseType=o),r)for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&a.setRequestHeader(l,r[l]);i&&(a.withCredentials=!0),a.send(null)}catch(p){var c=p.message,u=$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10;if(u&&"undefined"!=typeof p.number&&-2147024891==p.number&&(c+="\nSee http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain"),$.console.log("%s while making AJAX request: %s",p.name,c),a.onreadystatechange=function(){},window.XDomainRequest){var h=new window.XDomainRequest;if(h){h.onload=function(t){$.isFunction(e)&&e({responseText:h.responseText,status:200,statusText:"OK"})},h.onerror=function(t){$.isFunction(n)&&n({responseText:h.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{h.open("GET",t),h.send()}catch(f){$.isFunction(n)&&n(a,p)}}}else $.isFunction(n)&&n(a,p)}return a},jsonp:function(t){var e,n=t.url,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement,r=t.callbackName||"openseadragon"+$.now(),o=window[r],s="$1"+r+"$2",a=t.param||"callback",l=t.callback;n=n.replace(/(\=)\?(&|$)|\?\?/i,s),n+=(/\?/.test(n)?"&":"?")+a+"="+r,window[r]=function(t){if(o)window[r]=o;else try{delete window[r]}catch(e){}l&&$.isFunction(l)&&l(t)},e=document.createElement("script"),void 0===t.async&&!1===t.async||(e.async="async"),t.scriptCharset&&(e.charset=t.scriptCharset),e.src=n,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,i&&e.parentNode&&i.removeChild(e),e=void 0)},i.insertBefore(e,i.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(t){if(window.DOMParser)$.parseXml=function(t){var e,n=null;return e=new DOMParser,n=e.parseFromString(t,"text/xml"),n};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");$.parseXml=function(t){var e=null;return e=new ActiveXObject("Microsoft.XMLDOM"),e.async=!1,e.loadXML(t),e}}return $.parseXml(t)},parseJSON:function(string){return window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(t){return t=t||"",!!FILEFORMATS[t.toLowerCase()]}});var nullfunction=function(t){};$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};function getOffsetParent(t,e){return e&&t!=document.body?document.body:t.offsetParent}(function(){var t,e=navigator.appVersion,n=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(n.substring(n.indexOf("MSIE")+5,n.indexOf(";",n.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(n.indexOf("Firefox")>=0?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(n.substring(n.indexOf("Firefox")+8))):n.indexOf("Safari")>=0?($.Browser.vendor=n.indexOf("Chrome")>=0?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(n.substring(n.substring(0,n.indexOf("Safari")).lastIndexOf("/")+1,n.indexOf("Safari")))):(t=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!==t.exec(n)&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(e);break}var i,r,o,s=window.location.search.substring(1),a=s.split("&");for(o=0;o<a.length;o++)if(i=a[o],r=i.indexOf("="),r>0){var l=i.substring(0,r),c=i.substring(r+1);try{URLPARAMS[l]=decodeURIComponent(c)}catch(u){$.console.error("Ignoring malformed URL parameter: %s=%s",l,c)}}$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)})(),function(t){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,n=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.msCancelAnimationFrame;if(e&&n)$.requestAnimationFrame=function(){return e.apply(t,arguments)},$.cancelAnimationFrame=function(){return n.apply(t,arguments)};else{var i,r=[],o=[],s=0;$.requestAnimationFrame=function(t){return r.push([++s,t]),i||(i=setInterval((function(){if(r.length){var t=$.now(),e=o;o=r,r=e;while(o.length)o.shift()[1](t)}else clearInterval(i),i=void 0}),20)),s},$.cancelAnimationFrame=function(t){var e,n;for(e=0,n=r.length;e<n;e+=1)if(r[e][0]===t)return void r.splice(e,1);for(e=0,n=o.length;e<n;e+=1)if(o[e][0]===t)return void o.splice(e,1)}}}(window)}(OpenSeadragon),function(t,e){__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=e,__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(0,(function(){return OpenSeadragon})),function(t){var e={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(e.supportsFullScreen=!0,e.getFullScreenElement=function(){return document.fullscreenElement},e.requestFullScreen=function(t){return t.requestFullscreen()},e.exitFullScreen=function(){document.exitFullscreen()},e.fullScreenEventName="fullscreenchange",e.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(e.supportsFullScreen=!0,e.getFullScreenElement=function(){return document.msFullscreenElement},e.requestFullScreen=function(t){return t.msRequestFullscreen()},e.exitFullScreen=function(){document.msExitFullscreen()},e.fullScreenEventName="MSFullscreenChange",e.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(e.supportsFullScreen=!0,e.getFullScreenElement=function(){return document.webkitFullscreenElement},e.requestFullScreen=function(t){return t.webkitRequestFullscreen()},e.exitFullScreen=function(){document.webkitExitFullscreen()},e.fullScreenEventName="webkitfullscreenchange",e.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(e.supportsFullScreen=!0,e.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},e.requestFullScreen=function(t){return t.webkitRequestFullScreen()},e.exitFullScreen=function(){document.webkitCancelFullScreen()},e.fullScreenEventName="webkitfullscreenchange",e.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(e.supportsFullScreen=!0,e.getFullScreenElement=function(){return document.mozFullScreenElement},e.requestFullScreen=function(t){return t.mozRequestFullScreen()},e.exitFullScreen=function(){document.mozCancelFullScreen()},e.fullScreenEventName="mozfullscreenchange",e.fullScreenErrorEventName="mozfullscreenerror"),e.isFullScreen=function(){return null!==e.getFullScreenElement()},e.cancelFullScreen=function(){t.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),e.exitFullScreen()},t.extend(t,e)}(OpenSeadragon),function(t){t.EventSource=function(){this.events={}},t.EventSource.prototype={addOnceHandler:function(t,e,n,i){var r=this;i=i||1;var o=0,s=function(n){o++,o===i&&r.removeHandler(t,s),e(n)};this.addHandler(t,s,n)},addHandler:function(e,n,i){var r=this.events[e];r||(this.events[e]=r=[]),n&&t.isFunction(n)&&(r[r.length]={handler:n,userData:i||null})},removeHandler:function(e,n){var i,r=this.events[e],o=[];if(r&&t.isArray(r)){for(i=0;i<r.length;i++)r[i].handler!==n&&o.push(r[i]);this.events[e]=o}},removeAllHandlers:function(t){if(t)this.events[t]=[];else for(var e in this.events)this.events[e]=[]},getHandler:function(t){var e=this.events[t];return e&&e.length?(e=1===e.length?[e[0]]:Array.apply(null,e),function(t,n){var i,r=e.length;for(i=0;i<r;i++)e[i]&&(n.eventSource=t,n.userData=e[i].userData,e[i].handler(n))}):null},raiseEvent:function(t,e){var n=this.getHandler(t);n&&(e||(e={}),n(this,e))}}}(OpenSeadragon),function(t){var e=[],n={};function i(e){var i,r=n[e.hash],o=r.activePointersLists.length;for(i=0;i<o;i++)r.activePointersLists[i].captureCount>0&&(t.removeEvent(t.MouseTracker.captureElement,"mousemove",r.mousemovecaptured,!0),t.removeEvent(t.MouseTracker.captureElement,"mouseup",r.mouseupcaptured,!0),t.removeEvent(t.MouseTracker.captureElement,t.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",r.pointermovecaptured,!0),t.removeEvent(t.MouseTracker.captureElement,t.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",r.pointerupcaptured,!0),t.removeEvent(t.MouseTracker.captureElement,"touchmove",r.touchmovecaptured,!0),t.removeEvent(t.MouseTracker.captureElement,"touchend",r.touchendcaptured,!0),r.activePointersLists[i].captureCount=0);for(i=0;i<o;i++)r.activePointersLists.pop()}function r(e){var r,o,s=n[e.hash];if(!s.tracking){for(o=0;o<t.MouseTracker.subscribeEvents.length;o++)r=t.MouseTracker.subscribeEvents[o],t.addEvent(e.element,r,s[r],!1);i(e),s.tracking=!0}}function o(e){var r,o,s=n[e.hash];if(s.tracking){for(o=0;o<t.MouseTracker.subscribeEvents.length;o++)r=t.MouseTracker.subscribeEvents[o],t.removeEvent(e.element,r,s[r],!1);i(e),s.tracking=!1}}function s(e,i){var r=n[e.hash];if("pointerevent"===i)return{upName:t.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:r.pointerupcaptured,moveName:t.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:r.pointermovecaptured};if("mouse"===i)return{upName:"mouseup",upHandler:r.mouseupcaptured,moveName:"mousemove",moveHandler:r.mousemovecaptured};if("touch"===i)return{upName:"touchend",upHandler:r.touchendcaptured,moveName:"touchmove",moveHandler:r.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function a(e,n,i){var r,o=e.getActivePointersListByType(n);o.captureCount+=i||1,1===o.captureCount&&(t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<9?e.element.setCapture(!0):(r=s(e,t.MouseTracker.havePointerEvents?"pointerevent":n),gt&&vt(window.top)&&t.addEvent(window.top,r.upName,r.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,r.upName,r.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,r.moveName,r.moveHandler,!0)))}function l(e,n,i){var r,o=e.getActivePointersListByType(n);o.captureCount-=i||1,0===o.captureCount&&(t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<9?e.element.releaseCapture():(r=s(e,t.MouseTracker.havePointerEvents?"pointerevent":n),gt&&vt(window.top)&&t.removeEvent(window.top,r.upName,r.upHandler,!0),t.removeEvent(t.MouseTracker.captureElement,r.moveName,r.moveHandler,!0),t.removeEvent(t.MouseTracker.captureElement,r.upName,r.upHandler,!0)))}function c(e){var n;if(t.MouseTracker.unprefixedPointerEvents)n=e.pointerType;else switch(e.pointerType){case 2:n="touch";break;case 3:n="pen";break;case 4:n="mouse";break;default:n=""}return n}function u(e){return t.getMousePosition(e)}function h(t,e){return p(u(t),e)}function p(e,n){var i=t.getElementOffset(n);return e.minus(i)}function f(e,n){return new t.Point((e.x+n.x)/2,(e.y+n.y)/2)}function d(e,n){e.clickHandler&&t.cancelEvent(n)}function g(e,n){e.dblClickHandler&&t.cancelEvent(n)}function v(e,n){var i;e.keyDownHandler&&(n=t.getEvent(n),i=e.keyDownHandler({eventSource:e,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:e.userData}),i||t.cancelEvent(n))}function m(e,n){var i;e.keyUpHandler&&(n=t.getEvent(n),i=e.keyUpHandler({eventSource:e,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:e.userData}),i||t.cancelEvent(n))}function y(e,n){var i;e.keyHandler&&(n=t.getEvent(n),i=e.keyHandler({eventSource:e,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:e.userData}),i||t.cancelEvent(n))}function b(e,n){var i;e.focusHandler&&(n=t.getEvent(n),i=e.focusHandler({eventSource:e,originalEvent:n,preventDefaultAction:!1,userData:e.userData}),!1===i&&t.cancelEvent(n))}function w(e,n){var i;e.blurHandler&&(n=t.getEvent(n),i=e.blurHandler({eventSource:e,originalEvent:n,preventDefaultAction:!1,userData:e.userData}),!1===i&&t.cancelEvent(n))}function _(t,e){S(t,e,e)}function x(e,n){n=t.getEvent(n);var i={target:n.target||n.srcElement,type:"wheel",shiftKey:n.shiftKey||!1,clientX:n.clientX,clientY:n.clientY,pageX:n.pageX?n.pageX:n.clientX,pageY:n.pageY?n.pageY:n.clientY,deltaMode:"MozMousePixelScroll"==n.type?0:1,deltaX:0,deltaZ:0};"mousewheel"==t.MouseTracker.wheelEventName?i.deltaY=-n.wheelDelta/t.DEFAULT_SETTINGS.pixelsPerWheelLine:i.deltaY=n.detail,S(e,i,n)}function S(e,n,i){var r,o=0;o=n.deltaY<0?1:-1,e.scrollHandler&&(r=e.scrollHandler({eventSource:e,pointerType:"mouse",position:h(n,e.element),scroll:o,shift:n.shiftKey,isTouchEvent:!1,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===r&&t.cancelEvent(i))}function T(t,e){if(t===e)return!1;while(e&&e!==t)e=e.parentNode;return e===t}function C(e,n){n=t.getEvent(n),k(e,n)}function E(e,n){n=t.getEvent(n),n.currentTarget===n.relatedTarget||T(n.currentTarget,n.relatedTarget)||k(e,n)}function k(e,n){var i={id:t.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:u(n),currentTime:t.now()};lt(e,n,[i])}function O(e,n){n=t.getEvent(n),P(e,n)}function A(e,n){n=t.getEvent(n),n.currentTarget===n.relatedTarget||T(n.currentTarget,n.relatedTarget)||P(e,n)}function P(e,n){var i={id:t.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:u(n),currentTime:t.now()};ct(e,n,[i])}function R(e){return t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<9?1===e?0:2===e?2:4===e?1:-1:e}function I(e,n){var i;n=t.getEvent(n),i={id:t.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:u(n),currentTime:t.now()},ut(e,n,[i],R(n.button))&&(t.stopEvent(n),a(e,"mouse")),(e.clickHandler||e.dblClickHandler||e.pressHandler||e.dragHandler||e.dragEndHandler)&&t.cancelEvent(n)}function j(t,e){B(t,e)}function L(e,n){B(e,n),t.stopEvent(n)}function B(e,n){var i;n=t.getEvent(n),i={id:t.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:u(n),currentTime:t.now()},ht(e,n,[i],R(n.button))&&l(e,"mouse")}function F(t,e){N(t,e)}function D(e,n){N(e,n),t.stopEvent(n)}function N(e,n){var i;n=t.getEvent(n),i={id:t.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:u(n),currentTime:t.now()},pt(e,n,[i])}function M(t,e,n){var i,r=n.getLength(),o=[];if("touch"===n.type||n.contacts>0){for(i=0;i<r;i++)o.push(n.getByIndex(i));o.length>0&&(ht(t,e,o,0),n.captureCount=1,l(t,n.type),ct(t,e,o))}}function $(n,i){var r,o,s,l,c=i.changedTouches.length,h=[],p=n.getActivePointersListByType("touch");for(r=t.now(),p.getLength()>i.touches.length-c&&(t.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),M(n,i,p)),o=0;o<c;o++)h.push({id:i.changedTouches[o].identifier,type:"touch",currentPos:u(i.changedTouches[o]),currentTime:r});for(lt(n,i,h),o=0;o<e.length;o++)if(e[o]!==n&&e[o].isTracking()&&T(e[o].element,n.element)){for(l=[],s=0;s<c;s++)l.push({id:i.changedTouches[s].identifier,type:"touch",currentPos:u(i.changedTouches[s]),currentTime:r});lt(e[o],i,l)}ut(n,i,h,0)&&(t.stopEvent(i),a(n,"touch",c)),t.cancelEvent(i)}function H(t,e){q(t,e)}function z(e,n){q(e,n),t.stopEvent(n)}function q(n,i){var r,o,s,a,c=i.changedTouches.length,h=[];for(r=t.now(),o=0;o<c;o++)h.push({id:i.changedTouches[o].identifier,type:"touch",currentPos:u(i.changedTouches[o]),currentTime:r});for(ht(n,i,h,0)&&l(n,"touch",c),ct(n,i,h),o=0;o<e.length;o++)if(e[o]!==n&&e[o].isTracking()&&T(e[o].element,n.element)){for(a=[],s=0;s<c;s++)a.push({id:i.changedTouches[s].identifier,type:"touch",currentPos:u(i.changedTouches[s]),currentTime:r});ct(e[o],i,a)}t.cancelEvent(i)}function U(t,e){W(t,e)}function V(e,n){W(e,n),t.stopEvent(n)}function W(e,n){var i,r=n.changedTouches.length,o=[];for(i=0;i<r;i++)o.push({id:n.changedTouches[i].identifier,type:"touch",currentPos:u(n.changedTouches[i]),currentTime:t.now()});pt(e,n,o),t.cancelEvent(n)}function G(t,e){var n=t.getActivePointersListByType("touch");M(t,e,n)}function Z(t,e){return e.stopPropagation(),e.preventDefault(),!1}function X(t,e){return e.stopPropagation(),e.preventDefault(),!1}function K(e,n){var i;n.currentTarget===n.relatedTarget||T(n.currentTarget,n.relatedTarget)||(i={id:n.pointerId,type:c(n),isPrimary:n.isPrimary,currentPos:u(n),currentTime:t.now()},lt(e,n,[i]))}function J(e,n){var i;n.currentTarget===n.relatedTarget||T(n.currentTarget,n.relatedTarget)||(i={id:n.pointerId,type:c(n),isPrimary:n.isPrimary,currentPos:u(n),currentTime:t.now()},ct(e,n,[i]))}function Y(e,n){var i;i={id:n.pointerId,type:c(n),isPrimary:n.isPrimary,currentPos:u(n),currentTime:t.now()},ut(e,n,[i],n.button)&&(t.stopEvent(n),a(e,i.type)),(e.clickHandler||e.dblClickHandler||e.pressHandler||e.dragHandler||e.dragEndHandler||e.pinchHandler)&&t.cancelEvent(n)}function Q(t,e){et(t,e)}function tt(e,n){var i=e.getActivePointersListByType(c(n));i.getById(n.pointerId)&&et(e,n),t.stopEvent(n)}function et(e,n){var i;i={id:n.pointerId,type:c(n),isPrimary:n.isPrimary,currentPos:u(n),currentTime:t.now()},ht(e,n,[i],n.button)&&l(e,i.type)}function nt(t,e){rt(t,e)}function it(e,n){var i=e.getActivePointersListByType(c(n));i.getById(n.pointerId)&&rt(e,n),t.stopEvent(n)}function rt(e,n){var i;i={id:n.pointerId,type:c(n),isPrimary:n.isPrimary,currentPos:u(n),currentTime:t.now()},pt(e,n,[i])}function ot(t,e){var n;n={id:e.pointerId,type:c(e)},ft(t,e,[n])}function st(t,e){return Object.prototype.hasOwnProperty.call(e,"isPrimary")||(0===t.getLength()?e.isPrimary=!0:e.isPrimary=!1),e.speed=0,e.direction=0,e.contactPos=e.currentPos,e.contactTime=e.currentTime,e.lastPos=e.currentPos,e.lastTime=e.currentTime,t.add(e)}function at(t,e){var n,i;return t.getById(e.id)?(n=t.removeById(e.id),Object.prototype.hasOwnProperty.call(e,"isPrimary")||(i=t.getPrimary(),i||(i=t.getByIndex(0),i&&(i.isPrimary=!0)))):n=t.getLength(),n}function lt(e,n,i){var r,o,s,a,l=e.getActivePointersListByType(i[0].type),c=i.length;for(r=0;r<c;r++)o=i[r],s=l.getById(o.id),s?(s.insideElement=!0,s.lastPos=s.currentPos,s.lastTime=s.currentTime,s.currentPos=o.currentPos,s.currentTime=o.currentTime,o=s):(o.captured=!1,o.insideElementPressed=!1,o.insideElement=!0,st(l,o)),e.enterHandler&&(a=e.enterHandler({eventSource:e,pointerType:o.type,position:p(o.currentPos,e.element),buttons:l.buttons,pointers:e.getActivePointerCount(),insideElementPressed:o.insideElementPressed,buttonDownAny:0!==l.buttons,isTouchEvent:"touch"===o.type,originalEvent:n,preventDefaultAction:!1,userData:e.userData}),!1===a&&t.cancelEvent(n))}function ct(e,n,i){var r,o,s,a,l=e.getActivePointersListByType(i[0].type),c=i.length;for(r=0;r<c;r++)o=i[r],s=l.getById(o.id),s&&(s.captured?(s.insideElement=!1,s.lastPos=s.currentPos,s.lastTime=s.currentTime,s.currentPos=o.currentPos,s.currentTime=o.currentTime):at(l,s),o=s),e.exitHandler&&(a=e.exitHandler({eventSource:e,pointerType:o.type,position:o.currentPos&&p(o.currentPos,e.element),buttons:l.buttons,pointers:e.getActivePointerCount(),insideElementPressed:!!s&&s.insideElementPressed,buttonDownAny:0!==l.buttons,isTouchEvent:"touch"===o.type,originalEvent:n,preventDefaultAction:!1,userData:e.userData}),!1===a&&t.cancelEvent(n))}function ut(e,i,r,o){var s,a,l,c,u=n[e.hash],h=e.getActivePointersListByType(r[0].type),d=r.length;"undefined"!==typeof i.buttons?h.buttons=i.buttons:t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<9?0===o?h.buttons+=1:1===o?h.buttons+=4:2===o?h.buttons+=2:3===o?h.buttons+=8:4===o?h.buttons+=16:5===o&&(h.buttons+=32):0===o?h.buttons|=1:1===o?h.buttons|=4:2===o?h.buttons|=2:3===o?h.buttons|=8:4===o?h.buttons|=16:5===o&&(h.buttons|=32);var g=e.getActivePointersListsExceptType(r[0].type);for(a=0;a<g.length;a++)M(e,i,g[a]);if(0!==o)return e.nonPrimaryPressHandler&&(s=e.nonPrimaryPressHandler({eventSource:e,pointerType:r[0].type,position:p(r[0].currentPos,e.element),button:o,buttons:h.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===s&&t.cancelEvent(i)),!1;for(a=0;a<d;a++)l=r[a],c=h.getById(l.id),c?(c.captured=!0,c.insideElementPressed=!0,c.insideElement=!0,c.contactPos=l.currentPos,c.contactTime=l.currentTime,c.lastPos=c.currentPos,c.lastTime=c.currentTime,c.currentPos=l.currentPos,c.currentTime=l.currentTime,l=c):(l.captured=!0,l.insideElementPressed=!0,l.insideElement=!0,st(h,l)),h.addContact(),(e.dragHandler||e.dragEndHandler||e.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.addPoint(e,l),1===h.contacts?e.pressHandler&&(s=e.pressHandler({eventSource:e,pointerType:l.type,position:p(l.contactPos,e.element),buttons:h.buttons,isTouchEvent:"touch"===l.type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===s&&t.cancelEvent(i)):2===h.contacts&&e.pinchHandler&&"touch"===l.type&&(u.pinchGPoints=h.asArray(),u.lastPinchDist=u.currentPinchDist=u.pinchGPoints[0].currentPos.distanceTo(u.pinchGPoints[1].currentPos),u.lastPinchCenter=u.currentPinchCenter=f(u.pinchGPoints[0].currentPos,u.pinchGPoints[1].currentPos));return!0}function ht(e,i,r,o){var s,a,l,c,u,h,d,g=n[e.hash],v=e.getActivePointersListByType(r[0].type),m=r.length,y=!1,b=!1;if("undefined"!==typeof i.buttons?v.buttons=i.buttons:t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<9?0===o?v.buttons-=1:1===o?v.buttons-=4:2===o?v.buttons-=2:3===o?v.buttons-=8:4===o?v.buttons-=16:5===o&&(v.buttons-=32):0===o?v.buttons^=-2:1===o?v.buttons^=-5:2===o?v.buttons^=-3:3===o?v.buttons^=-9:4===o?v.buttons^=-17:5===o&&(v.buttons^=-33),0!==o){e.nonPrimaryReleaseHandler&&(s=e.nonPrimaryReleaseHandler({eventSource:e,pointerType:r[0].type,position:p(r[0].currentPos,e.element),button:o,buttons:v.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===s&&t.cancelEvent(i));var w=e.getActivePointersListByType("mouse");return M(e,i,w),!1}if("undefined"===typeof r[0].currentPos)return M(e,i,v),!1;for(c=0;c<m;c++)u=r[c],h=v.getById(u.id),h&&(h.captured&&(h.captured=!1,y=!0,b=!0),h.lastPos=h.currentPos,h.lastTime=h.currentTime,h.currentPos=u.currentPos,h.currentTime=u.currentTime,h.insideElement||at(v,h),a=h.currentPos,l=h.currentTime,b?(v.removeContact(),(e.dragHandler||e.dragEndHandler||e.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.removePoint(e,h),0===v.contacts?(e.releaseHandler&&(s=e.releaseHandler({eventSource:e,pointerType:h.type,position:p(a,e.element),buttons:v.buttons,insideElementPressed:h.insideElementPressed,insideElementReleased:h.insideElement,isTouchEvent:"touch"===h.type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===s&&t.cancelEvent(i)),e.dragEndHandler&&!h.currentPos.equals(h.contactPos)&&(s=e.dragEndHandler({eventSource:e,pointerType:h.type,position:p(h.currentPos,e.element),speed:h.speed,direction:h.direction,shift:i.shiftKey,isTouchEvent:"touch"===h.type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===s&&t.cancelEvent(i)),(e.clickHandler||e.dblClickHandler)&&h.insideElement&&(d=l-h.contactTime<=e.clickTimeThreshold&&h.contactPos.distanceTo(a)<=e.clickDistThreshold,e.clickHandler&&(s=e.clickHandler({eventSource:e,pointerType:h.type,position:p(h.currentPos,e.element),quick:d,shift:i.shiftKey,isTouchEvent:"touch"===h.type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===s&&t.cancelEvent(i)),e.dblClickHandler&&d&&(v.clicks++,1===v.clicks?(g.lastClickPos=a,g.dblClickTimeOut=setTimeout((function(){v.clicks=0}),e.dblClickTimeThreshold)):2===v.clicks&&(clearTimeout(g.dblClickTimeOut),v.clicks=0,g.lastClickPos.distanceTo(a)<=e.dblClickDistThreshold&&(s=e.dblClickHandler({eventSource:e,pointerType:h.type,position:p(h.currentPos,e.element),shift:i.shiftKey,isTouchEvent:"touch"===h.type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===s&&t.cancelEvent(i)),g.lastClickPos=null)))):2===v.contacts&&e.pinchHandler&&"touch"===h.type&&(g.pinchGPoints=v.asArray(),g.lastPinchDist=g.currentPinchDist=g.pinchGPoints[0].currentPos.distanceTo(g.pinchGPoints[1].currentPos),g.lastPinchCenter=g.currentPinchCenter=f(g.pinchGPoints[0].currentPos,g.pinchGPoints[1].currentPos))):e.releaseHandler&&(s=e.releaseHandler({eventSource:e,pointerType:h.type,position:p(a,e.element),buttons:v.buttons,insideElementPressed:h.insideElementPressed,insideElementReleased:h.insideElement,isTouchEvent:"touch"===h.type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===s&&t.cancelEvent(i)));return y}function pt(e,i,r){var o,s,a,l,c,u,h=n[e.hash],d=e.getActivePointersListByType(r[0].type),g=r.length;for("undefined"!==typeof i.buttons&&(d.buttons=i.buttons),o=0;o<g;o++)s=r[o],a=d.getById(s.id),a?(Object.prototype.hasOwnProperty.call(s,"isPrimary")&&(a.isPrimary=s.isPrimary),a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=s.currentPos,a.currentTime=s.currentTime):(s.captured=!1,s.insideElementPressed=!1,s.insideElement=!0,st(d,s));e.stopHandler&&"mouse"===r[0].type&&(clearTimeout(e.stopTimeOut),e.stopTimeOut=setTimeout((function(){dt(e,i,r[0].type)}),e.stopDelay)),0===d.contacts?e.moveHandler&&(u=e.moveHandler({eventSource:e,pointerType:r[0].type,position:p(r[0].currentPos,e.element),buttons:d.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===u&&t.cancelEvent(i)):1===d.contacts?(e.moveHandler&&(a=d.asArray()[0],u=e.moveHandler({eventSource:e,pointerType:a.type,position:p(a.currentPos,e.element),buttons:d.buttons,isTouchEvent:"touch"===a.type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===u&&t.cancelEvent(i)),e.dragHandler&&(a=d.asArray()[0],c=a.currentPos.minus(a.lastPos),u=e.dragHandler({eventSource:e,pointerType:a.type,position:p(a.currentPos,e.element),buttons:d.buttons,delta:c,speed:a.speed,direction:a.direction,shift:i.shiftKey,isTouchEvent:"touch"===a.type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===u&&t.cancelEvent(i))):2===d.contacts&&(e.moveHandler&&(l=d.asArray(),u=e.moveHandler({eventSource:e,pointerType:l[0].type,position:p(f(l[0].currentPos,l[1].currentPos),e.element),buttons:d.buttons,isTouchEvent:"touch"===l[0].type,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===u&&t.cancelEvent(i)),e.pinchHandler&&"touch"===r[0].type&&(c=h.pinchGPoints[0].currentPos.distanceTo(h.pinchGPoints[1].currentPos),c!=h.currentPinchDist&&(h.lastPinchDist=h.currentPinchDist,h.currentPinchDist=c,h.lastPinchCenter=h.currentPinchCenter,h.currentPinchCenter=f(h.pinchGPoints[0].currentPos,h.pinchGPoints[1].currentPos),u=e.pinchHandler({eventSource:e,pointerType:"touch",gesturePoints:h.pinchGPoints,lastCenter:p(h.lastPinchCenter,e.element),center:p(h.currentPinchCenter,e.element),lastDistance:h.lastPinchDist,distance:h.currentPinchDist,shift:i.shiftKey,originalEvent:i,preventDefaultAction:!1,userData:e.userData}),!1===u&&t.cancelEvent(i))))}function ft(t,e,n){ht(t,e,n,0),ct(t,e,n)}function dt(t,e,n){t.stopHandler&&t.stopHandler({eventSource:t,pointerType:n,position:h(e,t.element),buttons:t.getActivePointersListByType(n).buttons,isTouchEvent:"touch"===n,originalEvent:e,preventDefaultAction:!1,userData:t.userData})}t.MouseTracker=function(i){e.push(this);var r=arguments;t.isPlainObject(i)||(i={element:r[0],clickTimeThreshold:r[1],clickDistThreshold:r[2]}),this.hash=Math.random(),this.element=t.getElement(i.element),this.clickTimeThreshold=i.clickTimeThreshold||t.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=i.clickDistThreshold||t.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=i.dblClickTimeThreshold||t.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=i.dblClickDistThreshold||t.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=i.userData||null,this.stopDelay=i.stopDelay||50,this.enterHandler=i.enterHandler||null,this.exitHandler=i.exitHandler||null,this.pressHandler=i.pressHandler||null,this.nonPrimaryPressHandler=i.nonPrimaryPressHandler||null,this.releaseHandler=i.releaseHandler||null,this.nonPrimaryReleaseHandler=i.nonPrimaryReleaseHandler||null,this.moveHandler=i.moveHandler||null,this.scrollHandler=i.scrollHandler||null,this.clickHandler=i.clickHandler||null,this.dblClickHandler=i.dblClickHandler||null,this.dragHandler=i.dragHandler||null,this.dragEndHandler=i.dragEndHandler||null,this.pinchHandler=i.pinchHandler||null,this.stopHandler=i.stopHandler||null,this.keyDownHandler=i.keyDownHandler||null,this.keyUpHandler=i.keyUpHandler||null,this.keyHandler=i.keyHandler||null,this.focusHandler=i.focusHandler||null,this.blurHandler=i.blurHandler||null;var o=this;n[this.hash]={click:function(t){d(o,t)},dblclick:function(t){g(o,t)},keydown:function(t){v(o,t)},keyup:function(t){m(o,t)},keypress:function(t){y(o,t)},focus:function(t){b(o,t)},blur:function(t){w(o,t)},wheel:function(t){_(o,t)},mousewheel:function(t){x(o,t)},DOMMouseScroll:function(t){x(o,t)},MozMousePixelScroll:function(t){x(o,t)},mouseenter:function(t){C(o,t)},mouseleave:function(t){O(o,t)},mouseover:function(t){E(o,t)},mouseout:function(t){A(o,t)},mousedown:function(t){I(o,t)},mouseup:function(t){j(o,t)},mouseupcaptured:function(t){L(o,t)},mousemove:function(t){F(o,t)},mousemovecaptured:function(t){D(o,t)},touchstart:function(t){$(o,t)},touchend:function(t){H(o,t)},touchendcaptured:function(t){z(o,t)},touchmove:function(t){U(o,t)},touchmovecaptured:function(t){V(o,t)},touchcancel:function(t){G(o,t)},gesturestart:function(t){Z(o,t)},gesturechange:function(t){X(o,t)},pointerover:function(t){K(o,t)},MSPointerOver:function(t){K(o,t)},pointerout:function(t){J(o,t)},MSPointerOut:function(t){J(o,t)},pointerdown:function(t){Y(o,t)},MSPointerDown:function(t){Y(o,t)},pointerup:function(t){Q(o,t)},MSPointerUp:function(t){Q(o,t)},pointermove:function(t){nt(o,t)},MSPointerMove:function(t){nt(o,t)},pointercancel:function(t){ot(o,t)},MSPointerCancel:function(t){ot(o,t)},pointerupcaptured:function(t){tt(o,t)},pointermovecaptured:function(t){it(o,t)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},i.startDisabled||this.setTracking(!0)},t.MouseTracker.prototype={destroy:function(){var t;for(o(this),this.element=null,t=0;t<e.length;t++)if(e[t]===this){e.splice(t,1);break}n[this.hash]=null,delete n[this.hash]},isTracking:function(){return n[this.hash].tracking},setTracking:function(t){return t?r(this):o(this),this},getActivePointersListsExceptType:function(t){for(var e=n[this.hash],i=[],r=0;r<e.activePointersLists.length;++r)e.activePointersLists[r].type!==t&&i.push(e.activePointersLists[r]);return i},getActivePointersListByType:function(e){var i,r,o=n[this.hash],s=o.activePointersLists.length;for(i=0;i<s;i++)if(o.activePointersLists[i].type===e)return o.activePointersLists[i];return r=new t.MouseTracker.GesturePointList(e),o.activePointersLists.push(r),r},getActivePointerCount:function(){var t,e=n[this.hash],i=e.activePointersLists.length,r=0;for(t=0;t<i;t++)r+=e.activePointersLists[t].getLength();return r},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},t.MouseTracker.resetAllMouseTrackers=function(){for(var t=0;t<e.length;t++)e[t].isTracking()&&(e[t].setTracking(!1),e[t].setTracking(!0))},t.MouseTracker.gesturePointVelocityTracker=function(){var e=[],n=0,i=0,r=function(t,e){return t.hash.toString()+e.type+e.id.toString()},o=function(){var n,r,o,s,a,l,c=e.length,u=t.now();for(s=u-i,i=u,n=0;n<c;n++)r=e[n],o=r.gPoint,o.direction=Math.atan2(o.currentPos.y-r.lastPos.y,o.currentPos.x-r.lastPos.x),a=r.lastPos.distanceTo(o.currentPos),r.lastPos=o.currentPos,l=1e3*a/(s+1),o.speed=.75*l+.25*o.speed},s=function(s,a){var l=r(s,a);e.push({guid:l,gPoint:a,lastPos:a.currentPos}),1===e.length&&(i=t.now(),n=window.setInterval(o,50))},a=function(t,i){var o,s=r(t,i),a=e.length;for(o=0;o<a;o++)if(e[o].guid===s){e.splice(o,1),a--,0===a&&window.clearInterval(n);break}};return{addPoint:s,removePoint:a}}(),t.MouseTracker.captureElement=document,t.MouseTracker.wheelEventName=t.Browser.vendor==t.BROWSERS.IE&&t.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",t.MouseTracker.supportsMouseCapture=function(){var e=document.createElement("div");return t.isFunction(e.setCapture)&&t.isFunction(e.releaseCapture)}(),t.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",t.MouseTracker.wheelEventName],"DOMMouseScroll"==t.MouseTracker.wheelEventName&&t.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||t.Browser.vendor!==t.BROWSERS.IE)?(t.MouseTracker.havePointerEvents=!0,t.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),t.MouseTracker.unprefixedPointerEvents=!0,navigator.maxTouchPoints?t.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:t.MouseTracker.maxTouchPoints=0,t.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(t.MouseTracker.havePointerEvents=!0,t.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),t.MouseTracker.unprefixedPointerEvents=!1,navigator.msMaxTouchPoints?t.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:t.MouseTracker.maxTouchPoints=0,t.MouseTracker.haveMouseEnter=!1):(t.MouseTracker.havePointerEvents=!1,t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<9?(t.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),t.MouseTracker.haveMouseEnter=!0):(t.MouseTracker.subscribeEvents.push("mouseover","mouseout"),t.MouseTracker.haveMouseEnter=!1),t.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&t.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&t.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),t.MouseTracker.mousePointerId="legacy-mouse",t.MouseTracker.maxTouchPoints=10),t.MouseTracker.GesturePointList=function(t){this._gPoints=[],this.type=t,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},t.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(t){return this._gPoints.push(t)},removeById:function(t){var e,n=this._gPoints.length;for(e=0;e<n;e++)if(this._gPoints[e].id===t){this._gPoints.splice(e,1);break}return this._gPoints.length},getByIndex:function(t){return t<this._gPoints.length?this._gPoints[t]:null},getById:function(t){var e,n=this._gPoints.length;for(e=0;e<n;e++)if(this._gPoints[e].id===t)return this._gPoints[e];return null},getPrimary:function(t){var e,n=this._gPoints.length;for(e=0;e<n;e++)if(this._gPoints[e].isPrimary)return this._gPoints[e];return null},addContact:function(){++this.contacts,this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};var gt=function(){try{return window.self!==window.top}catch(t){return!0}}();function vt(t){try{return t.addEventListener&&t.removeEventListener}catch(e){return!1}}}(OpenSeadragon),function(t){t.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},t.Control=function(e,n,i){var r=e.parentNode;"number"===typeof n&&(t.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),n={anchor:n}),n.attachToViewer="undefined"===typeof n.attachToViewer||n.attachToViewer,this.autoFade="undefined"===typeof n.autoFade||n.autoFade,this.element=e,this.anchor=n.anchor,this.container=i,this.anchor==t.ControlAnchor.ABSOLUTE?(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof n.top?n.top+"px":n.top,this.wrapper.style.left="number"==typeof n.left?n.left+"px":n.left,this.wrapper.style.height="number"==typeof n.height?n.height+"px":n.height,this.wrapper.style.width="number"==typeof n.width?n.width+"px":n.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor==t.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),n.attachToViewer?this.anchor==t.ControlAnchor.TOP_RIGHT||this.anchor==t.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):r.appendChild(this.wrapper)},t.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!=this.wrapper.style.display},setVisible:function(e){this.wrapper.style.display=e?this.anchor==t.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(e){this.element[t.SIGNAL]&&t.Browser.vendor==t.BROWSERS.IE?t.setElementOpacity(this.element,e,!0):t.setElementOpacity(this.wrapper,e,!0)}}}(OpenSeadragon),function(t){function e(t,e){var n,i=t.controls;for(n=i.length-1;n>=0;n--)if(i[n].element==e)return n;return-1}t.ControlDock=function(e){var n,i,r=["topleft","topright","bottomright","bottomleft"];for(t.extend(!0,this,{id:"controldock-"+t.now()+"-"+Math.floor(1e6*Math.random()),container:t.makeNeutralElement("div"),controls:[]},e),this.container.onsubmit=function(){return!1},this.element&&(this.element=t.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),i=0;i<r.length;i++)n=r[i],this.controls[n]=t.makeNeutralElement("div"),this.controls[n].style.position="absolute",n.match("left")&&(this.controls[n].style.left="0px"),n.match("right")&&(this.controls[n].style.right="0px"),n.match("top")&&(this.controls[n].style.top="0px"),n.match("bottom")&&(this.controls[n].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},t.ControlDock.prototype={addControl:function(n,i){n=t.getElement(n);var r=null;if(!(e(this,n)>=0)){switch(i.anchor){case t.ControlAnchor.TOP_RIGHT:r=this.controls.topright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingTop="0px";break;case t.ControlAnchor.BOTTOM_RIGHT:r=this.controls.bottomright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingBottom="0px";break;case t.ControlAnchor.BOTTOM_LEFT:r=this.controls.bottomleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingBottom="0px";break;case t.ControlAnchor.TOP_LEFT:r=this.controls.topleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingTop="0px";break;case t.ControlAnchor.ABSOLUTE:r=this.container,n.style.margin="0px",n.style.padding="0px";break;default:case t.ControlAnchor.NONE:r=this.container,n.style.margin="0px",n.style.padding="0px";break}this.controls.push(new t.Control(n,i,r)),n.style.display="inline-block"}},removeControl:function(n){n=t.getElement(n);var i=e(this,n);return i>=0&&(this.controls[i].destroy(),this.controls.splice(i,1)),this},clearControls:function(){while(this.controls.length>0)this.controls.pop().destroy();return this},areControlsEnabled:function(){var t;for(t=this.controls.length-1;t>=0;t--)if(this.controls[t].isVisible())return!0;return!1},setControlsEnabled:function(t){var e;for(e=this.controls.length-1;e>=0;e--)this.controls[e].setVisible(t);return this}}}(OpenSeadragon),function(t){t.Placement=t.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function(t){var e={},n=1;function i(e){return e=t.getElement(e),new t.Point(0===e.clientWidth?1:e.clientWidth,0===e.clientHeight?1:e.clientHeight)}function r(e,n,i,r,o){var s=e;if("string"==t.type(n))if(n.match(/^\s*<.*>\s*$/))n=t.parseXml(n);else if(n.match(/^\s*[\{\[].*[\}\]]\s*$/))try{var a=t.parseJSON(n);n=a}catch(c){}function l(t,e){t.ready?r(t):(t.addHandler("ready",(function(){r(t)})),t.addHandler("open-failed",(function(t){o({message:t.message,source:e})})))}setTimeout((function(){if("string"==t.type(n))n=new t.TileSource({url:n,crossOriginPolicy:void 0!==i.crossOriginPolicy?i.crossOriginPolicy:e.crossOriginPolicy,ajaxWithCredentials:e.ajaxWithCredentials,ajaxHeaders:e.ajaxHeaders,useCanvas:e.useCanvas,success:function(t){r(t.tileSource)}}),n.addHandler("open-failed",(function(t){o(t)}));else if(t.isPlainObject(n)||n.nodeType)if(void 0!==n.crossOriginPolicy||void 0===i.crossOriginPolicy&&void 0===e.crossOriginPolicy||(n.crossOriginPolicy=void 0!==i.crossOriginPolicy?i.crossOriginPolicy:e.crossOriginPolicy),void 0===n.ajaxWithCredentials&&(n.ajaxWithCredentials=e.ajaxWithCredentials),void 0===n.useCanvas&&(n.useCanvas=e.useCanvas),t.isFunction(n.getTileUrl)){var a=new t.TileSource(n);a.getTileUrl=n.getTileUrl,r(a)}else{var c=t.TileSource.determineType(s,n);if(!c)return void o({message:"Unable to load TileSource",source:n});var u=c.prototype.configure.apply(s,[n]);l(new c(u),n)}else l(n,n)}))}function o(e,n){if(n instanceof t.Overlay)return n;var i=null;if(n.element)i=t.getElement(n.element);else{var r=n.id?n.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());i=t.getElement(n.id),i||(i=document.createElement("a"),i.href="#/overlay/"+r),i.id=r,t.addClass(i,n.className?n.className:"openseadragon-overlay")}var o=n.location,s=n.width,a=n.height;if(!o){var l=n.x,c=n.y;if(void 0!==n.px){var u=e.viewport.imageToViewportRectangle(new t.Rect(n.px,n.py,s||0,a||0));l=u.x,c=u.y,s=void 0!==s?u.width:void 0,a=void 0!==a?u.height:void 0}o=new t.Point(l,c)}var h=n.placement;return h&&"string"===t.type(h)&&(h=t.Placement[n.placement.toUpperCase()]),new t.Overlay({element:i,location:o,placement:h,onDraw:n.onDraw,checkResize:n.checkResize,width:s,height:a,rotationMode:n.rotationMode})}function s(t,e){var n;for(n=t.length-1;n>=0;n--)if(t[n].element===e)return n;return-1}function a(e,n){return t.requestAnimationFrame((function(){n(e)}))}function l(e){t.requestAnimationFrame((function(){u(e)}))}function c(e){e.autoHideControls&&(e.controlsShouldFade=!0,e.controlsFadeBeginTime=t.now()+e.controlsFadeDelay,window.setTimeout((function(){l(e)}),e.controlsFadeDelay))}function u(e){var n,i,r,o;if(e.controlsShouldFade){for(n=t.now(),i=n-e.controlsFadeBeginTime,r=1-i/e.controlsFadeLength,r=Math.min(1,r),r=Math.max(0,r),o=e.controls.length-1;o>=0;o--)e.controls[o].autoFade&&e.controls[o].setOpacity(r);r>0&&l(e)}}function h(t){var e;for(t.controlsShouldFade=!1,e=t.controls.length-1;e>=0;e--)t.controls[e].setOpacity(1)}function p(){h(this)}function f(){c(this)}function d(e){var n={originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction,preventVerticalPan:e.preventVerticalPan,preventHorizontalPan:e.preventHorizontalPan};if(this.raiseEvent("canvas-key",n),n.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 38:return n.preventVerticalPan||(e.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 40:return n.preventVerticalPan||(e.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 37:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;case 39:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;default:return!0}}function g(e){var n={originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction,preventVerticalPan:e.preventVerticalPan,preventHorizontalPan:e.preventHorizontalPan};if(this.raiseEvent("canvas-key",n),n.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return n.preventVerticalPan||(e.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-40))),this.viewport.applyConstraints()),!1;case 115:case 83:return n.preventVerticalPan||(e.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,40))),this.viewport.applyConstraints()),!1;case 97:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-40,0))),this.viewport.applyConstraints()),!1;case 100:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(40,0))),this.viewport.applyConstraints()),!1;case 114:return this.viewport.flipped?this.viewport.setRotation(t.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(t.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 82:return this.viewport.flipped?this.viewport.setRotation(t.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(t.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 102:return this.viewport.toggleFlip(),!1;default:return!0}}function v(t){var e,n=document.activeElement==this.canvas;n||this.canvas.focus(),this.viewport.flipped&&(t.position.x=this.viewport.getContainerSize().x-t.position.x);var i={tracker:t.eventSource,position:t.position,quick:t.quick,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction};this.raiseEvent("canvas-click",i),!i.preventDefaultAction&&this.viewport&&t.quick&&(e=this.gestureSettingsByDeviceType(t.pointerType),e.clickToZoom&&(this.viewport.zoomBy(t.shift?1/this.zoomPerClick:this.zoomPerClick,e.zoomToRefPoint?this.viewport.pointFromPixel(t.position,!0):null),this.viewport.applyConstraints()))}function m(t){var e,n={tracker:t.eventSource,position:t.position,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction};this.raiseEvent("canvas-double-click",n),!n.preventDefaultAction&&this.viewport&&(e=this.gestureSettingsByDeviceType(t.pointerType),e.dblClickToZoom&&(this.viewport.zoomBy(t.shift?1/this.zoomPerClick:this.zoomPerClick,e.zoomToRefPoint?this.viewport.pointFromPixel(t.position,!0):null),this.viewport.applyConstraints()))}function y(t){var e,n={tracker:t.eventSource,position:t.position,delta:t.delta,speed:t.speed,direction:t.direction,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction};if(this.raiseEvent("canvas-drag",n),!n.preventDefaultAction&&this.viewport){if(e=this.gestureSettingsByDeviceType(t.pointerType),this.panHorizontal||(t.delta.x=0),this.panVertical||(t.delta.y=0),this.viewport.flipped&&(t.delta.x=-t.delta.x),this.constrainDuringPan){var i=this.viewport.deltaPointsFromPixels(t.delta.negate());this.viewport.centerSpringX.target.value+=i.x,this.viewport.centerSpringY.target.value+=i.y;var r=this.viewport.getBounds(),o=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=i.x,this.viewport.centerSpringY.target.value-=i.y,r.x!=o.x&&(t.delta.x=0),r.y!=o.y&&(t.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(t.delta.negate()),e.flickEnabled&&!this.constrainDuringPan)}}function b(e){if(!e.preventDefaultAction&&this.viewport){var n=this.gestureSettingsByDeviceType(e.pointerType);if(n.flickEnabled&&e.speed>=n.flickMinSpeed){var i=0;this.panHorizontal&&(i=n.flickMomentum*e.speed*Math.cos(e.direction));var r=0;this.panVertical&&(r=n.flickMomentum*e.speed*Math.sin(e.direction));var o=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),s=this.viewport.pointFromPixel(new t.Point(o.x-i,o.y-r));this.viewport.panTo(s,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{tracker:e.eventSource,position:e.position,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent})}function w(t){this.raiseEvent("canvas-enter",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function _(e){window.location!=window.parent.location&&t.MouseTracker.resetAllMouseTrackers(),this.raiseEvent("canvas-exit",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function x(t){this.raiseEvent("canvas-press",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,insideElementPressed:t.insideElementPressed,insideElementReleased:t.insideElementReleased,originalEvent:t.originalEvent})}function S(t){this.raiseEvent("canvas-release",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,insideElementPressed:t.insideElementPressed,insideElementReleased:t.insideElementReleased,originalEvent:t.originalEvent})}function T(t){this.raiseEvent("canvas-nonprimary-press",{tracker:t.eventSource,position:t.position,pointerType:t.pointerType,button:t.button,buttons:t.buttons,originalEvent:t.originalEvent})}function C(t){this.raiseEvent("canvas-nonprimary-release",{tracker:t.eventSource,position:t.position,pointerType:t.pointerType,button:t.button,buttons:t.buttons,originalEvent:t.originalEvent})}function E(t){var e,n,i,r;if(!t.preventDefaultAction&&this.viewport&&(e=this.gestureSettingsByDeviceType(t.pointerType),e.pinchToZoom&&(n=this.viewport.pointFromPixel(t.center,!0),i=this.viewport.pointFromPixel(t.lastCenter,!0),r=i.minus(n),this.panHorizontal||(r.x=0),this.panVertical||(r.y=0),this.viewport.zoomBy(t.distance/t.lastDistance,n,!0),e.zoomToRefPoint&&this.viewport.panBy(r,!0),this.viewport.applyConstraints()),e.pinchRotate)){var o=Math.atan2(t.gesturePoints[0].currentPos.y-t.gesturePoints[1].currentPos.y,t.gesturePoints[0].currentPos.x-t.gesturePoints[1].currentPos.x),s=Math.atan2(t.gesturePoints[0].lastPos.y-t.gesturePoints[1].lastPos.y,t.gesturePoints[0].lastPos.x-t.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(o-s)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:t.eventSource,gesturePoints:t.gesturePoints,lastCenter:t.lastCenter,center:t.center,lastDistance:t.lastDistance,distance:t.distance,shift:t.shift,originalEvent:t.originalEvent}),!1}function k(e){var n,i,r,o;if(r=t.now(),o=r-this._lastScrollTime,o>this.minScrollDeltaTime){if(this._lastScrollTime=r,this.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x),!e.preventDefaultAction&&this.viewport&&(n=this.gestureSettingsByDeviceType(e.pointerType),n.scrollToZoom&&(i=Math.pow(this.zoomPerScroll,e.scroll),this.viewport.zoomBy(i,n.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints())),this.raiseEvent("canvas-scroll",{tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent}),n&&n.scrollToZoom)return!1}else if(n=this.gestureSettingsByDeviceType(e.pointerType),n&&n.scrollToZoom)return!1}function O(t){e[this.hash].mouseInside=!0,h(this),this.raiseEvent("container-enter",{tracker:t.eventSource,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function A(t){t.pointers<1&&(e[this.hash].mouseInside=!1,e[this.hash].animating||c(this)),this.raiseEvent("container-exit",{tracker:t.eventSource,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function P(t){R(t),t.isOpen()?t._updateRequestId=a(t,P):t._updateRequestId=!1}function R(t){if(!t._opening){if(t.autoResize){var n=i(t.container),r=e[t.hash].prevContainerSize;if(!n.equals(r)){var o=t.viewport;if(t.preserveImageSizeOnResize){var s=r.x/n.x,a=o.getZoom()*s,l=o.getCenter();o.resize(n,!1),o.zoomTo(a,null,!0),o.panTo(l,!0)}else{var u=o.getBounds();o.resize(n,!0),o.fitBoundsWithConstraints(u,!0)}e[t.hash].prevContainerSize=n,e[t.hash].forceRedraw=!0}}var p=t.viewport.update(),f=t.world.update()||p;p&&t.raiseEvent("viewport-change"),t.referenceStrip&&(f=t.referenceStrip.update(t.viewport)||f),!e[t.hash].animating&&f&&(t.raiseEvent("animation-start"),h(t)),(f||e[t.hash].forceRedraw||t.world.needsDraw())&&(I(t),t._drawOverlays(),t.navigator&&t.navigator.update(t.viewport),e[t.hash].forceRedraw=!1,f&&t.raiseEvent("animation")),e[t.hash].animating&&!f&&(t.raiseEvent("animation-finish"),e[t.hash].mouseInside||c(t)),e[t.hash].animating=f}}function I(t){t.imageLoader.clear(),t.drawer.clear(),t.world.draw(),t.raiseEvent("update-viewport",{})}function j(t,e){return t?t+e:e}function L(){e[this.hash].lastZoomTime=t.now(),e[this.hash].zoomFactor=this.zoomPerSecond,e[this.hash].zooming=!0,D(this)}function B(){e[this.hash].lastZoomTime=t.now(),e[this.hash].zoomFactor=1/this.zoomPerSecond,e[this.hash].zooming=!0,D(this)}function F(){e[this.hash].zooming=!1}function D(e){t.requestAnimationFrame(t.delegate(e,N))}function N(){var n,i,r;e[this.hash].zooming&&this.viewport&&(n=t.now(),i=n-e[this.hash].lastZoomTime,r=Math.pow(e[this.hash].zoomFactor,i/1e3),this.viewport.zoomBy(r),this.viewport.applyConstraints(),e[this.hash].lastZoomTime=n,D(this))}function M(){this.viewport&&(e[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function $(){this.viewport&&(e[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function H(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function z(){this.viewport&&this.viewport.goHome()}function q(){this.isFullPage()&&!t.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function U(){if(this.viewport){var e=this.viewport.getRotation();e=this.viewport.flipped?t.positiveModulo(e+this.rotationIncrement,360):t.positiveModulo(e-this.rotationIncrement,360),this.viewport.setRotation(e)}}function V(){if(this.viewport){var e=this.viewport.getRotation();e=this.viewport.flipped?t.positiveModulo(e-this.rotationIncrement,360):t.positiveModulo(e+this.rotationIncrement,360),this.viewport.setRotation(e)}}function W(){this.viewport.toggleFlip()}function G(){var t=this._sequenceIndex-1;this.navPrevNextWrap&&t<0&&(t+=this.tileSources.length),this.goToPage(t)}function Z(){var t=this._sequenceIndex+1;this.navPrevNextWrap&&t>=this.tileSources.length&&(t=0),this.goToPage(t)}t.Viewer=function(r){var o,s=arguments,l=this;if(t.isPlainObject(r)||(r={id:s[0],xmlPath:s.length>1?s[1]:void 0,prefixUrl:s.length>2?s[2]:void 0,controls:s.length>3?s[3]:void 0,overlays:s.length>4?s[4]:void 0}),r.config&&(t.extend(!0,r,r.config),delete r.config),t.extend(!0,this,{id:r.id,hash:r.hash||n++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},t.DEFAULT_SETTINGS,r),"undefined"===typeof this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for("undefined"!==typeof e[this.hash]&&t.console.warn("Hash "+this.hash+" has already been used."),e[this.hash]={fsBoundsDelta:new t.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=t.now(),t.EventSource.call(this),this.addHandler("open-failed",(function(e){var n=t.getString("Errors.OpenFailed",e.eventSource,e.message);l._showMessage(n)})),t.ControlDock.call(this,r),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=t.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(t){t.width="100%",t.height="100%",t.overflow="hidden",t.position="absolute",t.top="0px",t.left="0px"}(this.canvas.style),t.setElementTouchActionNone(this.canvas),""!==r.tabIndex&&(this.canvas.tabIndex=void 0===r.tabIndex?0:r.tabIndex),this.container.className="openseadragon-container",function(t){t.width="100%",t.height="100%",t.position="relative",t.overflow="hidden",t.left="0px",t.top="0px",t.textAlign="left"}(this.container.style),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new t.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:t.delegate(this,d),keyHandler:t.delegate(this,g),clickHandler:t.delegate(this,v),dblClickHandler:t.delegate(this,m),dragHandler:t.delegate(this,y),dragEndHandler:t.delegate(this,b),enterHandler:t.delegate(this,w),exitHandler:t.delegate(this,_),pressHandler:t.delegate(this,x),releaseHandler:t.delegate(this,S),nonPrimaryPressHandler:t.delegate(this,T),nonPrimaryReleaseHandler:t.delegate(this,C),scrollHandler:t.delegate(this,k),pinchHandler:t.delegate(this,E)}),this.outerTracker=new t.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:t.delegate(this,O),exitHandler:t.delegate(this,A)}),this.toolbar&&(this.toolbar=new t.ControlDock({element:this.toolbar})),this.bindStandardControls(),e[this.hash].prevContainerSize=i(this.container),this.world=new t.World({viewer:this}),this.world.addHandler("add-item",(function(t){l.source=l.world.getItemAt(0).source,e[l.hash].forceRedraw=!0,l._updateRequestId||(l._updateRequestId=a(l,P))})),this.world.addHandler("remove-item",(function(t){l.world.getItemCount()?l.source=l.world.getItemAt(0).source:l.source=null,e[l.hash].forceRedraw=!0})),this.world.addHandler("metrics-change",(function(t){l.viewport&&l.viewport._setContentBounds(l.world.getHomeBounds(),l.world.getContentFactor())})),this.world.addHandler("item-index-change",(function(t){l.source=l.world.getItemAt(0).source})),this.viewport=new t.Viewport({containerSize:e[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new t.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:r.timeout}),this.tileCache=new t.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new t.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=t.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(o=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(o,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(o=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(o,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new t.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),o=0;o<this.customControls.length;o++)this.addControl(this.customControls[o].id,{anchor:this.customControls[o].anchor});t.requestAnimationFrame((function(){c(l)})),void 0===this.imageSmoothingEnabled||this.imageSmoothingEnabled||this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled)},t.extend(t.Viewer.prototype,t.EventSource.prototype,t.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(e){return t.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(e)},openTileSource:function(e){return t.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(e)},open:function(e,n){var i=this;if(this.close(),e){if(this.sequenceMode&&t.isArray(e))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),"undefined"==typeof n||isNaN(n)||(this.initialPage=n),this.tileSources=e,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),void this._updateSequenceButtons(this._sequenceIndex);if(t.isArray(e)||(e=[e]),e.length){this._opening=!0;for(var r,s=e.length,a=0,l=0,c=function(){if(a+l===s)if(a){!i._firstOpen&&i.preserveViewport||(i.viewport.goHome(!0),i.viewport.update()),i._firstOpen=!1;var t=e[0];if(t.tileSource&&(t=t.tileSource),i.overlays&&!i.preserveOverlays)for(var n=0;n<i.overlays.length;n++)i.currentOverlays[n]=o(i,i.overlays[n]);i._drawOverlays(),i._opening=!1,i.raiseEvent("open",{source:t})}else i._opening=!1,i.raiseEvent("open-failed",r)},u=function(e){t.isPlainObject(e)&&e.tileSource||(e={tileSource:e}),void 0!==e.index&&(t.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete e.index),void 0===e.collectionImmediately&&(e.collectionImmediately=!0);var n=e.success;e.success=function(t){if(a++,e.tileSource.overlays)for(var r=0;r<e.tileSource.overlays.length;r++)i.addOverlay(e.tileSource.overlays[r]);n&&n(t),c()};var o=e.error;e.error=function(t){l++,r||(r=t),o&&o(t),c()},i.addTiledImage(e)},h=0;h<e.length;h++)u(e[h]);return this}}},close:function(){return e[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),e[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(e[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(t.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)while(this.element.firstChild)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),e[this.hash]=null,delete e[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(t){return this.innerTracker.setTracking(t),this.outerTracker.setTracking(t),this.raiseEvent("mouse-enabled",{enabled:t}),this},areControlsEnabled:function(){var t,e=this.controls.length;for(t=0;t<this.controls.length;t++)e=e&&this.controls[t].isVisible();return e},setControlsEnabled:function(t){return t?h(this):c(this),this.raiseEvent("controls-enabled",{enabled:t}),this},setDebugMode:function(t){for(var e=0;e<this.world.getItemCount();e++)this.world.getItemAt(e).debugMode=t;this.debugMode=t,this.forceRedraw()},isFullPage:function(){return e[this.hash].fullPage},setFullPage:function(n){var i,r,o=document.body,s=o.style,a=document.documentElement.style,l=this;if(n==this.isFullPage())return this;var c={fullPage:n,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",c),c.preventDefaultAction)return this;if(n){for(this.elementSize=t.getElementSize(this.element),this.pageScroll=t.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=s.margin,this.docMargin=a.margin,s.margin="0",a.margin="0",this.bodyPadding=s.padding,this.docPadding=a.padding,s.padding="0",a.padding="0",this.bodyWidth=s.width,this.docWidth=a.width,s.width="100%",a.width="100%",this.bodyHeight=s.height,this.docHeight=a.height,s.height="100%",a.height="100%",this.previousBody=[],e[this.hash].prevElementParent=this.element.parentNode,e[this.hash].prevNextSibling=this.element.nextSibling,e[this.hash].prevElementWidth=this.element.style.width,e[this.hash].prevElementHeight=this.element.style.height,i=o.childNodes.length,r=0;r<i;r++)this.previousBody.push(o.childNodes[0]),o.removeChild(o.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,o.appendChild(this.toolbar.element),t.addClass(this.toolbar.element,"fullpage")),t.addClass(this.element,"fullpage"),o.appendChild(this.element),this.element.style.height=t.getWindowSize().y+"px",this.element.style.width=t.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=t.getElementSize(this.element).y-t.getElementSize(this.toolbar.element).y+"px"),e[this.hash].fullPage=!0,t.delegate(this,O)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,s.margin=this.bodyMargin,a.margin=this.docMargin,s.padding=this.bodyPadding,a.padding=this.docPadding,s.width=this.bodyWidth,a.width=this.docWidth,s.height=this.bodyHeight,a.height=this.docHeight,o.removeChild(this.element),i=this.previousBody.length,r=0;r<i;r++)o.appendChild(this.previousBody.shift());t.removeClass(this.element,"fullpage"),e[this.hash].prevElementParent.insertBefore(this.element,e[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(o.removeChild(this.toolbar.element),t.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=e[this.hash].prevElementWidth,this.element.style.height=e[this.hash].prevElementHeight;var u=0,h=function(){t.setPageScroll(l.pageScroll);var e=t.getPageScroll();u++,u<10&&(e.x!==l.pageScroll.x||e.y!==l.pageScroll.y)&&t.requestAnimationFrame(h)};t.requestAnimationFrame(h),e[this.hash].fullPage=!1,t.delegate(this,A)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:n}),this},setFullScreen:function(e){var n=this;if(!t.supportsFullScreen)return this.setFullPage(e);if(t.isFullScreen()===e)return this;var i={fullScreen:e,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",i),i.preventDefaultAction)return this;if(e){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var r=function(){var e=t.isFullScreen();e||(t.removeEvent(document,t.fullScreenEventName,r),t.removeEvent(document,t.fullScreenErrorEventName,r),n.setFullPage(!1),n.isFullPage()&&(n.element.style.width=n.fullPageStyleWidth,n.element.style.height=n.fullPageStyleHeight)),n.navigator&&n.viewport&&setTimeout((function(){n.navigator.update(n.viewport)})),n.raiseEvent("full-screen",{fullScreen:e})};t.addEvent(document,t.fullScreenEventName,r),t.addEvent(document,t.fullScreenErrorEventName,r),t.requestFullScreen(document.body)}else t.exitFullScreen();return this},isVisible:function(){return"hidden"!=this.container.style.visibility},setVisible:function(t){return this.container.style.visibility=t?"":"hidden",this.raiseEvent("visible",{visible:t}),this},addTiledImage:function(e){t.console.assert(e,"[Viewer.addTiledImage] options is required"),t.console.assert(e.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),t.console.assert(!e.replace||e.index>-1&&e.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var n=this;e.replace&&(e.replaceItem=n.world.getItemAt(e.index)),this._hideMessage(),void 0===e.placeholderFillStyle&&(e.placeholderFillStyle=this.placeholderFillStyle),void 0===e.opacity&&(e.opacity=this.opacity),void 0===e.preload&&(e.preload=this.preload),void 0===e.compositeOperation&&(e.compositeOperation=this.compositeOperation),void 0===e.crossOriginPolicy&&(e.crossOriginPolicy=void 0!==e.tileSource.crossOriginPolicy?e.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===e.ajaxWithCredentials&&(e.ajaxWithCredentials=this.ajaxWithCredentials),void 0===e.loadTilesWithAjax&&(e.loadTilesWithAjax=this.loadTilesWithAjax),void 0===e.ajaxHeaders||null===e.ajaxHeaders?e.ajaxHeaders=this.ajaxHeaders:t.isPlainObject(e.ajaxHeaders)&&t.isPlainObject(this.ajaxHeaders)&&(e.ajaxHeaders=t.extend({},this.ajaxHeaders,e.ajaxHeaders));var i={options:e};function o(t){for(var r=0;r<n._loadQueue.length;r++)if(n._loadQueue[r]===i){n._loadQueue.splice(r,1);break}0===n._loadQueue.length&&s(i),n.raiseEvent("add-item-failed",t),e.error&&e.error(t)}function s(t){n.collectionMode&&(n.world.arrange({immediately:t.options.collectionImmediately,rows:n.collectionRows,columns:n.collectionColumns,layout:n.collectionLayout,tileSize:n.collectionTileSize,tileMargin:n.collectionTileMargin}),n.world.setAutoRefigureSizes(!0))}function a(){var e,i,r;while(n._loadQueue.length){if(e=n._loadQueue[0],!e.tileSource)break;if(n._loadQueue.splice(0,1),e.options.replace){var o=n.world.getIndexOfItem(e.options.replaceItem);-1!=o&&(e.options.index=o),n.world.removeItem(e.options.replaceItem)}i=new t.TiledImage({viewer:n,source:e.tileSource,viewport:n.viewport,drawer:n.drawer,tileCache:n.tileCache,imageLoader:n.imageLoader,x:e.options.x,y:e.options.y,width:e.options.width,height:e.options.height,fitBounds:e.options.fitBounds,fitBoundsPlacement:e.options.fitBoundsPlacement,clip:e.options.clip,placeholderFillStyle:e.options.placeholderFillStyle,opacity:e.options.opacity,preload:e.options.preload,degrees:e.options.degrees,compositeOperation:e.options.compositeOperation,springStiffness:n.springStiffness,animationTime:n.animationTime,minZoomImageRatio:n.minZoomImageRatio,wrapHorizontal:n.wrapHorizontal,wrapVertical:n.wrapVertical,immediateRender:n.immediateRender,blendTime:n.blendTime,alwaysBlend:n.alwaysBlend,minPixelRatio:n.minPixelRatio,smoothTileEdgesMinZoom:n.smoothTileEdgesMinZoom,iOSDevice:n.iOSDevice,crossOriginPolicy:e.options.crossOriginPolicy,ajaxWithCredentials:e.options.ajaxWithCredentials,loadTilesWithAjax:e.options.loadTilesWithAjax,ajaxHeaders:e.options.ajaxHeaders,debugMode:n.debugMode}),n.collectionMode&&n.world.setAutoRefigureSizes(!1),n.world.addItem(i,{index:e.options.index}),0===n._loadQueue.length&&s(e),1!==n.world.getItemCount()||n.preserveViewport||n.viewport.goHome(!0),n.navigator&&(r=t.extend({},e.options,{replace:!1,originalTiledImage:i,tileSource:e.tileSource}),n.navigator.addTiledImage(r)),e.options.success&&e.options.success({item:i})}}t.isArray(e.tileSource)?setTimeout((function(){o({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:e.tileSource,options:e})})):(this._loadQueue.push(i),r(this,e.tileSource,e,(function(t){i.tileSource=t,a()}),(function(t){t.options=e,o(t),a()})))},addSimpleImage:function(e){t.console.assert(e,"[Viewer.addSimpleImage] options is required"),t.console.assert(e.url,"[Viewer.addSimpleImage] options.url is required");var n=t.extend({},e,{tileSource:{type:"image",url:e.url}});delete n.url,this.addTiledImage(n)},addLayer:function(e){var n=this;t.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var i=t.extend({},e,{success:function(t){n.raiseEvent("add-layer",{options:e,drawer:t.item})},error:function(t){n.raiseEvent("add-layer-failed",t)}});return this.addTiledImage(i),this},getLayerAtLevel:function(e){return t.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(e)},getLevelOfLayer:function(e){return t.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(e)},getLayersCount:function(){return t.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(e,n){return t.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(e,n)},removeLayer:function(e){return t.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(e)},forceRedraw:function(){return e[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var e=t.delegate(this,p),n=t.delegate(this,f),i=t.delegate(this,Z),r=t.delegate(this,G),o=this.navImages,s=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(s=!1),this.previousButton=new t.Button({element:this.previousButton?t.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.PreviousPage"),srcRest:j(this.prefixUrl,o.previous.REST),srcGroup:j(this.prefixUrl,o.previous.GROUP),srcHover:j(this.prefixUrl,o.previous.HOVER),srcDown:j(this.prefixUrl,o.previous.DOWN),onRelease:r,onFocus:e,onBlur:n}),this.nextButton=new t.Button({element:this.nextButton?t.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.NextPage"),srcRest:j(this.prefixUrl,o.next.REST),srcGroup:j(this.prefixUrl,o.next.GROUP),srcHover:j(this.prefixUrl,o.next.HOVER),srcDown:j(this.prefixUrl,o.next.DOWN),onRelease:i,onFocus:e,onBlur:n}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),s&&(this.paging=new t.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:t.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||t.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var e=t.delegate(this,L),n=t.delegate(this,F),i=t.delegate(this,M),r=t.delegate(this,B),o=t.delegate(this,$),s=t.delegate(this,z),a=t.delegate(this,q),l=t.delegate(this,U),c=t.delegate(this,V),u=t.delegate(this,W),h=t.delegate(this,p),d=t.delegate(this,f),g=this.navImages,v=[],m=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(m=!1),this.showZoomControl&&(v.push(this.zoomInButton=new t.Button({element:this.zoomInButton?t.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomIn"),srcRest:j(this.prefixUrl,g.zoomIn.REST),srcGroup:j(this.prefixUrl,g.zoomIn.GROUP),srcHover:j(this.prefixUrl,g.zoomIn.HOVER),srcDown:j(this.prefixUrl,g.zoomIn.DOWN),onPress:e,onRelease:n,onClick:i,onEnter:e,onExit:n,onFocus:h,onBlur:d})),v.push(this.zoomOutButton=new t.Button({element:this.zoomOutButton?t.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomOut"),srcRest:j(this.prefixUrl,g.zoomOut.REST),srcGroup:j(this.prefixUrl,g.zoomOut.GROUP),srcHover:j(this.prefixUrl,g.zoomOut.HOVER),srcDown:j(this.prefixUrl,g.zoomOut.DOWN),onPress:r,onRelease:n,onClick:o,onEnter:r,onExit:n,onFocus:h,onBlur:d}))),this.showHomeControl&&v.push(this.homeButton=new t.Button({element:this.homeButton?t.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Home"),srcRest:j(this.prefixUrl,g.home.REST),srcGroup:j(this.prefixUrl,g.home.GROUP),srcHover:j(this.prefixUrl,g.home.HOVER),srcDown:j(this.prefixUrl,g.home.DOWN),onRelease:s,onFocus:h,onBlur:d})),this.showFullPageControl&&v.push(this.fullPageButton=new t.Button({element:this.fullPageButton?t.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.FullPage"),srcRest:j(this.prefixUrl,g.fullpage.REST),srcGroup:j(this.prefixUrl,g.fullpage.GROUP),srcHover:j(this.prefixUrl,g.fullpage.HOVER),srcDown:j(this.prefixUrl,g.fullpage.DOWN),onRelease:a,onFocus:h,onBlur:d})),this.showRotationControl&&(v.push(this.rotateLeftButton=new t.Button({element:this.rotateLeftButton?t.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateLeft"),srcRest:j(this.prefixUrl,g.rotateleft.REST),srcGroup:j(this.prefixUrl,g.rotateleft.GROUP),srcHover:j(this.prefixUrl,g.rotateleft.HOVER),srcDown:j(this.prefixUrl,g.rotateleft.DOWN),onRelease:l,onFocus:h,onBlur:d})),v.push(this.rotateRightButton=new t.Button({element:this.rotateRightButton?t.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateRight"),srcRest:j(this.prefixUrl,g.rotateright.REST),srcGroup:j(this.prefixUrl,g.rotateright.GROUP),srcHover:j(this.prefixUrl,g.rotateright.HOVER),srcDown:j(this.prefixUrl,g.rotateright.DOWN),onRelease:c,onFocus:h,onBlur:d}))),this.showFlipControl&&v.push(this.flipButton=new t.Button({element:this.flipButton?t.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Flip"),srcRest:j(this.prefixUrl,g.flip.REST),srcGroup:j(this.prefixUrl,g.flip.GROUP),srcHover:j(this.prefixUrl,g.flip.HOVER),srcDown:j(this.prefixUrl,g.flip.DOWN),onRelease:u,onFocus:h,onBlur:d})),m&&(this.buttons=new t.ButtonGroup({buttons:v,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",t.delegate(this,H)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function(t){return this.tileSources&&t>=0&&t<this.tileSources.length&&(this._sequenceIndex=t,this._updateSequenceButtons(t),this.open(this.tileSources[t]),this.referenceStrip&&this.referenceStrip.setFocus(t),this.raiseEvent("page",{page:t})),this},addOverlay:function(e,n,i,r){var a;if(a=t.isPlainObject(e)?e:{element:e,location:n,placement:i,onDraw:r},e=t.getElement(a.element),s(this.currentOverlays,e)>=0)return this;var l=o(this,a);return this.currentOverlays.push(l),l.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:e,location:a.location,placement:a.placement}),this},updateOverlay:function(n,i,r){var o;return n=t.getElement(n),o=s(this.currentOverlays,n),o>=0&&(this.currentOverlays[o].update(i,r),e[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:n,location:i,placement:r})),this},removeOverlay:function(n){var i;return n=t.getElement(n),i=s(this.currentOverlays,n),i>=0&&(this.currentOverlays[i].destroy(),this.currentOverlays.splice(i,1),e[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:n})),this},clearOverlays:function(){while(this.currentOverlays.length>0)this.currentOverlays.pop().destroy();return e[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(e){var n;return e=t.getElement(e),n=s(this.currentOverlays,e),n>=0?this.currentOverlays[n]:null},_updateSequenceButtons:function(t){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==t?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(t>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(e){this._hideMessage();var n=t.makeNeutralElement("div");n.appendChild(document.createTextNode(e)),this.messageDiv=t.makeCenteredNode(n),t.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var t=this.messageDiv;t&&(t.parentNode.removeChild(t),delete this.messageDiv)},gestureSettingsByDeviceType:function(t){switch(t){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var t,e=this.currentOverlays.length;for(t=0;t<e;t++)this.currentOverlays[t].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new t.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else t.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')}})}(OpenSeadragon),function(t){function e(t){var e={tracker:t.eventSource,position:t.position,quick:t.quick,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction};if(this.viewer.raiseEvent("navigator-click",e),!e.preventDefaultAction&&t.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(t.position.x=this.viewport.getContainerSize().x-t.position.x);var n=this.viewport.pointFromPixel(t.position);this.panVertical?this.panHorizontal||(n.x=this.viewer.viewport.getCenter(!0).x):n.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(n),this.viewer.viewport.applyConstraints()}}function n(t){var e={tracker:t.eventSource,position:t.position,delta:t.delta,speed:t.speed,direction:t.direction,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction};this.viewer.raiseEvent("navigator-drag",e),!e.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(t.delta.x=0),this.panVertical||(t.delta.y=0),this.viewer.viewport.flipped&&(t.delta.x=-t.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(t.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function i(t){t.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function r(t){return this.viewer.raiseEvent("navigator-scroll",{tracker:t.eventSource,position:t.position,scroll:t.scroll,shift:t.shift,originalEvent:t.originalEvent}),!1}function o(t,e){s(t,"rotate("+e+"deg)")}function s(t,e){t.style.webkitTransform=e,t.style.mozTransform=e,t.style.msTransform=e,t.style.oTransform=e,t.style.transform=e}t.Navigator=function(s){var a,l,c=s.viewer,u=this;function h(t){o(u.displayRegionContainer,t),o(u.displayRegion,-t),u.viewport.setRotation(t)}if(s.id?(this.element=document.getElementById(s.id),s.controlOptions={anchor:t.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(s.id="navigator-"+t.now(),this.element=t.makeNeutralElement("div"),s.controlOptions={anchor:t.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:s.autoFade},s.position&&("BOTTOM_RIGHT"==s.position?s.controlOptions.anchor=t.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"==s.position?s.controlOptions.anchor=t.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"==s.position?s.controlOptions.anchor=t.ControlAnchor.TOP_RIGHT:"TOP_LEFT"==s.position?s.controlOptions.anchor=t.ControlAnchor.TOP_LEFT:"ABSOLUTE"==s.position&&(s.controlOptions.anchor=t.ControlAnchor.ABSOLUTE,s.controlOptions.top=s.top,s.controlOptions.left=s.left,s.controlOptions.height=s.height,s.controlOptions.width=s.width))),this.element.id=s.id,this.element.className+=" navigator",s=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.navigatorSizeRatio},s,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:s.autoResize,minZoomImageRatio:1,background:s.background,opacity:s.opacity,borderColor:s.borderColor,displayRegionColor:s.displayRegionColor}),s.minPixelRatio=this.minPixelRatio=c.minPixelRatio,t.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new t.Point(1,1),this.totalBorderWidths=new t.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),s.controlOptions.anchor!=t.ControlAnchor.NONE&&function(t,e){t.margin="0px",t.border=e+"px solid "+s.borderColor,t.padding="0px",t.background=s.background,t.opacity=s.opacity,t.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=t.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(t,e){t.position="relative",t.top="0px",t.left="0px",t.fontSize="0px",t.overflow="hidden",t.border=e+"px solid "+s.displayRegionColor,t.margin="0px",t.padding="0px",t.background="transparent",t["float"]="left",t.cssFloat="left",t.styleFloat="left",t.zIndex=999999999,t.cursor="default"}(this.displayRegion.style,this.borderWidth),this.displayRegionContainer=t.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",c.addControl(this.element,s.controlOptions),this._resizeWithViewer=s.controlOptions.anchor!=t.ControlAnchor.ABSOLUTE&&s.controlOptions.anchor!=t.ControlAnchor.NONE,s.width&&s.height?(this.setWidth(s.width),this.setHeight(s.height)):this._resizeWithViewer&&(a=t.getElementSize(c.element),this.element.style.height=Math.round(a.y*s.sizeRatio)+"px",this.element.style.width=Math.round(a.x*s.sizeRatio)+"px",this.oldViewerSize=a,l=t.getElementSize(this.element),this.elementArea=l.x*l.y),this.oldContainerSize=new t.Point(0,0),t.Viewer.apply(this,[s]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),s.navigatorRotate){var p=s.viewer.viewport?s.viewer.viewport.getRotation():s.viewer.degrees||0;h(p),s.viewer.addHandler("rotate",(function(t){h(t.degrees)}))}this.innerTracker.destroy(),this.innerTracker=new t.MouseTracker({element:this.element,dragHandler:t.delegate(this,n),clickHandler:t.delegate(this,e),releaseHandler:t.delegate(this,i),scrollHandler:t.delegate(this,r)}),this.addHandler("reset-size",(function(){u.viewport&&u.viewport.goHome(!0)})),c.world.addHandler("item-index-change",(function(t){window.setTimeout((function(){var e=u.world.getItemAt(t.previousIndex);u.world.setItemIndex(e,t.newIndex)}),1)})),c.world.addHandler("remove-item",(function(t){var e=t.item,n=u._getMatchingItem(e);n&&u.world.removeItem(n)})),this.update(c.viewport)},t.extend(t.Navigator.prototype,t.EventSource.prototype,t.Viewer.prototype,{updateSize:function(){if(this.viewport){var e=new t.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);e.equals(this.oldContainerSize)||(this.viewport.resize(e,!0),this.viewport.goHome(!0),this.oldContainerSize=e,this.drawer.clear(),this.world.draw())}},setWidth:function(t){this.width=t,this.element.style.width="number"==typeof t?t+"px":t,this._resizeWithViewer=!1},setHeight:function(t){this.height=t,this.element.style.height="number"==typeof t?t+"px":t,this._resizeWithViewer=!1},setFlip:function(t){return this.viewport.setFlip(t),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(t){s(this.displayRegion,t),s(this.canvas,t),s(this.element,t)},update:function(e){var n,i,r,o,s,a;if(n=t.getElementSize(this.viewer.element),this._resizeWithViewer&&n.x&&n.y&&!n.equals(this.oldViewerSize)&&(this.oldViewerSize=n,this.maintainSizeRatio||!this.elementArea?(i=n.x*this.sizeRatio,r=n.y*this.sizeRatio):(i=Math.sqrt(this.elementArea*(n.x/n.y)),r=this.elementArea/i),this.element.style.width=Math.round(i)+"px",this.element.style.height=Math.round(r)+"px",this.elementArea||(this.elementArea=i*r),this.updateSize()),e&&this.viewport){o=e.getBoundsNoRotate(!0),s=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!1),a=this.viewport.pixelFromPointNoRotate(o.getBottomRight(),!1).minus(this.totalBorderWidths);var l=this.displayRegion.style;l.display=this.world.getItemCount()?"block":"none",l.top=Math.round(s.y)+"px",l.left=Math.round(s.x)+"px";var c=Math.abs(s.x-a.x),u=Math.abs(s.y-a.y);l.width=Math.round(Math.max(c,0))+"px",l.height=Math.round(Math.max(u,0))+"px"}},addTiledImage:function(e){var n=this,i=e.originalTiledImage;delete e.original;var r=t.extend({},e,{success:function(t){var e=t.item;function r(){n._matchBounds(e,i)}function o(){n._matchOpacity(e,i)}function s(){n._matchCompositeOperation(e,i)}e._originalForNavigator=i,n._matchBounds(e,i,!0),i.addHandler("bounds-change",r),i.addHandler("clip-change",r),i.addHandler("opacity-change",o),i.addHandler("composite-operation-change",s)}});return t.Viewer.prototype.addTiledImage.apply(this,[r])},_getMatchingItem:function(t){for(var e,n=this.world.getItemCount(),i=0;i<n;i++)if(e=this.world.getItemAt(i),e._originalForNavigator===t)return e;return null},_matchBounds:function(t,e,n){var i=e.getBoundsNoRotate();t.setPosition(i.getTopLeft(),n),t.setWidth(i.width,n),t.setRotation(e.getRotation(),n),t.setClip(e.getClip())},_matchOpacity:function(t,e){t.setOpacity(e.opacity)},_matchCompositeOperation:function(t,e){t.setCompositeOperation(e.compositeOperation)}})}(OpenSeadragon),function(t){var e={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};t.extend(t,{getString:function(n){var i,r=n.split("."),o=null,s=arguments,a=e;for(i=0;i<r.length-1;i++)a=a[r[i]]||{};return o=a[r[i]],"string"!=typeof o&&(t.console.log("Untranslated source string:",n),o=""),o.replace(/\{\d+\}/g,(function(t){var e=parseInt(t.match(/\d+/),10)+1;return e<s.length?s[e]:""}))},setString:function(t,n){var i,r=t.split("."),o=e;for(i=0;i<r.length-1;i++)o[r[i]]||(o[r[i]]={}),o=o[r[i]];o[r[i]]=n}})}(OpenSeadragon),function(t){t.Point=function(t,e){this.x="number"==typeof t?t:0,this.y="number"==typeof e?e:0},t.Point.prototype={clone:function(){return new t.Point(this.x,this.y)},plus:function(e){return new t.Point(this.x+e.x,this.y+e.y)},minus:function(e){return new t.Point(this.x-e.x,this.y-e.y)},times:function(e){return new t.Point(this.x*e,this.y*e)},divide:function(e){return new t.Point(this.x/e,this.y/e)},negate:function(){return new t.Point(-this.x,-this.y)},distanceTo:function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},squaredDistanceTo:function(t){return Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2)},apply:function(e){return new t.Point(e(this.x),e(this.y))},equals:function(e){return e instanceof t.Point&&this.x===e.x&&this.y===e.y},rotate:function(e,n){var i,r;if(n=n||new t.Point(0,0),e%90===0){var o=t.positiveModulo(e,360);switch(o){case 0:i=1,r=0;break;case 90:i=0,r=1;break;case 180:i=-1,r=0;break;case 270:i=0,r=-1;break}}else{var s=e*Math.PI/180;i=Math.cos(s),r=Math.sin(s)}var a=i*(this.x-n.x)-r*(this.y-n.y)+n.x,l=r*(this.x-n.x)+i*(this.y-n.y)+n.y;return new t.Point(a,l)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(OpenSeadragon),function(t){function e(e){var n,i,r=e.responseText,o=e.status;if(!e)throw new Error(t.getString("Errors.Security"));if(200!==e.status&&0!==e.status)throw o=e.status,n=404==o?"Not Found":e.statusText,new Error(t.getString("Errors.Status",o,n));if(r.match(/\s*<.*/))try{i=e.responseXML&&e.responseXML.documentElement?e.responseXML:t.parseXml(r)}catch(s){i=e.responseText}else if(r.match(/\s*[\{\[].*/))try{i=t.parseJSON(r)}catch(s){i=r}else i=r;return i}t.TileSource=function(e,n,i,r,o,s){var a,l,c=this,u=arguments;if(a=t.isPlainObject(e)?e:{width:u[0],height:u[1],tileSize:u[2],tileOverlap:u[3],minLevel:u[4],maxLevel:u[5]},t.EventSource.call(this),t.extend(!0,this,a),!this.success)for(l=0;l<arguments.length;l++)if(t.isFunction(arguments[l])){this.success=arguments[l];break}this.success&&this.addHandler("ready",(function(t){c.success(t)})),"string"==t.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new t.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=a.width&&a.height?a.width/a.height:1,this.dimensions=new t.Point(a.width,a.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=a.tileOverlap?a.tileOverlap:0,this.minLevel=a.minLevel?a.minLevel:0,this.maxLevel=void 0!==a.maxLevel&&null!==a.maxLevel?a.maxLevel:a.width&&a.height?Math.ceil(Math.log(Math.max(a.width,a.height))/Math.log(2)):0,this.success&&t.isFunction(this.success)&&this.success(this))},t.TileSource.prototype={getTileSize:function(e){return t.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(t){return this._tileWidth?this._tileWidth:this.getTileSize(t)},getTileHeight:function(t){return this._tileHeight?this._tileHeight:this.getTileSize(t)},getLevelScale:function(t){var e,n={};for(e=0;e<=this.maxLevel;e++)n[e]=1/Math.pow(2,this.maxLevel-e);return this.getLevelScale=function(t){return n[t]},this.getLevelScale(t)},getNumTiles:function(e){var n=this.getLevelScale(e),i=Math.ceil(n*this.dimensions.x/this.getTileWidth(e)),r=Math.ceil(n*this.dimensions.y/this.getTileHeight(e));return new t.Point(i,r)},getPixelRatio:function(e){var n=this.dimensions.times(this.getLevelScale(e)),i=1/n.x,r=1/n.y;return new t.Point(i,r)},getClosestLevel:function(){var t,e;for(t=this.minLevel+1;t<=this.maxLevel;t++)if(e=this.getNumTiles(t),e.x>1||e.y>1)break;return t-1},getTileAtPoint:function(e,n){var i=n.x>=0&&n.x<=1&&n.y>=0&&n.y<=1/this.aspectRatio;t.console.assert(i,"[TileSource.getTileAtPoint] must be called with a valid point.");var r=this.dimensions.x*this.getLevelScale(e),o=n.x*r,s=n.y*r,a=Math.floor(o/this.getTileWidth(e)),l=Math.floor(s/this.getTileHeight(e));n.x>=1&&(a=this.getNumTiles(e).x-1);var c=1e-15;return n.y>=1/this.aspectRatio-c&&(l=this.getNumTiles(e).y-1),new t.Point(a,l)},getTileBounds:function(e,n,i,r){var o=this.dimensions.times(this.getLevelScale(e)),s=this.getTileWidth(e),a=this.getTileHeight(e),l=0===n?0:s*n-this.tileOverlap,c=0===i?0:a*i-this.tileOverlap,u=s+(0===n?1:2)*this.tileOverlap,h=a+(0===i?1:2)*this.tileOverlap,p=1/o.x;return u=Math.min(u,o.x-l),h=Math.min(h,o.y-c),r?new t.Rect(0,0,u,h):new t.Rect(l*p,c*p,u*p,h*p)},getImageInfo:function(n){var i,r,o,s,a,l,c,u=this;n&&(a=n.split("/"),l=a[a.length-1],c=l.lastIndexOf("."),c>-1&&(a[a.length-1]=l.slice(0,c))),r=function(e){"string"===typeof e&&(e=t.parseXml(e));var i=t.TileSource.determineType(u,e,n);i?(s=i.prototype.configure.apply(u,[e,n]),void 0===s.ajaxWithCredentials&&(s.ajaxWithCredentials=u.ajaxWithCredentials),o=new i(s),u.ready=!0,u.raiseEvent("ready",{tileSource:o})):u.raiseEvent("open-failed",{message:"Unable to load TileSource",source:n})},n.match(/\.js$/)?(i=n.split("/").pop().replace(".js",""),t.jsonp({url:n,async:!1,callbackName:i,callback:r})):t.makeAjaxRequest({url:n,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(t){var n=e(t);r(n)},error:function(t,e){var i;try{i="HTTP "+t.status+" attempting to load TileSource"}catch(o){var r;r="undefined"!=typeof e&&e.toString?e.toString():"Unknown error",i=r+" attempting to load TileSource"}u.raiseEvent("open-failed",{message:i,source:n})}})},supports:function(t,e){return!1},configure:function(t,e){throw new Error("Method not implemented.")},getTileUrl:function(t,e,n){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(t,e,n){return{}},tileExists:function(t,e,n){var i=this.getNumTiles(t);return t>=this.minLevel&&t<=this.maxLevel&&e>=0&&n>=0&&e<i.x&&n<i.y}},t.extend(!0,t.TileSource.prototype,t.EventSource.prototype),t.TileSource.determineType=function(e,n,i){var r;for(r in OpenSeadragon)if(r.match(/.+TileSource$/)&&t.isFunction(OpenSeadragon[r])&&t.isFunction(OpenSeadragon[r].prototype.supports)&&OpenSeadragon[r].prototype.supports.call(e,n,i))return OpenSeadragon[r];t.console.error("No TileSource was able to open %s %s",i,n)}}(OpenSeadragon),function(t){function e(e,i){if(!i||!i.documentElement)throw new Error(t.getString("Errors.Xml"));var r,o,s,a,l,c=i.documentElement,u=c.localName||c.tagName,h=i.documentElement.namespaceURI,p=null,f=[];if("Image"==u)try{if(a=c.getElementsByTagName("Size")[0],void 0===a&&(a=c.getElementsByTagNameNS(h,"Size")[0]),p={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:c.getAttribute("Url"),Format:c.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(c.getAttribute("Overlap"),10),TileSize:parseInt(c.getAttribute("TileSize"),10),Size:{Height:parseInt(a.getAttribute("Height"),10),Width:parseInt(a.getAttribute("Width"),10)}}},!t.imageFormatSupported(p.Image.Format))throw new Error(t.getString("Errors.ImageFormat",p.Image.Format.toUpperCase()));for(r=c.getElementsByTagName("DisplayRect"),void 0===r&&(r=c.getElementsByTagNameNS(h,"DisplayRect")[0]),l=0;l<r.length;l++)o=r[l],s=o.getElementsByTagName("Rect")[0],void 0===s&&(s=o.getElementsByTagNameNS(h,"Rect")[0]),f.push({Rect:{X:parseInt(s.getAttribute("X"),10),Y:parseInt(s.getAttribute("Y"),10),Width:parseInt(s.getAttribute("Width"),10),Height:parseInt(s.getAttribute("Height"),10),MinLevel:parseInt(o.getAttribute("MinLevel"),10),MaxLevel:parseInt(o.getAttribute("MaxLevel"),10)}});return f.length&&(p.Image.DisplayRect=f),n(e,p)}catch(v){throw v instanceof Error?v:new Error(t.getString("Errors.Dzi"))}else{if("Collection"==u)throw new Error(t.getString("Errors.Dzc"));if("Error"==u){var d=c.getElementsByTagName("Message")[0],g=d.firstChild.nodeValue;throw new Error(g)}}throw new Error(t.getString("Errors.Dzi"))}function n(e,n){var i,r,o=n.Image,s=o.Url,a=o.Format,l=o.Size,c=o.DisplayRect||[],u=parseInt(l.Width,10),h=parseInt(l.Height,10),p=parseInt(o.TileSize,10),f=parseInt(o.Overlap,10),d=[];for(r=0;r<c.length;r++)i=c[r].Rect,d.push(new t.DisplayRect(parseInt(i.X,10),parseInt(i.Y,10),parseInt(i.Width,10),parseInt(i.Height,10),parseInt(i.MinLevel,10),parseInt(i.MaxLevel,10)));return t.extend(!0,{width:u,height:h,tileSize:p,tileOverlap:f,minLevel:null,maxLevel:null,tilesUrl:s,fileFormat:a,displayRects:d},n)}t.DziTileSource=function(e,n,i,r,o,s,a,l,c){var u,h,p,f;if(f=t.isPlainObject(e)?e:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=f.tilesUrl,this.fileFormat=f.fileFormat,this.displayRects=f.displayRects,this.displayRects)for(u=this.displayRects.length-1;u>=0;u--)for(h=this.displayRects[u],p=h.minLevel;p<=h.maxLevel;p++)this._levelRects[p]||(this._levelRects[p]=[]),this._levelRects[p].push(h);t.TileSource.apply(this,[f])},t.extend(t.DziTileSource.prototype,t.TileSource.prototype,{supports:function(t,e){var n;return t.Image?n=t.Image.xmlns:t.documentElement&&("Image"!=t.documentElement.localName&&"Image"!=t.documentElement.tagName||(n=t.documentElement.namespaceURI)),n=(n||"").toLowerCase(),-1!==n.indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==n.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(i,r){var o;return o=t.isPlainObject(i)?n(this,i):e(this,i),r&&!o.tilesUrl&&(o.tilesUrl=r.replace(/([^\/]+?)(\.(dzi|xml|js)?(\?[^\/]*)?)?\/?$/,"$1_files/"),-1!=r.search(/\.(dzi|xml|js)\?/)?o.queryParams=r.match(/\?.*/):o.queryParams=""),o},getTileUrl:function(t,e,n){return[this.tilesUrl,t,"/",e,"_",n,".",this.fileFormat,this.queryParams].join("")},tileExists:function(t,e,n){var i,r,o,s,a,l,c,u=this._levelRects[t];if(this.minLevel&&t<this.minLevel||this.maxLevel&&t>this.maxLevel)return!1;if(!u||!u.length)return!0;for(c=u.length-1;c>=0;c--)if(i=u[c],!(t<i.minLevel||t>i.maxLevel)&&(r=this.getLevelScale(t),o=i.x*r,s=i.y*r,a=o+i.width*r,l=s+i.height*r,o=Math.floor(o/this._tileWidth),s=Math.floor(s/this._tileWidth),a=Math.ceil(a/this._tileWidth),l=Math.ceil(l/this._tileWidth),o<=e&&e<a&&s<=n&&n<l))return!0;return!1}})}(OpenSeadragon),function(t){function e(t){var e=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],n=Array.isArray(t.profile)?t.profile[0]:t.profile,i=-1!==e.indexOf(n),r=!1;return 2===t.version&&t.profile.length>1&&t.profile[1].supports&&(r=-1!==t.profile[1].supports.indexOf("sizeByW")),3===t.version&&t.extraFeatures&&(r=-1!==t.extraFeatures.indexOf("sizeByWh")),!i||r}function n(t){for(var e=[],n=0;n<t.sizes.length;n++)e.push({url:t["@id"]+"/full/"+t.sizes[n].width+","+(3===t.version?t.sizes[n].height:"")+"/0/default."+t.tileFormat,width:t.sizes[n].width,height:t.sizes[n].height});return e.sort((function(t,e){return t.width-e.width}))}function i(e){if(!e||!e.documentElement)throw new Error(t.getString("Errors.Xml"));var n=e.documentElement,i=n.tagName,o=null;if("info"==i)try{return o={},r(n,o),o}catch(s){throw s instanceof Error?s:new Error(t.getString("Errors.IIIF"))}throw new Error(t.getString("Errors.IIIF"))}function r(e,n,i){var o,s;if(3==e.nodeType&&i)s=e.nodeValue.trim(),s.match(/^\d*$/)&&(s=Number(s)),n[i]?(t.isArray(n[i])||(n[i]=[n[i]]),n[i].push(s)):n[i]=s;else if(1==e.nodeType)for(o=0;o<e.childNodes.length;o++)r(e.childNodes[o],n,e.nodeName)}t.IIIFTileSource=function(i){if(t.extend(!0,this,i),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(i.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=i.version,this.tile_width&&this.tile_height)i.tileWidth=this.tile_width,i.tileHeight=this.tile_height;else if(this.tile_width)i.tileSize=this.tile_width;else if(this.tile_height)i.tileSize=this.tile_height;else if(this.tiles)if(1==this.tiles.length)i.tileWidth=this.tiles[0].width,i.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var r=0;r<this.tiles.length;r++)for(var o=0;o<this.tiles[r].scaleFactors.length;o++){var s=this.tiles[r].scaleFactors[o];this.scale_factors.push(s),i.tileSizePerScaleFactor[s]={width:this.tiles[r].width,height:this.tiles[r].height||this.tiles[r].width}}}else if(e(i)){for(var a=Math.min(this.height,this.width),l=[256,512,1024],c=[],u=0;u<l.length;u++)l[u]<=a&&c.push(l[u]);c.length>0?i.tileSize=Math.max.apply(null,c):i.tileSize=a}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,i.levels=n(this),t.extend(!0,i,{width:i.levels[i.levels.length-1].width,height:i.levels[i.levels.length-1].height,tileSize:Math.max(i.height,i.width),tileOverlap:0,minLevel:0,maxLevel:i.levels.length-1}),this.levels=i.levels):t.console.error("Nothing in the info.json to construct image pyramids from");if(!i.maxLevel&&!this.emulateLegacyImagePyramid)if(this.scale_factors){var h=Math.max.apply(null,this.scale_factors);i.maxLevel=Math.round(Math.log(h)*Math.LOG2E)}else i.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));t.TileSource.apply(this,[i])},t.extend(t.IIIFTileSource.prototype,t.TileSource.prototype,{supports:function(t,e){return!(!t.protocol||"http://iiif.io/api/image"!=t.protocol)||(!(!t["@context"]||"http://library.stanford.edu/iiif/image-api/1.1/context.json"!=t["@context"]&&"http://iiif.io/api/image/1/context.json"!=t["@context"])||(!(!t.profile||0!==t.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html"))||(!!(t.identifier&&t.width&&t.height)||!(!t.documentElement||"info"!=t.documentElement.tagName||"http://library.stanford.edu/iiif/image-api/ns/"!=t.documentElement.namespaceURI))))},configure:function(e,n){if(t.isPlainObject(e)){if(e["@context"]){var r=e["@context"];if(Array.isArray(r))for(var o=0;o<r.length;o++)if("string"===typeof r[o]&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(r[o])||"http://library.stanford.edu/iiif/image-api/1.1/context.json"===r[o])){r=r[o];break}switch(r){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":e.version=1;break;case"http://iiif.io/api/image/2/context.json":e.version=2;break;case"http://iiif.io/api/image/3/context.json":e.version=3;break;default:t.console.error("Data has a @context property which contains no known IIIF context URI.")}}else e["@context"]="http://iiif.io/api/image/1.0/context.json",e["@id"]=n.replace("/info.json",""),e.version=1;if(!e["@id"]&&e["id"]&&(e["@id"]=e["id"]),e.preferredFormats)for(var s=0;s<e.preferredFormats.length;s++)if(OpenSeadragon.imageFormatSupported(e.preferredFormats[s])){e.tileFormat=e.preferredFormats[s];break}return e}var a=i(e);return a["@context"]="http://iiif.io/api/image/1.0/context.json",a["@id"]=n.replace("/info.xml",""),a.version=1,a},getTileWidth:function(e){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileWidth.call(this,e);var n=Math.pow(2,this.maxLevel-e);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].width:this._tileWidth},getTileHeight:function(e){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileHeight.call(this,e);var n=Math.pow(2,this.maxLevel-e);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].height:this._tileHeight},getLevelScale:function(e){if(this.emulateLegacyImagePyramid){var n=NaN;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].width/this.levels[this.maxLevel].width),n}return t.TileSource.prototype.getLevelScale.call(this,e)},getNumTiles:function(e){if(this.emulateLegacyImagePyramid){var n=this.getLevelScale(e);return n?new t.Point(1,1):new t.Point(0,0)}return t.TileSource.prototype.getNumTiles.call(this,e)},getTileAtPoint:function(e,n){return this.emulateLegacyImagePyramid?new t.Point(0,0):t.TileSource.prototype.getTileAtPoint.call(this,e,n)},getTileUrl:function(t,e,n){if(this.emulateLegacyImagePyramid){var i=null;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(i=this.levels[t].url),i}var r,o,s,a,l,c,u,h,p,f,d,g,v,m,y="0",b=Math.pow(.5,this.maxLevel-t),w=Math.ceil(this.width*b),_=Math.ceil(this.height*b);return r=this.getTileWidth(t),o=this.getTileHeight(t),s=Math.ceil(r/b),a=Math.ceil(o/b),v=1===this.version?"native."+this.tileFormat:"default."+this.tileFormat,w<r&&_<o?(f=2===this.version&&w===this.width||3===this.version&&w===this.width&&_===this.height?"max":3===this.version?w+","+_:w+",",l="full"):(c=e*s,u=n*a,h=Math.min(s,this.width-c),p=Math.min(a,this.height-u),l=0===e&&0===n&&h===this.width&&p===this.height?"full":[c,u,h,p].join(","),d=Math.ceil(h*b),g=Math.ceil(p*b),f=2===this.version&&d===this.width||3===this.version&&d===this.width&&g===this.height?"max":3===this.version?d+","+g:d+","),m=[this["@id"],l,f,y,v].join("/"),m},__testonly__:{canBeTiled:e,constructLevels:n}})}(OpenSeadragon),function(t){t.OsmTileSource=function(e,n,i,r,o){var s;s=t.isPlainObject(e)?e:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},s.width&&s.height||(s.width=65572864,s.height=65572864),s.tileSize||(s.tileSize=256,s.tileOverlap=0),s.tilesUrl||(s.tilesUrl="http://tile.openstreetmap.org/"),s.minLevel=8,t.TileSource.apply(this,[s])},t.extend(t.OsmTileSource.prototype,t.TileSource.prototype,{supports:function(t,e){return t.type&&"openstreetmaps"==t.type},configure:function(t,e){return t},getTileUrl:function(t,e,n){return this.tilesUrl+(t-8)+"/"+e+"/"+n+".png"}})}(OpenSeadragon),function(t){t.TmsTileSource=function(e,n,i,r,o){var s;s=t.isPlainObject(e)?e:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var a,l=256*Math.ceil(s.width/256),c=256*Math.ceil(s.height/256);a=l>c?l/256:c/256,s.maxLevel=Math.ceil(Math.log(a)/Math.log(2))-1,s.tileSize=256,s.width=l,s.height=c,t.TileSource.apply(this,[s])},t.extend(t.TmsTileSource.prototype,t.TileSource.prototype,{supports:function(t,e){return t.type&&"tiledmapservice"==t.type},configure:function(t,e){return t},getTileUrl:function(t,e,n){var i=this.getNumTiles(t).y-1;return this.tilesUrl+t+"/"+e+"/"+(i-n)+".png"}})}(OpenSeadragon),function(t){t.ZoomifyTileSource=function(t){t.tileSize=256;var e={x:t.width,y:t.height};t.imageSizes=[{x:t.width,y:t.height}],t.gridSize=[this._getGridSize(t.width,t.height,t.tileSize)];while(parseInt(e.x,10)>t.tileSize||parseInt(e.y,10)>t.tileSize)e.x=Math.floor(e.x/2),e.y=Math.floor(e.y/2),t.imageSizes.push({x:e.x,y:e.y}),t.gridSize.push(this._getGridSize(e.x,e.y,t.tileSize));t.imageSizes.reverse(),t.gridSize.reverse(),t.minLevel=0,t.maxLevel=t.gridSize.length-1,OpenSeadragon.TileSource.apply(this,[t])},t.extend(t.ZoomifyTileSource.prototype,t.TileSource.prototype,{_getGridSize:function(t,e,n){return{x:Math.ceil(t/n),y:Math.ceil(e/n)}},_calculateAbsoluteTileNumber:function(t,e,n){for(var i=0,r={},o=0;o<t;o++)r=this.gridSize[o],i+=r.x*r.y;return r=this.gridSize[t],i+=r.x*n+e,i},supports:function(t,e){return t.type&&"zoomifytileservice"==t.type},configure:function(t,e){return t},getTileUrl:function(t,e,n){var i=0,r=this._calculateAbsoluteTileNumber(t,e,n);return i=Math.floor(r/256),this.tilesUrl+"TileGroup"+i+"/"+t+"-"+e+"-"+n+".jpg"}})}(OpenSeadragon),function(t){function e(e){var n,i,r=[];for(i=0;i<e.length;i++)n=e[i],n.height&&n.width&&n.url?r.push({url:n.url,width:Number(n.width),height:Number(n.height)}):t.console.error("Unsupported image format: %s",n.url?n.url:"<no URL>");return r.sort((function(t,e){return t.height-e.height}))}function n(e,n){if(!n||!n.documentElement)throw new Error(t.getString("Errors.Xml"));var r,o,s=n.documentElement,a=s.tagName,l=null,c=[];if("image"==a)try{for(l={type:s.getAttribute("type"),levels:[]},c=s.getElementsByTagName("level"),o=0;o<c.length;o++)r=c[o],l.levels.push({url:r.getAttribute("url"),width:parseInt(r.getAttribute("width"),10),height:parseInt(r.getAttribute("height"),10)});return i(e,l)}catch(u){throw u instanceof Error?u:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"==a)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"==a)throw new Error("Error: "+n)}throw new Error("Unknown element "+a)}function i(t,e){return e.levels}t.LegacyTileSource=function(n){var i,r,o;t.isArray(n)&&(i={type:"legacy-image-pyramid",levels:n}),i.levels=e(i.levels),i.levels.length>0?(r=i.levels[i.levels.length-1].width,o=i.levels[i.levels.length-1].height):(r=0,o=0,t.console.error("No supported image formats found")),t.extend(!0,i,{width:r,height:o,tileSize:Math.max(o,r),tileOverlap:0,minLevel:0,maxLevel:i.levels.length>0?i.levels.length-1:0}),t.TileSource.apply(this,[i]),this.levels=i.levels},t.extend(t.LegacyTileSource.prototype,t.TileSource.prototype,{supports:function(t,e){return t.type&&"legacy-image-pyramid"==t.type||t.documentElement&&"legacy-image-pyramid"==t.documentElement.getAttribute("type")},configure:function(e,r){var o;return o=t.isPlainObject(e)?i(this,e):n(this,e),o},getLevelScale:function(t){var e=NaN;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(e=this.levels[t].width/this.levels[this.maxLevel].width),e},getNumTiles:function(e){var n=this.getLevelScale(e);return n?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(t,e,n){var i=null;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(i=this.levels[t].url),i}})}(OpenSeadragon),function(t){t.ImageTileSource=function(e){e=t.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},e),t.TileSource.apply(this,[e])},t.extend(t.ImageTileSource.prototype,t.TileSource.prototype,{supports:function(t,e){return t.type&&"image"===t.type},configure:function(t,e){return t},getImageInfo:function(e){var n=this._image=new Image,i=this;this.crossOriginPolicy&&(n.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(n.useCredentials=this.ajaxWithCredentials),t.addEvent(n,"load",(function(){i.width=Object.prototype.hasOwnProperty.call(n,"naturalWidth")?n.naturalWidth:n.width,i.height=Object.prototype.hasOwnProperty.call(n,"naturalHeight")?n.naturalHeight:n.height,i.aspectRatio=i.width/i.height,i.dimensions=new t.Point(i.width,i.height),i._tileWidth=i.width,i._tileHeight=i.height,i.tileOverlap=0,i.minLevel=0,i.levels=i._buildLevels(),i.maxLevel=i.levels.length-1,i.ready=!0,i.raiseEvent("ready",{tileSource:i})})),t.addEvent(n,"error",(function(){i.raiseEvent("open-failed",{message:"Error loading image at "+e,source:e})})),n.src=e},getLevelScale:function(t){var e=NaN;return t>=this.minLevel&&t<=this.maxLevel&&(e=this.levels[t].width/this.levels[this.maxLevel].width),e},getNumTiles:function(e){var n=this.getLevelScale(e);return n?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(t,e,n){var i=null;return t>=this.minLevel&&t<=this.maxLevel&&(i=this.levels[t].url),i},getContext2D:function(t,e,n){var i=null;return t>=this.minLevel&&t<=this.maxLevel&&(i=this.levels[t].context2D),i},_buildLevels:function(){var e=[{url:this._image.src,width:Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,height:Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height}];if(!this.buildPyramid||!t.supportsCanvas||!this.useCanvas)return delete this._image,e;var n=Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,i=Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height,r=document.createElement("canvas"),o=r.getContext("2d");if(r.width=n,r.height=i,o.drawImage(this._image,0,0,n,i),e[0].context2D=o,delete this._image,t.isCanvasTainted(r))return e;while(n>=2&&i>=2){n=Math.floor(n/2),i=Math.floor(i/2);var s=document.createElement("canvas"),a=s.getContext("2d");s.width=n,s.height=i,a.drawImage(r,0,0,n,i),e.splice(0,0,{context2D:a,width:n,height:i}),r=s,o=a}return e}})}(OpenSeadragon),function(t){t.TileSourceCollection=function(e,n,i,r){t.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function(t){function e(e){t.requestAnimationFrame((function(){n(e)}))}function n(n){var i,r,o;n.shouldFade&&(i=t.now(),r=i-n.fadeBeginTime,o=1-r/n.fadeLength,o=Math.min(1,o),o=Math.max(0,o),n.imgGroup&&t.setElementOpacity(n.imgGroup,o,!0),o>0&&e(n))}function i(n){n.shouldFade=!0,n.fadeBeginTime=t.now()+n.fadeDelay,window.setTimeout((function(){e(n)}),n.fadeDelay)}function r(e){e.shouldFade=!1,e.imgGroup&&t.setElementOpacity(e.imgGroup,1,!0)}function o(e,n){e.element.disabled||(n>=t.ButtonState.GROUP&&e.currentState==t.ButtonState.REST&&(r(e),e.currentState=t.ButtonState.GROUP),n>=t.ButtonState.HOVER&&e.currentState==t.ButtonState.GROUP&&(e.imgHover&&(e.imgHover.style.visibility=""),e.currentState=t.ButtonState.HOVER),n>=t.ButtonState.DOWN&&e.currentState==t.ButtonState.HOVER&&(e.imgDown&&(e.imgDown.style.visibility=""),e.currentState=t.ButtonState.DOWN))}function s(e,n){e.element.disabled||(n<=t.ButtonState.HOVER&&e.currentState==t.ButtonState.DOWN&&(e.imgDown&&(e.imgDown.style.visibility="hidden"),e.currentState=t.ButtonState.HOVER),n<=t.ButtonState.GROUP&&e.currentState==t.ButtonState.HOVER&&(e.imgHover&&(e.imgHover.style.visibility="hidden"),e.currentState=t.ButtonState.GROUP),n<=t.ButtonState.REST&&e.currentState==t.ButtonState.GROUP&&(i(e),e.currentState=t.ButtonState.REST))}t.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},t.Button=function(e){var n=this;t.EventSource.call(this),t.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},e),this.element=e.element||t.makeNeutralElement("div"),e.element||(this.imgRest=t.makeTransparentImage(this.srcRest),this.imgGroup=t.makeTransparentImage(this.srcGroup),this.imgHover=t.makeTransparentImage(this.srcHover),this.imgDown=t.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,this.element.style.position="relative",t.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",t.Browser.vendor==t.BROWSERS.FIREFOX&&t.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=t.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new t.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(e){e.insideElementPressed?(o(n,t.ButtonState.DOWN),n.raiseEvent("enter",{originalEvent:e.originalEvent})):e.buttonDownAny||o(n,t.ButtonState.HOVER)},focusHandler:function(t){this.enterHandler(t),n.raiseEvent("focus",{originalEvent:t.originalEvent})},exitHandler:function(e){s(n,t.ButtonState.GROUP),e.insideElementPressed&&n.raiseEvent("exit",{originalEvent:e.originalEvent})},blurHandler:function(t){this.exitHandler(t),n.raiseEvent("blur",{originalEvent:t.originalEvent})},pressHandler:function(e){o(n,t.ButtonState.DOWN),n.raiseEvent("press",{originalEvent:e.originalEvent})},releaseHandler:function(e){e.insideElementPressed&&e.insideElementReleased?(s(n,t.ButtonState.HOVER),n.raiseEvent("release",{originalEvent:e.originalEvent})):e.insideElementPressed?s(n,t.ButtonState.GROUP):o(n,t.ButtonState.HOVER)},clickHandler:function(t){t.quick&&n.raiseEvent("click",{originalEvent:t.originalEvent})},keyHandler:function(t){return 13!==t.keyCode||(n.raiseEvent("click",{originalEvent:t.originalEvent}),n.raiseEvent("release",{originalEvent:t.originalEvent}),!1)}}),s(this,t.ButtonState.REST)},t.extend(t.Button.prototype,t.EventSource.prototype,{notifyGroupEnter:function(){o(this,t.ButtonState.GROUP)},notifyGroupExit:function(){s(this,t.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,t.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,t.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}})}(OpenSeadragon),function(t){t.ButtonGroup=function(e){t.extend(!0,this,{buttons:[],clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},e);var n,i=this.buttons.concat([]),r=this;if(this.element=e.element||t.makeNeutralElement("div"),!e.group)for(this.element.style.display="inline-block",n=0;n<i.length;n++)this.element.appendChild(i[n].element);t.setElementTouchActionNone(this.element),this.tracker=new t.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(t){var e;for(e=0;e<r.buttons.length;e++)r.buttons[e].notifyGroupEnter()},exitHandler:function(t){var e;if(!t.insideElementPressed)for(e=0;e<r.buttons.length;e++)r.buttons[e].notifyGroupExit()}})},t.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(t){t.Rect=function(e,n,i,r,o){var s,a;this.x="number"===typeof e?e:0,this.y="number"===typeof n?n:0,this.width="number"===typeof i?i:0,this.height="number"===typeof r?r:0,this.degrees="number"===typeof o?o:0,this.degrees=t.positiveModulo(this.degrees,360),this.degrees>=270?(s=this.getTopRight(),this.x=s.x,this.y=s.y,a=this.height,this.height=this.width,this.width=a,this.degrees-=270):this.degrees>=180?(s=this.getBottomRight(),this.x=s.x,this.y=s.y,this.degrees-=180):this.degrees>=90&&(s=this.getBottomLeft(),this.x=s.x,this.y=s.y,a=this.height,this.height=this.width,this.width=a,this.degrees-=90)},t.Rect.fromSummits=function(e,n,i){var r=e.distanceTo(n),o=e.distanceTo(i),s=n.minus(e),a=Math.atan(s.y/s.x);return s.x<0?a+=Math.PI:s.y<0&&(a+=2*Math.PI),new t.Rect(e.x,e.y,r,o,a/Math.PI*180)},t.Rect.prototype={clone:function(){return new t.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new t.Point(this.x,this.y)},getBottomRight:function(){return new t.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new t.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new t.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new t.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new t.Point(this.width,this.height)},equals:function(e){return e instanceof t.Rect&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height&&this.degrees===e.degrees},times:function(e){return new t.Rect(this.x*e,this.y*e,this.width*e,this.height*e,this.degrees)},translate:function(e){return new t.Rect(this.x+e.x,this.y+e.y,this.width,this.height,this.degrees)},union:function(e){var n=this.getBoundingBox(),i=e.getBoundingBox(),r=Math.min(n.x,i.x),o=Math.min(n.y,i.y),s=Math.max(n.x+n.width,i.x+i.width),a=Math.max(n.y+n.height,i.y+i.height);return new t.Rect(r,o,s-r,a-o)},intersection:function(e){var n=1e-10,i=[],r=this.getTopLeft();e.containsPoint(r,n)&&i.push(r);var o=this.getTopRight();e.containsPoint(o,n)&&i.push(o);var s=this.getBottomLeft();e.containsPoint(s,n)&&i.push(s);var a=this.getBottomRight();e.containsPoint(a,n)&&i.push(a);var l=e.getTopLeft();this.containsPoint(l,n)&&i.push(l);var c=e.getTopRight();this.containsPoint(c,n)&&i.push(c);var u=e.getBottomLeft();this.containsPoint(u,n)&&i.push(u);var h=e.getBottomRight();this.containsPoint(h,n)&&i.push(h);for(var p=this._getSegments(),f=e._getSegments(),d=0;d<p.length;d++)for(var g=p[d],v=0;v<f.length;v++){var m=f[v],y=b(g[0],g[1],m[0],m[1]);y&&i.push(y)}function b(e,i,r,o){var s=i.minus(e),a=o.minus(r),l=-a.x*s.y+s.x*a.y;if(0===l)return null;var c=(s.x*(e.y-r.y)-s.y*(e.x-r.x))/l,u=(a.x*(e.y-r.y)-a.y*(e.x-r.x))/l;return-n<=c&&c<=1-n&&-n<=u&&u<=1-n?new t.Point(e.x+u*s.x,e.y+u*s.y):null}if(0===i.length)return null;for(var w=i[0].x,_=i[0].x,x=i[0].y,S=i[0].y,T=1;T<i.length;T++){var C=i[T];C.x<w&&(w=C.x),C.x>_&&(_=C.x),C.y<x&&(x=C.y),C.y>S&&(S=C.y)}return new t.Rect(w,x,_-w,S-x)},_getSegments:function(){var t=this.getTopLeft(),e=this.getTopRight(),n=this.getBottomLeft(),i=this.getBottomRight();return[[t,e],[e,i],[i,n],[n,t]]},rotate:function(e,n){if(e=t.positiveModulo(e,360),0===e)return this.clone();n=n||this.getCenter();var i=this.getTopLeft().rotate(e,n),r=this.getTopRight().rotate(e,n),o=r.minus(i);o=o.apply((function(t){var e=1e-15;return Math.abs(t)<e?0:t}));var s=Math.atan(o.y/o.x);return o.x<0?s+=Math.PI:o.y<0&&(s+=2*Math.PI),new t.Rect(i.x,i.y,this.width,this.height,s/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var e=this.getTopLeft(),n=this.getTopRight(),i=this.getBottomLeft(),r=this.getBottomRight(),o=Math.min(e.x,n.x,i.x,r.x),s=Math.max(e.x,n.x,i.x,r.x),a=Math.min(e.y,n.y,i.y,r.y),l=Math.max(e.y,n.y,i.y,r.y);return new t.Rect(o,a,s-o,l-a)},getIntegerBoundingBox:function(){var e=this.getBoundingBox(),n=Math.floor(e.x),i=Math.floor(e.y),r=Math.ceil(e.width+e.x-n),o=Math.ceil(e.height+e.y-i);return new t.Rect(n,i,r,o)},containsPoint:function(t,e){e=e||0;var n=this.getTopLeft(),i=this.getTopRight(),r=this.getBottomLeft(),o=i.minus(n),s=r.minus(n);return(t.x-n.x)*o.x+(t.y-n.y)*o.y>=-e&&(t.x-i.x)*o.x+(t.y-i.y)*o.y<=e&&(t.x-n.x)*s.x+(t.y-n.y)*s.y>=-e&&(t.x-r.x)*s.x+(t.y-r.y)*s.y<=e},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(OpenSeadragon),function(t){var e={};function n(e){var n=Number(this.element.style.marginLeft.replace("px","")),i=Number(this.element.style.marginTop.replace("px","")),o=Number(this.element.style.width.replace("px","")),s=Number(this.element.style.height.replace("px","")),a=t.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&("horizontal"==this.scroll?-e.delta.x>0?n>-(o-a.x)&&(this.element.style.marginLeft=n+2*e.delta.x+"px",r(this,a.x,n+2*e.delta.x)):-e.delta.x<0&&n<0&&(this.element.style.marginLeft=n+2*e.delta.x+"px",r(this,a.x,n+2*e.delta.x)):-e.delta.y>0?i>-(s-a.y)&&(this.element.style.marginTop=i+2*e.delta.y+"px",r(this,a.y,i+2*e.delta.y)):-e.delta.y<0&&i<0&&(this.element.style.marginTop=i+2*e.delta.y+"px",r(this,a.y,i+2*e.delta.y))),!1}function i(e){var n=Number(this.element.style.marginLeft.replace("px","")),i=Number(this.element.style.marginTop.replace("px","")),o=Number(this.element.style.width.replace("px","")),s=Number(this.element.style.height.replace("px","")),a=t.getElementSize(this.viewer.canvas);return this.element&&("horizontal"==this.scroll?e.scroll>0?n>-(o-a.x)&&(this.element.style.marginLeft=n-60*e.scroll+"px",r(this,a.x,n-60*e.scroll)):e.scroll<0&&n<0&&(this.element.style.marginLeft=n-60*e.scroll+"px",r(this,a.x,n-60*e.scroll)):e.scroll<0?i>a.y-s&&(this.element.style.marginTop=i+60*e.scroll+"px",r(this,a.y,i+60*e.scroll)):e.scroll>0&&i<0&&(this.element.style.marginTop=i+60*e.scroll+"px",r(this,a.y,i+60*e.scroll))),!1}function r(e,n,i){var r,o,s,a,l,c,u;for(r="horizontal"==e.scroll?e.panelWidth:e.panelHeight,o=Math.ceil(n/r)+5,s=Math.ceil((Math.abs(i)+n)/r)+1,o=s-o,o=o<0?0:o,c=o;c<s&&c<e.panels.length;c++)if(u=e.panels[c],!u.activePanel){var h,p=e.viewer.tileSources[c];h=p.referenceStripThumbnailUrl?{type:"image",url:p.referenceStripThumbnailUrl}:p,a=new t.Viewer({id:u.id,tileSources:[h],element:u,navigatorSizeRatio:e.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:e.viewer.loadTilesWithAjax,ajaxHeaders:e.viewer.ajaxHeaders,useCanvas:e.useCanvas}),a.displayRegion=t.makeNeutralElement("div"),a.displayRegion.id=u.id+"-displayregion",a.displayRegion.className="displayregion",l=a.displayRegion.style,l.position="relative",l.top="0px",l.left="0px",l.fontSize="0px",l.overflow="hidden",l.float="left",l.cssFloat="left",l.styleFloat="left",l.zIndex=999999999,l.cursor="default",l.width=e.panelWidth-4+"px",l.height=e.panelHeight-4+"px",a.displayRegion.innerTracker=new t.MouseTracker({element:a.displayRegion,startDisabled:!0}),u.getElementsByTagName("div")[0].appendChild(a.displayRegion),e.miniViewers[u.id]=a,u.activePanel=!0}}function o(t){var e=t.eventSource.element;return"horizontal"==this.scroll?e.style.marginBottom="0px":e.style.marginLeft="0px",!1}function s(e){var n=e.eventSource.element;return"horizontal"==this.scroll?n.style.marginBottom="-"+t.getElementSize(n).y/2+"px":n.style.marginLeft="-"+t.getElementSize(n).x/2+"px",!1}function a(t){if(t.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 38:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 40:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 37:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 39:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}function l(t){if(t.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 61:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 97:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}t.ReferenceStrip=function(c){var u,h,p,f=this,d=c.viewer,g=t.getElementSize(d.element);for(c.id||(c.id="referencestrip-"+t.now(),this.element=t.makeNeutralElement("div"),this.element.id=c.id,this.element.className="referencestrip"),c=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.referenceStripSizeRatio,position:t.DEFAULT_SETTINGS.referenceStripPosition,scroll:t.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold},c,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),t.extend(this,c),e[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,h=this.element.style,h.marginTop="0px",h.marginRight="0px",h.marginBottom="0px",h.marginLeft="0px",h.left="0px",h.bottom="0px",h.border="0px",h.background="#000",h.position="relative",t.setElementTouchActionNone(this.element),t.setElementOpacity(this.element,.8),this.viewer=d,this.innerTracker=new t.MouseTracker({element:this.element,dragHandler:t.delegate(this,n),scrollHandler:t.delegate(this,i),enterHandler:t.delegate(this,o),exitHandler:t.delegate(this,s),keyDownHandler:t.delegate(this,a),keyHandler:t.delegate(this,l)}),c.width&&c.height?(this.element.style.width=c.width+"px",this.element.style.height=c.height+"px",d.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):"horizontal"==c.scroll?(this.element.style.width=g.x*c.sizeRatio*d.tileSources.length+12*d.tileSources.length+"px",this.element.style.height=g.y*c.sizeRatio+"px",d.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=g.y*c.sizeRatio*d.tileSources.length+12*d.tileSources.length+"px",this.element.style.width=g.x*c.sizeRatio+"px",d.addControl(this.element,{anchor:t.ControlAnchor.TOP_LEFT})),this.panelWidth=g.x*this.sizeRatio+8,this.panelHeight=g.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},p=0;p<d.tileSources.length;p++)u=t.makeNeutralElement("div"),u.id=this.element.id+"-"+p,u.style.width=f.panelWidth+"px",u.style.height=f.panelHeight+"px",u.style.display="inline",u.style.float="left",u.style.cssFloat="left",u.style.styleFloat="left",u.style.padding="2px",t.setElementTouchActionNone(u),u.innerTracker=new t.MouseTracker({element:u,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(e){e.eventSource.dragging=t.now()},releaseHandler:function(e){var n=e.eventSource,i=n.element.id,r=Number(i.split("-")[2]),o=t.now();e.insideElementPressed&&e.insideElementReleased&&n.dragging&&o-n.dragging<n.clickTimeThreshold&&(n.dragging=null,d.goToPage(r))}}),this.element.appendChild(u),u.activePanel=!1,this.panels.push(u);r(this,"vertical"==this.scroll?g.y:g.x,0),this.setFocus(0)},t.extend(t.ReferenceStrip.prototype,t.EventSource.prototype,t.Viewer.prototype,{setFocus:function(e){var n,i=this.element.querySelector("#"+this.element.id+"-"+e),s=t.getElementSize(this.viewer.canvas),a=Number(this.element.style.width.replace("px","")),l=Number(this.element.style.height.replace("px","")),c=-Number(this.element.style.marginLeft.replace("px","")),u=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==i&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=i,this.currentSelected.style.background="#999","horizontal"==this.scroll?(n=Number(e)*(this.panelWidth+3),n>c+s.x-this.panelWidth?(n=Math.min(n,a-s.x),this.element.style.marginLeft=-n+"px",r(this,s.x,-n)):n<c&&(n=Math.max(0,n-s.x/2),this.element.style.marginLeft=-n+"px",r(this,s.x,-n))):(n=Number(e)*(this.panelHeight+3),n>u+s.y-this.panelHeight?(n=Math.min(n,l-s.y),this.element.style.marginTop=-n+"px",r(this,s.y,-n)):n<u&&(n=Math.max(0,n-s.y/2),this.element.style.marginTop=-n+"px",r(this,s.y,-n))),this.currentPage=e,o.call(this,{eventSource:this.innerTracker}))},update:function(){return!!e[this.id].animating&&(t.console.log("image reference strip update"),!0)},destroy:function(){if(this.miniViewers)for(var t in this.miniViewers)this.miniViewers[t].destroy();this.element&&this.element.parentNode.removeChild(this.element)}})}(OpenSeadragon),function(t){t.DisplayRect=function(e,n,i,r,o,s){t.Rect.apply(this,[e,n,i,r]),this.minLevel=o,this.maxLevel=s},t.extend(t.DisplayRect.prototype,t.Rect.prototype)}(OpenSeadragon),function(t){function e(t,e){return(1-Math.exp(t*-e))/(1-Math.exp(-t))}t.Spring=function(e){var n=arguments;"object"!=typeof e&&(e={initial:n.length&&"number"==typeof n[0]?n[0]:void 0,springStiffness:n.length>1?n[1].springStiffness:5,animationTime:n.length>1?n[1].animationTime:1.5}),t.console.assert("number"===typeof e.springStiffness&&0!==e.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),t.console.assert("number"===typeof e.animationTime&&e.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),e.exponential&&(this._exponential=!0,delete e.exponential),t.extend(!0,this,e),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:t.now()},t.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},t.Spring.prototype={resetTo:function(e){t.console.assert(!this._exponential||0!==e,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=e,this.start.time=this.target.time=this.current.time=t.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(e){t.console.assert(!this._exponential||0!==e,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=e,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(e){this.start.value+=e,this.target.value+=e,this._exponential&&(t.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(e){this._exponential=e,this._exponential&&(t.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){var n,i;this.current.time=t.now(),this._exponential?(n=this.start._logValue,i=this.target._logValue):(n=this.start.value,i=this.target.value);var r=this.current.time>=this.target.time?i:n+(i-n)*e(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),o=this.current.value;return this._exponential?this.current.value=Math.exp(r):this.current.value=r,o!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(OpenSeadragon),function(t){function e(e){t.extend(!0,this,{timeout:t.DEFAULT_SETTINGS.timeout,jobId:null},e),this.image=null}function n(t,e,n){var i;t.jobsInProgress--,(!t.jobLimit||t.jobsInProgress<t.jobLimit)&&t.jobQueue.length>0&&(i=t.jobQueue.shift(),i.start(),t.jobsInProgress++),n(e.image,e.errorMsg,e.request)}e.prototype={errorMsg:null,start:function(){var e=this,n=this.abort;this.image=new Image,this.image.onload=function(){e.finish(!0)},this.image.onabort=this.image.onerror=function(){e.errorMsg="Image load aborted",e.finish(!1)},this.jobId=window.setTimeout((function(){e.errorMsg="Image load exceeded timeout ("+e.timeout+" ms)",e.finish(!1)}),this.timeout),this.loadWithAjax?(this.request=t.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(t){var n;try{n=new window.Blob([t.response])}catch(s){var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===s.name&&i){var r=new i;r.append(t.response),n=r.getBlob()}}0===n.size&&(e.errorMsg="Empty image response.",e.finish(!1));var o=(window.URL||window.webkitURL).createObjectURL(n);e.image.src=o},error:function(t){e.errorMsg="Image load aborted - XHR error",e.finish(!1)}}),this.abort=function(){e.request.abort(),"function"===typeof n&&n()}):(!1!==this.crossOriginPolicy&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(t){this.image.onload=this.image.onerror=this.image.onabort=null,t||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},t.ImageLoader=function(e){t.extend(!0,this,{jobLimit:t.DEFAULT_SETTINGS.imageLoaderLimit,timeout:t.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},e)},t.ImageLoader.prototype={addJob:function(t){var i=this,r=function(e){n(i,e,t.callback)},o={src:t.src,loadWithAjax:t.loadWithAjax,ajaxHeaders:t.loadWithAjax?t.ajaxHeaders:null,crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,callback:r,abort:t.abort,timeout:this.timeout},s=new e(o);!this.jobLimit||this.jobsInProgress<this.jobLimit?(s.start(),this.jobsInProgress++):this.jobQueue.push(s)},clear:function(){for(var t=0;t<this.jobQueue.length;t++){var e=this.jobQueue[t];"function"===typeof e.abort&&e.abort()}this.jobQueue=[]}}}(OpenSeadragon),function(t){t.Tile=function(t,e,n,i,r,o,s,a,l,c){this.level=t,this.x=e,this.y=n,this.bounds=i,this.sourceBounds=c,this.exists=r,this.url=o,this.context2D=s,this.loadWithAjax=a,this.ajaxHeaders=l,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},t.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(e){this.cacheImageRecord?this.loaded?(this.element||(this.element=t.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=e&&e.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",t.setElementOpacity(this.element,this.opacity)):t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()):t.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},drawCanvas:function(e,n,i,r){var o,s,a,l=this.position.times(t.pixelDensityRatio),c=this.size.times(t.pixelDensityRatio);this.context2D||this.cacheImageRecord?(o=this.context2D||this.cacheImageRecord.getRenderedContext(),this.loaded&&o?(e.save(),e.globalAlpha=this.opacity,"number"===typeof i&&1!==i&&(l=l.times(i),c=c.times(i)),r instanceof t.Point&&(l=l.plus(r)),1===e.globalAlpha&&this._hasTransparencyChannel()&&e.clearRect(l.x,l.y,c.x,c.y),n({context:e,tile:this,rendered:o}),this.sourceBounds?(s=Math.min(this.sourceBounds.width,o.canvas.width),a=Math.min(this.sourceBounds.height,o.canvas.height)):(s=o.canvas.width,a=o.canvas.height),e.drawImage(o.canvas,0,0,s,a,l.x,l.y,c.x,c.y),e.restore()):t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString())):t.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString())},getScaleForEdgeSmoothing:function(){var e;if(this.cacheImageRecord)e=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return t.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;e=this.context2D}return e.canvas.width/(this.size.x*t.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(e,n,i){var r=Math.max(1,Math.ceil((i.x-n.x)/2)),o=Math.max(1,Math.ceil((i.y-n.y)/2));return new t.Point(r,o).minus(this.position.times(t.pixelDensityRatio).times(e||1).apply((function(t){return t%1})))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(t){t.OverlayPlacement=t.Placement,t.OverlayRotationMode=t.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),t.Overlay=function(e,n,i){var r;r=t.isPlainObject(e)?e:{element:e,location:n,placement:i},this.element=r.element,this.style=r.element.style,this._init(r)},t.Overlay.prototype={_init:function(e){this.location=e.location,this.placement=void 0===e.placement?t.Placement.TOP_LEFT:e.placement,this.onDraw=e.onDraw,this.checkResize=void 0===e.checkResize||e.checkResize,this.width=void 0===e.width?null:e.width,this.height=void 0===e.height?null:e.height,this.rotationMode=e.rotationMode||t.OverlayRotationMode.EXACT,this.location instanceof t.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=t.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new t.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(e,n){var i=t.Placement.properties[this.placement];i&&(i.isHorizontallyCentered?e.x-=n.x/2:i.isRight&&(e.x-=n.x),i.isVerticallyCentered?e.y-=n.y/2:i.isBottom&&(e.y-=n.y))},destroy:function(){var e=this.element,n=this.style;e.parentNode&&(e.parentNode.removeChild(e),e.prevElementParent&&(n.display="none",document.body.appendChild(e))),this.onDraw=null,n.top="",n.left="",n.position="",null!==this.width&&(n.width=""),null!==this.height&&(n.height="");var i=t.getCssPropertyWithVendorPrefix("transformOrigin"),r=t.getCssPropertyWithVendorPrefix("transform");i&&r&&(n[i]="",n[r]="")},drawHTML:function(e,n){var i=this.element;i.parentNode!==e&&(i.prevElementParent=i.parentNode,i.prevNextSibling=i.nextSibling,e.appendChild(i),this.style.position="absolute",this.size=t.getElementSize(i));var r=this._getOverlayPositionAndSize(n),o=r.position,s=this.size=r.size,a=r.rotate;if(this.onDraw)this.onDraw(o,s,this.element);else{var l=this.style;l.left=o.x+"px",l.top=o.y+"px",null!==this.width&&(l.width=s.x+"px"),null!==this.height&&(l.height=s.y+"px");var c=t.getCssPropertyWithVendorPrefix("transformOrigin"),u=t.getCssPropertyWithVendorPrefix("transform");c&&u&&(a?(l[c]=this._getTransformOrigin(),l[u]="rotate("+a+"deg)"):(l[c]="",l[u]="")),"none"!==l.display&&(l.display="block")}},_getOverlayPositionAndSize:function(e){var n=e.pixelFromPoint(this.location,!0),i=this._getSizeInPixels(e);this.adjust(n,i);var r=0;if(e.degrees&&this.rotationMode!==t.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var o=new t.Rect(n.x,n.y,i.x,i.y),s=this._getBoundingBox(o,e.degrees);n=s.getTopLeft(),i=s.getSize()}else r=e.degrees;return{position:n,size:i,rotate:r}},_getSizeInPixels:function(e){var n=this.size.x,i=this.size.y;if(null!==this.width||null!==this.height){var r=e.deltaPixelsFromPointsNoRotate(new t.Point(this.width||0,this.height||0),!0);null!==this.width&&(n=r.x),null!==this.height&&(i=r.y)}if(this.checkResize&&(null===this.width||null===this.height)){var o=this.size=t.getElementSize(this.element);null===this.width&&(n=o.x),null===this.height&&(i=o.y)}return new t.Point(n,i)},_getBoundingBox:function(t,e){var n=this._getPlacementPoint(t);return t.rotate(e,n).getBoundingBox()},_getPlacementPoint:function(e){var n=new t.Point(e.x,e.y),i=t.Placement.properties[this.placement];return i&&(i.isHorizontallyCentered?n.x+=e.width/2:i.isRight&&(n.x+=e.width),i.isVerticallyCentered?n.y+=e.height/2:i.isBottom&&(n.y+=e.height)),n},_getTransformOrigin:function(){var e="",n=t.Placement.properties[this.placement];return n?(n.isLeft?e="left":n.isRight&&(e="right"),n.isTop?e+=" top":n.isBottom&&(e+=" bottom"),e):e},update:function(e,n){var i=t.isPlainObject(e)?e:{location:e,placement:n};this._init({location:i.location||this.location,placement:void 0!==i.placement?i.placement:this.placement,onDraw:i.onDraw||this.onDraw,checkResize:i.checkResize||this.checkResize,width:void 0!==i.width?i.width:this.width,height:void 0!==i.height?i.height:this.height,rotationMode:i.rotationMode||this.rotationMode})},getBounds:function(e){t.console.assert(e,"A viewport must now be passed to Overlay.getBounds.");var n=this.width,i=this.height;if(null===n||null===i){var r=e.deltaPointsFromPixelsNoRotate(this.size,!0);null===n&&(n=r.x),null===i&&(i=r.y)}var o=this.location.clone();return this.adjust(o,new t.Point(n,i)),this._adjustBoundsForRotation(e,new t.Rect(o.x,o.y,n,i))},_adjustBoundsForRotation:function(e,n){if(!e||0===e.degrees||this.rotationMode===t.OverlayRotationMode.EXACT)return n;if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return n;var i=this._getOverlayPositionAndSize(e);return e.viewerElementToViewportRectangle(new t.Rect(i.position.x,i.position.y,i.size.x,i.size.y))}return n.rotate(-e.degrees,this._getPlacementPoint(n))}}}(OpenSeadragon),function(t){t.Drawer=function(e){t.console.assert(e.viewer,"[Drawer] options.viewer is required");var n=arguments;if(t.isPlainObject(e)||(e={source:n[0],viewport:n[1],element:n[2]}),t.console.assert(e.viewport,"[Drawer] options.viewport is required"),t.console.assert(e.element,"[Drawer] options.element is required"),e.source&&t.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=e.viewer,this.viewport=e.viewport,this.debugGridColor="string"===typeof e.debugGridColor?[e.debugGridColor]:e.debugGridColor||t.DEFAULT_SETTINGS.debugGridColor,e.opacity&&t.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=t.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=t.getElement(e.element),this.canvas=t.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var i=this._calculateCanvasSize();this.canvas.width=i.x,this.canvas.height=i.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",t.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},t.Drawer.prototype={addOverlay:function(e,n,i,r){return t.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(e,n,i,r),this},updateOverlay:function(e,n,i){return t.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(e,n,i),this},removeOverlay:function(e){return t.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(e),this},clearOverlays:function(){return t.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(e){var n=this.viewport.pixelFromPointNoRotate(e,!0);return new t.Point(n.x*t.pixelDensityRatio,n.y*t.pixelDensityRatio)},clipWithPolygons:function(t,e){if(this.useCanvas){var n=this._getContext(e);n.beginPath(),t.forEach((function(t){t.forEach((function(t,e){n[0===e?"moveTo":"lineTo"](t.x,t.y)}))})),n.clip()}},setOpacity:function(e){t.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var n=this.viewer.world,i=0;i<n.getItemCount();i++)n.getItemAt(i).setOpacity(e);return this},getOpacity:function(){t.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var e=this.viewer.world,n=0,i=0;i<e.getItemCount();i++){var r=e.getItemAt(i).getOpacity();r>n&&(n=r)}return n},needsUpdate:function(){return t.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return t.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return t.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return t.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var t=this._calculateCanvasSize();if((this.canvas.width!=t.x||this.canvas.height!=t.y)&&(this.canvas.width=t.x,this.canvas.height=t.y,this._updateImageSmoothingEnabled(this.context),null!==this.sketchCanvas)){var e=this._calculateSketchCanvasSize();this.sketchCanvas.width=e.x,this.sketchCanvas.height=e.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(t,e){if(this.useCanvas){var n=this._getContext(t);if(e)n.clearRect(e.x,e.y,e.width,e.height);else{var i=n.canvas;n.clearRect(0,0,i.width,i.height)}}},viewportToDrawerRectangle:function(e){var n=this.viewport.pixelFromPointNoRotate(e.getTopLeft(),!0),i=this.viewport.deltaPixelsFromPointsNoRotate(e.getSize(),!0);return new t.Rect(n.x*t.pixelDensityRatio,n.y*t.pixelDensityRatio,i.x*t.pixelDensityRatio,i.y*t.pixelDensityRatio)},drawTile:function(e,n,i,r,o){if(t.console.assert(e,"[Drawer.drawTile] tile is required"),t.console.assert(n,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var s=this._getContext(i);r=r||1,e.drawCanvas(s,n,r,o)}else e.drawHTML(this.canvas)},_getContext:function(t){var e=this.context;if(t){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var n=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=n.x,this.sketchCanvas.height=n.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var i=this;this.viewer.addHandler("rotate",(function t(){if(0!==i.viewport.getRotation()){i.viewer.removeHandler("rotate",t);var e=i._calculateSketchCanvasSize();i.sketchCanvas.width=e.x,i.sketchCanvas.height=e.y}}))}this._updateImageSmoothingEnabled(this.sketchContext)}e=this.sketchContext}return e},saveContext:function(t){this.useCanvas&&this._getContext(t).save()},restoreContext:function(t){this.useCanvas&&this._getContext(t).restore()},setClip:function(t,e){if(this.useCanvas){var n=this._getContext(e);n.beginPath(),n.rect(t.x,t.y,t.width,t.height),n.clip()}},drawRectangle:function(t,e,n){if(this.useCanvas){var i=this._getContext(n);i.save(),i.fillStyle=e,i.fillRect(t.x,t.y,t.width,t.height),i.restore()}},blendSketch:function(e,n,i,r){var o=e;if(t.isPlainObject(o)||(o={opacity:e,scale:n,translate:i,compositeOperation:r}),this.useCanvas&&this.sketchCanvas){e=o.opacity,r=o.compositeOperation;var s=o.bounds;if(this.context.save(),this.context.globalAlpha=e,r&&(this.context.globalCompositeOperation=r),s)s.x<0&&(s.width+=s.x,s.x=0),s.x+s.width>this.canvas.width&&(s.width=this.canvas.width-s.x),s.y<0&&(s.height+=s.y,s.y=0),s.y+s.height>this.canvas.height&&(s.height=this.canvas.height-s.y),this.context.drawImage(this.sketchCanvas,s.x,s.y,s.width,s.height,s.x,s.y,s.width,s.height);else{n=o.scale||1,i=o.translate;var a=i instanceof t.Point?i:new t.Point(0,0),l=0,c=0;if(i){var u=this.sketchCanvas.width-this.canvas.width,h=this.sketchCanvas.height-this.canvas.height;l=Math.round(u/2),c=Math.round(h/2)}this.context.drawImage(this.sketchCanvas,a.x-l*n,a.y-c*n,(this.canvas.width+2*l)*n,(this.canvas.height+2*c)*n,-l,-c,this.canvas.width+2*l,this.canvas.height+2*c)}this.context.restore()}},drawDebugInfo:function(e,n,i,r){if(this.useCanvas){var o=this.viewer.world.getIndexOfItem(r)%this.debugGridColor.length,s=this.context;s.save(),s.lineWidth=2*t.pixelDensityRatio,s.font="small-caps bold "+13*t.pixelDensityRatio+"px arial",s.strokeStyle=this.debugGridColor[o],s.fillStyle=this.debugGridColor[o],0!==this.viewport.degrees&&this._offsetForRotation({degrees:this.viewport.degrees}),r.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:r.getRotation(!0),point:r.viewport.pixelFromPointNoRotate(r._getRotationPoint(!0),!0)}),0===r.viewport.degrees&&r.getRotation(!0)%360===0&&r._drawer.viewer.viewport.getFlip()&&r._drawer._flip(),s.strokeRect(e.position.x*t.pixelDensityRatio,e.position.y*t.pixelDensityRatio,e.size.x*t.pixelDensityRatio,e.size.y*t.pixelDensityRatio);var a=(e.position.x+e.size.x/2)*t.pixelDensityRatio,l=(e.position.y+e.size.y/2)*t.pixelDensityRatio;s.translate(a,l),s.rotate(Math.PI/180*-this.viewport.degrees),s.translate(-a,-l),0===e.x&&0===e.y&&(s.fillText("Zoom: "+this.viewport.getZoom(),e.position.x*t.pixelDensityRatio,(e.position.y-30)*t.pixelDensityRatio),s.fillText("Pan: "+this.viewport.getBounds().toString(),e.position.x*t.pixelDensityRatio,(e.position.y-20)*t.pixelDensityRatio)),s.fillText("Level: "+e.level,(e.position.x+10)*t.pixelDensityRatio,(e.position.y+20)*t.pixelDensityRatio),s.fillText("Column: "+e.x,(e.position.x+10)*t.pixelDensityRatio,(e.position.y+30)*t.pixelDensityRatio),s.fillText("Row: "+e.y,(e.position.x+10)*t.pixelDensityRatio,(e.position.y+40)*t.pixelDensityRatio),s.fillText("Order: "+i+" of "+n,(e.position.x+10)*t.pixelDensityRatio,(e.position.y+50)*t.pixelDensityRatio),s.fillText("Size: "+e.size.toString(),(e.position.x+10)*t.pixelDensityRatio,(e.position.y+60)*t.pixelDensityRatio),s.fillText("Position: "+e.position.toString(),(e.position.x+10)*t.pixelDensityRatio,(e.position.y+70)*t.pixelDensityRatio),0!==this.viewport.degrees&&this._restoreRotationChanges(),r.getRotation(!0)%360!==0&&this._restoreRotationChanges(),0===r.viewport.degrees&&r.getRotation(!0)%360===0&&r._drawer.viewer.viewport.getFlip()&&r._drawer._flip(),s.restore()}},debugRect:function(e){if(this.useCanvas){var n=this.context;n.save(),n.lineWidth=2*t.pixelDensityRatio,n.strokeStyle=this.debugGridColor[0],n.fillStyle=this.debugGridColor[0],n.strokeRect(e.x*t.pixelDensityRatio,e.y*t.pixelDensityRatio,e.width*t.pixelDensityRatio,e.height*t.pixelDensityRatio),n.restore()}},setImageSmoothingEnabled:function(t){this.useCanvas&&(this._imageSmoothingEnabled=t,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(t){t.msImageSmoothingEnabled=this._imageSmoothingEnabled,t.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(e){var n=this._getContext(e).canvas;return new t.Point(n.width,n.height)},getCanvasCenter:function(){return new t.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(e){var n=e.point?e.point.times(t.pixelDensityRatio):this.getCanvasCenter(),i=this._getContext(e.useSketch);i.save(),i.translate(n.x,n.y),this.viewer.viewport.flipped?(i.rotate(Math.PI/180*-e.degrees),i.scale(-1,1)):i.rotate(Math.PI/180*e.degrees),i.translate(-n.x,-n.y)},_flip:function(e){e=e||{};var n=e.point?e.point.times(t.pixelDensityRatio):this.getCanvasCenter(),i=this._getContext(e.useSketch);i.translate(n.x,0),i.scale(-1,1),i.translate(-n.x,0)},_restoreRotationChanges:function(t){var e=this._getContext(t);e.restore()},_calculateCanvasSize:function(){var e=t.pixelDensityRatio,n=this.viewport.getContainerSize();return{x:Math.round(n.x*e),y:Math.round(n.y*e)}},_calculateSketchCanvasSize:function(){var t=this._calculateCanvasSize();if(0===this.viewport.getRotation())return t;var e=Math.ceil(Math.sqrt(t.x*t.x+t.y*t.y));return{x:e,y:e}}}}(OpenSeadragon),function(t){t.Viewport=function(e){var n=arguments;n.length&&n[0]instanceof t.Point&&(e={containerSize:n[0],contentSize:n[1],config:n[2]}),e.config&&(t.extend(!0,e,e.config),delete e.config),this._margins=t.extend({left:0,top:0,right:0,bottom:0},e.margins||{}),delete e.margins,t.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:t.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:t.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:t.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:t.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:t.DEFAULT_SETTINGS.maxZoomLevel,degrees:t.DEFAULT_SETTINGS.degrees,flipped:t.DEFAULT_SETTINGS.flipped,homeFillsViewer:t.DEFAULT_SETTINGS.homeFillsViewer},e),this._updateContainerInnerSize(),this.centerSpringX=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new t.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new t.Rect(0,0,1,1),1),this.goHome(!0),this.update()},t.Viewport.prototype={resetContentSize:function(e){return t.console.assert(e,"[Viewport.resetContentSize] contentSize is required"),t.console.assert(e instanceof t.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),t.console.assert(e.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),t.console.assert(e.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new t.Rect(0,0,1,e.y/e.x),e.x),this},setHomeBounds:function(e,n){t.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(e,n)},_setContentBounds:function(e,n){t.console.assert(e,"[Viewport._setContentBounds] bounds is required"),t.console.assert(e instanceof t.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),t.console.assert(e.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),t.console.assert(e.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=e.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(n),this._contentBounds=e.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(n),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:n,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var t,e=this._contentAspectRatio/this.getAspectRatio();return t=this.homeFillsViewer?e>=1?e:1:e>=1?1:e,t/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var e=this._contentBounds.getCenter(),n=1/this.getHomeZoom(),i=n/this.getAspectRatio();return new t.Rect(e.x-n/2,e.y-i/2,n,i)},goHome:function(t){return this.viewer&&this.viewer.raiseEvent("home",{immediately:t}),this.fitBounds(this.getHomeBounds(),t)},getMinZoom:function(){var t=this.getHomeZoom(),e=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*t;return e},getMaxZoom:function(){var t=this.maxZoomLevel;return t||(t=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,t/=this._contentBounds.width),Math.max(t,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new t.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return t.extend({},this._margins)},setMargins:function(e){t.console.assert("object"===t.type(e),"[Viewport.setMargins] margins must be an object"),this._margins=t.extend({left:0,top:0,right:0,bottom:0},e),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(t){return this.getBoundsNoRotate(t).rotate(-this.getRotation())},getBoundsNoRotate:function(e){var n=this.getCenter(e),i=1/this.getZoom(e),r=i/this.getAspectRatio();return new t.Rect(n.x-i/2,n.y-r/2,i,r)},getBoundsWithMargins:function(t){return this.getBoundsNoRotateWithMargins(t).rotate(-this.getRotation(),this.getCenter(t))},getBoundsNoRotateWithMargins:function(t){var e=this.getBoundsNoRotate(t),n=this._containerInnerSize.x*this.getZoom(t);return e.x-=this._margins.left/n,e.y-=this._margins.top/n,e.width+=(this._margins.left+this._margins.right)/n,e.height+=(this._margins.top+this._margins.bottom)/n,e},getCenter:function(e){var n,i,r,o,s,a,l,c,u=new t.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),h=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return e?u:this.zoomPoint?(n=this.pixelFromPoint(this.zoomPoint,!0),i=this.getZoom(),r=1/i,o=r/this.getAspectRatio(),s=new t.Rect(u.x-r/2,u.y-o/2,r,o),a=this._pixelFromPoint(this.zoomPoint,s),l=a.minus(n),c=l.divide(this._containerInnerSize.x*i),h.plus(c)):h},getZoom:function(t){return t?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(t){return Math.max(Math.min(t,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(e){var n=new t.Rect(e.x,e.y,e.width,e.height);if(this.wrapHorizontal);else{var i=this.visibilityRatio*n.width,r=n.x+n.width,o=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,s=this._contentBoundsNoRotate.x-r+i,a=o-n.x-i;i>this._contentBoundsNoRotate.width?n.x+=(s+a)/2:a<0?n.x+=a:s>0&&(n.x+=s)}if(this.wrapVertical);else{var l=this.visibilityRatio*n.height,c=n.y+n.height,u=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,h=this._contentBoundsNoRotate.y-c+l,p=u-n.y-l;l>this._contentBoundsNoRotate.height?n.y+=(h+p)/2:p<0?n.y+=p:h>0&&(n.y+=h)}return n},_raiseConstraintsEvent:function(t){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:t})},applyConstraints:function(t){var e=this.getZoom(),n=this._applyZoomConstraints(e);e!==n&&this.zoomTo(n,this.zoomPoint,t);var i=this.getBoundsNoRotate(),r=this._applyBoundaryConstraints(i);return this._raiseConstraintsEvent(t),(i.x!==r.x||i.y!==r.y||t)&&this.fitBounds(r.rotate(-this.getRotation()),t),this},ensureVisible:function(t){return this.applyConstraints(t)},_fitBounds:function(e,n){n=n||{};var i=n.immediately||!1,r=n.constraints||!1,o=this.getAspectRatio(),s=e.getCenter(),a=new t.Rect(e.x,e.y,e.width,e.height,e.degrees+this.getRotation()).getBoundingBox();a.getAspectRatio()>=o?a.height=a.width/o:a.width=a.height*o,a.x=s.x-a.width/2,a.y=s.y-a.height/2;var l=1/a.width;if(r){var c=a.getAspectRatio(),u=this._applyZoomConstraints(l);l!==u&&(l=u,a.width=1/l,a.x=s.x-a.width/2,a.height=a.width/c,a.y=s.y-a.height/2),a=this._applyBoundaryConstraints(a),s=a.getCenter(),this._raiseConstraintsEvent(i)}if(i)return this.panTo(s,!0),this.zoomTo(l,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var h=this.getBounds(),p=this.getZoom();if(0===p||Math.abs(l/p-1)<1e-8)return this.zoomTo(l,!0),this.panTo(s,i);a=a.rotate(-this.getRotation());var f=a.getTopLeft().times(l).minus(h.getTopLeft().times(p)).divide(l-p);return this.zoomTo(l,f,i)},fitBounds:function(t,e){return this._fitBounds(t,{immediately:e,constraints:!1})},fitBoundsWithConstraints:function(t,e){return this._fitBounds(t,{immediately:e,constraints:!0})},fitVertically:function(e){var n=new t.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(n,e)},fitHorizontally:function(e){var n=new t.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(n,e)},getConstrainedBounds:function(t){var e,n;return e=this.getBounds(t),n=this._applyBoundaryConstraints(e),n},panBy:function(e,n){var i=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(i.plus(e),n)},panTo:function(t,e){return e?(this.centerSpringX.resetTo(t.x),this.centerSpringY.resetTo(t.y)):(this.centerSpringX.springTo(t.x),this.centerSpringY.springTo(t.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:t,immediately:e}),this},zoomBy:function(t,e,n){return this.zoomTo(this.zoomSpring.target.value*t,e,n)},zoomTo:function(e,n,i){var r=this;return this.zoomPoint=n instanceof t.Point&&!isNaN(n.x)&&!isNaN(n.y)?n:null,i?this._adjustCenterSpringsForZoomPoint((function(){r.zoomSpring.resetTo(e)})):this.zoomSpring.springTo(e),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:e,refPoint:n,immediately:i}),this},setRotation:function(e){return this.viewer&&this.viewer.drawer.canRotate()?(this.degrees=t.positiveModulo(e,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:e}),this):this},getRotation:function(){return this.degrees},resize:function(t,e){var n,i=this.getBoundsNoRotate(),r=i;return this.containerSize.x=t.x,this.containerSize.y=t.y,this._updateContainerInnerSize(),e&&(n=t.x/this.containerSize.x,r.width=i.width*n,r.height=r.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:t,maintain:e}),this.fitBounds(r,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new t.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var t=this;this._adjustCenterSpringsForZoomPoint((function(){t.zoomSpring.update()})),this.centerSpringX.update(),this.centerSpringY.update();var e=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,e},_adjustCenterSpringsForZoomPoint:function(t){if(this.zoomPoint){var e=this.pixelFromPoint(this.zoomPoint,!0);t();var n=this.pixelFromPoint(this.zoomPoint,!0),i=n.minus(e),r=this.deltaPointsFromPixels(i,!0);this.centerSpringX.shiftBy(r.x),this.centerSpringY.shiftBy(r.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else t()},deltaPixelsFromPointsNoRotate:function(t,e){return t.times(this._containerInnerSize.x*this.getZoom(e))},deltaPixelsFromPoints:function(t,e){return this.deltaPixelsFromPointsNoRotate(t.rotate(this.getRotation()),e)},deltaPointsFromPixelsNoRotate:function(t,e){return t.divide(this._containerInnerSize.x*this.getZoom(e))},deltaPointsFromPixels:function(t,e){return this.deltaPointsFromPixelsNoRotate(t,e).rotate(-this.getRotation())},pixelFromPointNoRotate:function(t,e){return this._pixelFromPointNoRotate(t,this.getBoundsNoRotate(e))},pixelFromPoint:function(t,e){return this._pixelFromPoint(t,this.getBoundsNoRotate(e))},_pixelFromPointNoRotate:function(e,n){return e.minus(n.getTopLeft()).times(this._containerInnerSize.x/n.width).plus(new t.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(t,e){return this._pixelFromPointNoRotate(t.rotate(this.getRotation(),this.getCenter(!0)),e)},pointFromPixelNoRotate:function(e,n){var i=this.getBoundsNoRotate(n);return e.minus(new t.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/i.width).plus(i.getTopLeft())},pointFromPixel:function(t,e){return this.pointFromPixelNoRotate(t,e).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(e,n){var i=this._contentBoundsNoRotate.width;return new t.Point(e*this._contentSizeNoRotate.x/i,n*this._contentSizeNoRotate.x/i)},viewportToImageCoordinates:function(e,n){if(e instanceof t.Point)return this.viewportToImageCoordinates(e.x,e.y);if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)t.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===i){var r=this.viewer.world.getItemAt(0);return r.viewportToImageCoordinates(e,n,!0)}}return this._viewportToImageDelta(e-this._contentBoundsNoRotate.x,n-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(e,n){var i=this._contentBoundsNoRotate.width;return new t.Point(e/this._contentSizeNoRotate.x*i,n/this._contentSizeNoRotate.x*i)},imageToViewportCoordinates:function(e,n){if(e instanceof t.Point)return this.imageToViewportCoordinates(e.x,e.y);if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)t.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===i){var r=this.viewer.world.getItemAt(0);return r.imageToViewportCoordinates(e,n,!0)}}var o=this._imageToViewportDelta(e,n);return o.x+=this._contentBoundsNoRotate.x,o.y+=this._contentBoundsNoRotate.y,o},imageToViewportRectangle:function(e,n,i,r){var o=e;if(o instanceof t.Rect||(o=new t.Rect(e,n,i,r)),this.viewer){var s=this.viewer.world.getItemCount();if(s>1)t.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===s){var a=this.viewer.world.getItemAt(0);return a.imageToViewportRectangle(e,n,i,r,!0)}}var l=this.imageToViewportCoordinates(o.x,o.y),c=this._imageToViewportDelta(o.width,o.height);return new t.Rect(l.x,l.y,c.x,c.y,o.degrees)},viewportToImageRectangle:function(e,n,i,r){var o=e;if(o instanceof t.Rect||(o=new t.Rect(e,n,i,r)),this.viewer){var s=this.viewer.world.getItemCount();if(s>1)t.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===s){var a=this.viewer.world.getItemAt(0);return a.viewportToImageRectangle(e,n,i,r,!0)}}var l=this.viewportToImageCoordinates(o.x,o.y),c=this._viewportToImageDelta(o.width,o.height);return new t.Rect(l.x,l.y,c.x,c.y,o.degrees)},viewerElementToImageCoordinates:function(t){var e=this.pointFromPixel(t,!0);return this.viewportToImageCoordinates(e)},imageToViewerElementCoordinates:function(t){var e=this.imageToViewportCoordinates(t);return this.pixelFromPoint(e,!0)},windowToImageCoordinates:function(e){t.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var n=e.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(n)},imageToWindowCoordinates:function(e){t.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var n=this.imageToViewerElementCoordinates(e);return n.plus(t.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(t){return this.pointFromPixel(t,!0)},viewportToViewerElementCoordinates:function(t){return this.pixelFromPoint(t,!0)},viewerElementToViewportRectangle:function(e){return t.Rect.fromSummits(this.pointFromPixel(e.getTopLeft(),!0),this.pointFromPixel(e.getTopRight(),!0),this.pointFromPixel(e.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(e){return t.Rect.fromSummits(this.pixelFromPoint(e.getTopLeft(),!0),this.pixelFromPoint(e.getTopRight(),!0),this.pixelFromPoint(e.getBottomLeft(),!0))},windowToViewportCoordinates:function(e){t.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var n=e.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(n)},viewportToWindowCoordinates:function(e){t.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var n=this.viewportToViewerElementCoordinates(e);return n.plus(t.getElementPosition(this.viewer.element))},viewportToImageZoom:function(e){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)t.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===n){var i=this.viewer.world.getItemAt(0);return i.viewportToImageZoom(e)}}var r=this._contentSizeNoRotate.x,o=this._containerInnerSize.x,s=this._contentBoundsNoRotate.width,a=o/r*s;return e*a},imageToViewportZoom:function(e){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)t.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===n){var i=this.viewer.world.getItemAt(0);return i.imageToViewportZoom(e)}}var r=this._contentSizeNoRotate.x,o=this._containerInnerSize.x,s=this._contentBoundsNoRotate.width,a=r/o/s;return e*a},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(t){return this.flipped===t||(this.flipped=t,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:t})),this}}}(OpenSeadragon),function(t){function e(t,e,i,r,o,s,a,l,c){var u=a.getBoundingBox().getTopLeft(),h=a.getBoundingBox().getBottomRight();t.viewer&&t.viewer.raiseEvent("update-level",{tiledImage:t,havedrawn:e,level:r,opacity:o,visibility:s,drawArea:a,topleft:u,bottomright:h,currenttime:l,best:c}),p(t.coverage,r),p(t.loadingCoverage,r);for(var f=t._getCornerTiles(r,u,h),d=f.topLeft,g=f.bottomRight,v=t.source.getNumTiles(r),m=t.viewport.pixelFromPoint(t.viewport.getCenter()),y=d.x;y<=g.x;y++)for(var b=d.y;b<=g.y;b++){if(!t.wrapHorizontal&&!t.wrapVertical){var w=t.source.getTileBounds(r,y,b);if(null===a.intersection(w))continue}c=n(t,i,e,y,b,r,o,s,m,v,l,c)}return c}function n(t,e,n,r,o,c,p,d,g,v,m,y){var b=i(r,o,c,t,t.source,t.tilesMatrix,m,v,t._worldWidthCurrent,t._worldHeightCurrent),w=n;t.viewer&&t.viewer.raiseEvent("update-tile",{tiledImage:t,tile:b}),h(t.coverage,c,r,o,!1);var _=b.loaded||b.loading||u(t.loadingCoverage,c,r,o);if(h(t.loadingCoverage,c,r,o,_),!b.exists)return y;if(e&&!w&&(u(t.coverage,c,r,o)?h(t.coverage,c,r,o,!0):w=!0),!w)return y;if(a(b,t.source.tileOverlap,t.viewport,g,d,t),!b.loaded)if(b.context2D)s(t,b);else{var x=t._tileCache.getImageRecord(b.cacheKey);if(x){var S=x.getImage();s(t,b,S)}}if(b.loaded){var T=l(t,b,r,o,c,p,m);T&&(t._needsDraw=!0)}else b.loading?t._tilesLoading++:_||(y=f(y,b));return y}function i(e,n,i,r,o,s,a,l,c,u){var h,p,f,d,g,v,m,y,b;return s[i]||(s[i]={}),s[i][e]||(s[i][e]={}),s[i][e][n]||(h=(l.x+e%l.x)%l.x,p=(l.y+n%l.y)%l.y,f=o.getTileBounds(i,h,p),d=o.getTileBounds(i,h,p,!0),g=o.tileExists(i,h,p),v=o.getTileUrl(i,h,p),r.loadTilesWithAjax?(m=o.getTileAjaxHeaders(i,h,p),t.isPlainObject(r.ajaxHeaders)&&(m=t.extend({},r.ajaxHeaders,m))):m=null,y=o.getContext2D?o.getContext2D(i,h,p):void 0,f.x+=(e-h)/l.x,f.y+=u/c*((n-p)/l.y),b=new t.Tile(i,e,n,f,g,v,y,r.loadTilesWithAjax,m,d),h===l.x-1&&(b.isRightMost=!0),p===l.y-1&&(b.isBottomMost=!0),s[i][e][n]=b),b=s[i][e][n],b.lastTouchTime=a,b}function r(t,e,n){e.loading=!0,t._imageLoader.addJob({src:e.url,loadWithAjax:e.loadWithAjax,ajaxHeaders:e.ajaxHeaders,crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,callback:function(i,r,s){o(t,e,n,i,r,s)},abort:function(){e.loading=!1}})}function o(e,n,i,r,o,a){if(!r)return t.console.log("Tile %s failed to load: %s - error: %s",n,n.url,o),e.viewer.raiseEvent("tile-load-failed",{tile:n,tiledImage:e,time:i,message:o,tileRequest:a}),n.loading=!1,void(n.exists=!1);if(i<e.lastResetTime)return t.console.log("Ignoring tile %s loaded before reset: %s",n,n.url),void(n.loading=!1);var l=function(){var t=e.source.getClosestLevel();s(e,n,r,t,a)};e._midDraw?window.setTimeout(l,1):l()}function s(t,e,n,i,r){var o=0;function s(){return o++,a}function a(){o--,0===o&&(e.loading=!1,e.loaded=!0,e.context2D||t._tileCache.cacheTile({image:n,tile:e,cutoff:i,tiledImage:t}),t._needsDraw=!0)}t.viewer.raiseEvent("tile-loaded",{tile:e,tiledImage:t,tileRequest:r,image:n,getCompletionCallback:s}),s()()}function a(e,n,i,r,o,s){var a=e.bounds.getTopLeft();a.x*=s._scaleSpring.current.value,a.y*=s._scaleSpring.current.value,a.x+=s._xSpring.current.value,a.y+=s._ySpring.current.value;var l=e.bounds.getSize();l.x*=s._scaleSpring.current.value,l.y*=s._scaleSpring.current.value;var c=i.pixelFromPointNoRotate(a,!0),u=i.pixelFromPointNoRotate(a,!1),h=i.deltaPixelsFromPointsNoRotate(l,!0),p=i.deltaPixelsFromPointsNoRotate(l,!1),f=u.plus(p.divide(2)),d=r.squaredDistanceTo(f);n||(h=h.plus(new t.Point(1,1))),e.isRightMost&&s.wrapHorizontal&&(h.x+=.75),e.isBottomMost&&s.wrapVertical&&(h.y+=.75),e.position=c,e.size=h,e.squaredDistance=d,e.visibility=o}function l(t,e,n,i,r,o,s){var a,l,c=1e3*t.blendTime;if(e.blendStart||(e.blendStart=s),a=s-e.blendStart,l=c?Math.min(1,a/c):1,t.alwaysBlend&&(l*=o),e.opacity=l,t.lastDrawn.push(e),1===l)h(t.coverage,r,n,i,!0),t._hasOpaqueTile=!0;else if(a<c)return!0;return!1}function c(t,e,n,i){var r,o,s,a;if(!t[e])return!1;if(void 0===n||void 0===i){for(s in r=t[e],r)if(Object.prototype.hasOwnProperty.call(r,s))for(a in o=r[s],o)if(Object.prototype.hasOwnProperty.call(o,a)&&!o[a])return!1;return!0}return void 0===t[e][n]||void 0===t[e][n][i]||!0===t[e][n][i]}function u(t,e,n,i){return void 0===n||void 0===i?c(t,e+1):c(t,e+1,2*n,2*i)&&c(t,e+1,2*n,2*i+1)&&c(t,e+1,2*n+1,2*i)&&c(t,e+1,2*n+1,2*i+1)}function h(e,n,i,r,o){e[n]?(e[n][i]||(e[n][i]={}),e[n][i][r]=o):t.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",n)}function p(t,e){t[e]={}}function f(t,e){return t?e.visibility>t.visibility||e.visibility==t.visibility&&e.squaredDistance<t.squaredDistance?e:t:e}function d(e,n){if(0!==e.opacity&&(0!==n.length||e.placeholderFillStyle)){var i,r,o,s=n[0];s&&(i=e.opacity<1||e.compositeOperation&&"source-over"!==e.compositeOperation||!e._isBottomItem()&&s._hasTransparencyChannel());var a,l=e.viewport.getZoom(!0),c=e.viewportToImageZoom(l);n.length>1&&c>e.smoothTileEdgesMinZoom&&!e.iOSDevice&&e.getRotation(!0)%360===0&&t.supportsCanvas&&(i=!0,r=s.getScaleForEdgeSmoothing(),o=s.getTranslationForEdgeSmoothing(r,e._drawer.getCanvasSize(!1),e._drawer.getCanvasSize(!0))),i&&(r||(a=e.viewport.viewportToViewerElementRectangle(e.getClippedBounds(!0)).getIntegerBoundingBox(),e._drawer.viewer.viewport.getFlip()&&(0===e.viewport.degrees&&e.getRotation(!0)%360===0||(a.x=e._drawer.viewer.container.clientWidth-(a.x+a.width))),a=a.times(t.pixelDensityRatio)),e._drawer._clear(!0,a)),r||(0!==e.viewport.degrees&&e._drawer._offsetForRotation({degrees:e.viewport.degrees,useSketch:i}),e.getRotation(!0)%360!==0&&e._drawer._offsetForRotation({degrees:e.getRotation(!0),point:e.viewport.pixelFromPointNoRotate(e._getRotationPoint(!0),!0),useSketch:i}),0===e.viewport.degrees&&e.getRotation(!0)%360===0&&e._drawer.viewer.viewport.getFlip()&&e._drawer._flip());var u=!1;if(e._clip){e._drawer.saveContext(i);var h=e.imageToViewportRectangle(e._clip,!0);h=h.rotate(-e.getRotation(!0),e._getRotationPoint(!0));var p=e._drawer.viewportToDrawerRectangle(h);r&&(p=p.times(r)),o&&(p=p.translate(o)),e._drawer.setClip(p,i),u=!0}if(e._croppingPolygons){e._drawer.saveContext(i);try{var f=e._croppingPolygons.map((function(t){return t.map((function(t){var n=e.imageToViewportCoordinates(t.x,t.y,!0).rotate(-e.getRotation(!0),e._getRotationPoint(!0)),i=e._drawer.viewportCoordToDrawerCoord(n);return r&&(i=i.times(r)),i}))}));e._drawer.clipWithPolygons(f,i)}catch(y){t.console.error(y)}u=!0}if(e.placeholderFillStyle&&!1===e._hasOpaqueTile){var d=e._drawer.viewportToDrawerRectangle(e.getBounds(!0));r&&(d=d.times(r)),o&&(d=d.translate(o));var v=null;v="function"===typeof e.placeholderFillStyle?e.placeholderFillStyle(e,e._drawer.context):e.placeholderFillStyle,e._drawer.drawRectangle(d,v,i)}for(var m=n.length-1;m>=0;m--)s=n[m],e._drawer.drawTile(s,e._drawingHandler,i,r,o),s.beingDrawn=!0,e.viewer&&e.viewer.raiseEvent("tile-drawn",{tiledImage:e,tile:s});u&&e._drawer.restoreContext(i),r||(e.getRotation(!0)%360!==0&&e._drawer._restoreRotationChanges(i),0!==e.viewport.degrees&&e._drawer._restoreRotationChanges(i)),i&&(r&&(0!==e.viewport.degrees&&e._drawer._offsetForRotation({degrees:e.viewport.degrees,useSketch:!1}),e.getRotation(!0)%360!==0&&e._drawer._offsetForRotation({degrees:e.getRotation(!0),point:e.viewport.pixelFromPointNoRotate(e._getRotationPoint(!0),!0),useSketch:!1})),e._drawer.blendSketch({opacity:e.opacity,scale:r,translate:o,compositeOperation:e.compositeOperation,bounds:a}),r&&(e.getRotation(!0)%360!==0&&e._drawer._restoreRotationChanges(!1),0!==e.viewport.degrees&&e._drawer._restoreRotationChanges(!1))),r||0===e.viewport.degrees&&e.getRotation(!0)%360===0&&e._drawer.viewer.viewport.getFlip()&&e._drawer._flip(),g(e,n)}}function g(e,n){if(e.debugMode)for(var i=n.length-1;i>=0;i--){var r=n[i];try{e._drawer.drawDebugInfo(r,n.length,i,e)}catch(o){t.console.error(o)}}}t.TiledImage=function(e){var n=this;t.console.assert(e.tileCache,"[TiledImage] options.tileCache is required"),t.console.assert(e.drawer,"[TiledImage] options.drawer is required"),t.console.assert(e.viewer,"[TiledImage] options.viewer is required"),t.console.assert(e.imageLoader,"[TiledImage] options.imageLoader is required"),t.console.assert(e.source,"[TiledImage] options.source is required"),t.console.assert(!e.clip||e.clip instanceof t.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),t.EventSource.call(this),this._tileCache=e.tileCache,delete e.tileCache,this._drawer=e.drawer,delete e.drawer,this._imageLoader=e.imageLoader,delete e.imageLoader,e.clip instanceof t.Rect&&(this._clip=e.clip.clone()),delete e.clip;var i=e.x||0;delete e.x;var r=e.y||0;delete e.y,this.normHeight=e.source.dimensions.y/e.source.dimensions.x,this.contentAspectX=e.source.dimensions.x/e.source.dimensions.y;var o=1;e.width?(o=e.width,delete e.width,e.height&&(t.console.error("specifying both width and height to a tiledImage is not supported"),delete e.height)):e.height&&(o=e.height/this.normHeight,delete e.height);var s=e.fitBounds;delete e.fitBounds;var a=e.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete e.fitBoundsPlacement;var l=e.degrees||0;delete e.degrees,t.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,immediateRender:t.DEFAULT_SETTINGS.immediateRender,blendTime:t.DEFAULT_SETTINGS.blendTime,alwaysBlend:t.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:t.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:t.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:t.DEFAULT_SETTINGS.iOSDevice,debugMode:t.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:t.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:t.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:t.DEFAULT_SETTINGS.placeholderFillStyle,opacity:t.DEFAULT_SETTINGS.opacity,preload:t.DEFAULT_SETTINGS.preload,compositeOperation:t.DEFAULT_SETTINGS.compositeOperation},e),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new t.Spring({initial:i,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new t.Spring({initial:r,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new t.Spring({initial:o,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new t.Spring({initial:l,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),s&&this.fitBounds(s,a,!0),this._drawingHandler=function(e){n.viewer.raiseEvent("tile-drawing",t.extend({tiledImage:n},e))}},t.extend(t.TiledImage.prototype,t.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(t){t!==this._fullyLoaded&&(this._fullyLoaded=t,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=t.now(),this._needsDraw=!0},update:function(){var t=this._xSpring.update(),e=this._ySpring.update(),n=this._scaleSpring.update(),i=this._degreesSpring.update();return!!(t||e||n||i)&&(this._updateForScale(),this._needsDraw=!0,!0)},draw:function(){0!==this.opacity||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset()},getBounds:function(t){return this.getBoundsNoRotate(t).rotate(this.getRotation(t),this._getRotationPoint(t))},getBoundsNoRotate:function(e){return e?new t.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new t.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return t.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(e){var n=this.getBoundsNoRotate(e);if(this._clip){var i=e?this._worldWidthCurrent:this._worldWidthTarget,r=i/this.source.dimensions.x,o=this._clip.times(r);n=new t.Rect(n.x+o.x,n.y+o.y,o.width,o.height)}return n.rotate(this.getRotation(e),this._getRotationPoint(e))},getContentSize:function(){return new t.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(e,n,i){var r=i?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(e*(this.source.dimensions.x/r),n*(this.source.dimensions.y*this.contentAspectX/r))},viewportToImageCoordinates:function(e,n,i){var r;return e instanceof t.Point?(i=n,r=e):r=new t.Point(e,n),r=r.rotate(-this.getRotation(i),this._getRotationPoint(i)),i?this._viewportToImageDelta(r.x-this._xSpring.current.value,r.y-this._ySpring.current.value):this._viewportToImageDelta(r.x-this._xSpring.target.value,r.y-this._ySpring.target.value)},_imageToViewportDelta:function(e,n,i){var r=i?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(e/this.source.dimensions.x*r,n/this.source.dimensions.y/this.contentAspectX*r)},imageToViewportCoordinates:function(e,n,i){e instanceof t.Point&&(i=n,n=e.y,e=e.x);var r=this._imageToViewportDelta(e,n);return i?(r.x+=this._xSpring.current.value,r.y+=this._ySpring.current.value):(r.x+=this._xSpring.target.value,r.y+=this._ySpring.target.value),r.rotate(this.getRotation(i),this._getRotationPoint(i))},imageToViewportRectangle:function(e,n,i,r,o){var s=e;s instanceof t.Rect?o=n:s=new t.Rect(e,n,i,r);var a=this.imageToViewportCoordinates(s.getTopLeft(),o),l=this._imageToViewportDelta(s.width,s.height,o);return new t.Rect(a.x,a.y,l.x,l.y,s.degrees+this.getRotation(o))},viewportToImageRectangle:function(e,n,i,r,o){var s=e;e instanceof t.Rect?o=n:s=new t.Rect(e,n,i,r);var a=this.viewportToImageCoordinates(s.getTopLeft(),o),l=this._viewportToImageDelta(s.width,s.height,o);return new t.Rect(a.x,a.y,l.x,l.y,s.degrees-this.getRotation(o))},viewerElementToImageCoordinates:function(t){var e=this.viewport.pointFromPixel(t,!0);return this.viewportToImageCoordinates(e)},imageToViewerElementCoordinates:function(t){var e=this.imageToViewportCoordinates(t);return this.viewport.pixelFromPoint(e,!0)},windowToImageCoordinates:function(t){var e=t.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(e)},imageToWindowCoordinates:function(t){var e=this.imageToViewerElementCoordinates(t);return e.plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(e){var n=this._scaleSpring.current.value;return e=e.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new t.Rect((e.x-this._xSpring.current.value)/n,(e.y-this._ySpring.current.value)/n,e.width/n,e.height/n,e.degrees)},viewportToImageZoom:function(t){var e=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return e*t},imageToViewportZoom:function(t){var e=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return t/e},setPosition:function(t,e){var n=this._xSpring.target.value===t.x&&this._ySpring.target.value===t.y;if(e){if(n&&this._xSpring.current.value===t.x&&this._ySpring.current.value===t.y)return;this._xSpring.resetTo(t.x),this._ySpring.resetTo(t.y),this._needsDraw=!0}else{if(n)return;this._xSpring.springTo(t.x),this._ySpring.springTo(t.y),this._needsDraw=!0}n||this._raiseBoundsChange()},setWidth:function(t,e){this._setScale(t,e)},setHeight:function(t,e){this._setScale(t/this.normHeight,e)},setCroppingPolygons:function(e){var n=function(e){return e instanceof t.Point||"number"===typeof e.x&&"number"===typeof e.y},i=function(t){return t.map((function(t){try{if(n(t))return{x:t.x,y:t.y};throw new Error}catch(e){throw new Error("A Provided cropping polygon point is not supported")}}))};try{if(!t.isArray(e))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=e.map((function(t){return i(t)}))}catch(r){t.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),t.console.error(r),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(e,n,i){n=n||t.Placement.CENTER;var r=t.Placement.properties[n],o=this.contentAspectX,s=0,a=0,l=1,c=1;if(this._clip&&(o=this._clip.getAspectRatio(),l=this._clip.width/this.source.dimensions.x,c=this._clip.height/this.source.dimensions.y,e.getAspectRatio()>o?(s=this._clip.x/this._clip.height*e.height,a=this._clip.y/this._clip.height*e.height):(s=this._clip.x/this._clip.width*e.width,a=this._clip.y/this._clip.width*e.width)),e.getAspectRatio()>o){var u=e.height/c,h=0;r.isHorizontallyCentered?h=(e.width-e.height*o)/2:r.isRight&&(h=e.width-e.height*o),this.setPosition(new t.Point(e.x-s+h,e.y-a),i),this.setHeight(u,i)}else{var p=e.width/l,f=0;r.isVerticallyCentered?f=(e.height-e.width/o)/2:r.isBottom&&(f=e.height-e.width/o),this.setPosition(new t.Point(e.x-s,e.y-a+f),i),this.setWidth(p,i)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(e){t.console.assert(!e||e instanceof t.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),e instanceof t.Rect?this._clip=e.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getOpacity:function(){return this.opacity},setOpacity:function(t){t!==this.opacity&&(this.opacity=t,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(t){this._preload=!!t,this._needsDraw=!0},getRotation:function(t){return t?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(t,e){this._degreesSpring.target.value===t&&this._degreesSpring.isAtTargetValue()||(e?this._degreesSpring.resetTo(t):this._degreesSpring.springTo(t),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(t){return this.getBoundsNoRotate(t).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(t){t!==this.compositeOperation&&(this.compositeOperation=t,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(t,e){var n=this._scaleSpring.target.value===t;if(e){if(n&&this._scaleSpring.current.value===t)return;this._scaleSpring.resetTo(t),this._updateForScale(),this._needsDraw=!0}else{if(n)return;this._scaleSpring.springTo(t),this._updateForScale(),this._needsDraw=!0}n||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var t=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),e=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,n=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(e/this.minPixelRatio)/Math.log(2))));return n=Math.max(n,this.source.minLevel||0),t=Math.min(t,n),{lowestLevel:t,highestLevel:n}},_updateViewport:function(){this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};while(this.lastDrawn.length>0){var n=this.lastDrawn.pop();n.beingDrawn=!1}var i=this.viewport,o=this._viewportToTiledImageRectangle(i.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var s=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(o=o.intersection(s),null===o)return}for(var a=this._getLevelsInterval(),l=a.lowestLevel,u=a.highestLevel,h=null,p=!1,f=t.now(),g=u;g>=l;g--){var v=!1,m=i.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(g),!0).x*this._scaleSpring.current.value;if(g===l||!p&&m>=this.minPixelRatio)v=!0,p=!0;else if(!p)continue;var y=i.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(g),!1).x*this._scaleSpring.current.value,b=i.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,w=this.immediateRender?1:b,_=Math.min(1,(m-.5)/.5),x=w/Math.abs(w-y);if(h=e(this,p,v,g,_,x,o,f,h),c(this.coverage,g))break}d(this,this.lastDrawn),h&&!h.context2D?(r(this,h,f),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(e,n,i){var r,o,s,a;this.wrapHorizontal?(r=t.positiveModulo(n.x,1),o=t.positiveModulo(i.x,1)):(r=Math.max(0,n.x),o=Math.min(1,i.x));var l=1/this.source.aspectRatio;this.wrapVertical?(s=t.positiveModulo(n.y,l),a=t.positiveModulo(i.y,l)):(s=Math.max(0,n.y),a=Math.min(l,i.y));var c=this.source.getTileAtPoint(e,new t.Point(r,s)),u=this.source.getTileAtPoint(e,new t.Point(o,a)),h=this.source.getNumTiles(e);return this.wrapHorizontal&&(c.x+=h.x*Math.floor(n.x),u.x+=h.x*Math.floor(i.x)),this.wrapVertical&&(c.y+=h.y*Math.floor(n.y/l),u.y+=h.y*Math.floor(i.y/l)),{topLeft:c,bottomRight:u}}})}(OpenSeadragon),function(t){var e=function(e){t.console.assert(e,"[TileCache.cacheTile] options is required"),t.console.assert(e.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(e.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=e.tile,this.tiledImage=e.tiledImage},n=function(e){t.console.assert(e,"[ImageRecord] options is required"),t.console.assert(e.image,"[ImageRecord] options.image is required"),this._image=e.image,this._tiles=[]};n.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var t=document.createElement("canvas");t.width=this._image.width,t.height=this._image.height,this._renderedContext=t.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(e){t.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=e},addTile:function(e){t.console.assert(e,"[ImageRecord.addTile] tile is required"),this._tiles.push(e)},removeTile:function(e){for(var n=0;n<this._tiles.length;n++)if(this._tiles[n]===e)return void this._tiles.splice(n,1);t.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",e)},getTileCount:function(){return this._tiles.length}},t.TileCache=function(e){e=e||{},this._maxImageCacheCount=e.maxImageCacheCount||t.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},t.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(i){t.console.assert(i,"[TileCache.cacheTile] options is required"),t.console.assert(i.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(i.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),t.console.assert(i.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var r=i.cutoff||0,o=this._tilesLoaded.length,s=this._imagesLoaded[i.tile.cacheKey];if(s||(t.console.assert(i.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),s=this._imagesLoaded[i.tile.cacheKey]=new n({image:i.image}),this._imagesLoadedCount++),s.addTile(i.tile),i.tile.cacheImageRecord=s,this._imagesLoadedCount>this._maxImageCacheCount){for(var a,l,c,u,h,p,f=null,d=-1,g=null,v=this._tilesLoaded.length-1;v>=0;v--)p=this._tilesLoaded[v],a=p.tile,a.level<=r||a.beingDrawn||(f?(u=a.lastTouchTime,l=f.lastTouchTime,h=a.level,c=f.level,(u<l||u==l&&h>c)&&(f=a,d=v,g=p)):(f=a,d=v,g=p));f&&d>=0&&(this._unloadTile(g),o=d)}this._tilesLoaded[o]=new e({tile:i.tile,tiledImage:i.tiledImage})},clearTilesFor:function(e){var n;t.console.assert(e,"[TileCache.clearTilesFor] tiledImage is required");for(var i=0;i<this._tilesLoaded.length;++i)n=this._tilesLoaded[i],n.tiledImage===e&&(this._unloadTile(n),this._tilesLoaded.splice(i,1),i--)},getImageRecord:function(e){return t.console.assert(e,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[e]},_unloadTile:function(e){t.console.assert(e,"[TileCache._unloadTile] tileRecord is required");var n=e.tile,i=e.tiledImage;n.unload(),n.cacheImageRecord=null;var r=this._imagesLoaded[n.cacheKey];r.removeTile(n),r.getTileCount()||(r.destroy(),delete this._imagesLoaded[n.cacheKey],this._imagesLoadedCount--),i.viewer.raiseEvent("tile-unloaded",{tile:n,tiledImage:i})}}}(OpenSeadragon),function(t){t.World=function(e){var n=this;t.console.assert(e.viewer,"[World] options.viewer is required"),t.EventSource.call(this),this.viewer=e.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(t){n._autoRefigureSizes?n._figureSizes():n._needsSizesFigured=!0},this._figureSizes()},t.extend(t.World.prototype,t.EventSource.prototype,{addItem:function(e,n){if(t.console.assert(e,"[World.addItem] item is required"),t.console.assert(e instanceof t.TiledImage,"[World.addItem] only TiledImages supported at this time"),n=n||{},void 0!==n.index){var i=Math.max(0,Math.min(this._items.length,n.index));this._items.splice(i,0,e)}else this._items.push(e);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,e.addHandler("bounds-change",this._delegatedFigureSizes),e.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:e})},getItemAt:function(e){return t.console.assert(void 0!==e,"[World.getItemAt] index is required"),this._items[e]},getIndexOfItem:function(e){return t.console.assert(e,"[World.getIndexOfItem] item is required"),t.indexOf(this._items,e)},getItemCount:function(){return this._items.length},setItemIndex:function(e,n){t.console.assert(e,"[World.setItemIndex] item is required"),t.console.assert(void 0!==n,"[World.setItemIndex] index is required");var i=this.getIndexOfItem(e);if(n>=this._items.length)throw new Error("Index bigger than number of layers.");n!==i&&-1!==i&&(this._items.splice(i,1),this._items.splice(n,0,e),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:e,previousIndex:i,newIndex:n}))},removeItem:function(e){t.console.assert(e,"[World.removeItem] item is required");var n=t.indexOf(this._items,e);-1!==n&&(e.removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy(),this._items.splice(n,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(e))},removeAll:function(){var t,e;for(this.viewer._cancelPendingImages(),e=0;e<this._items.length;e++)t=this._items[e],t.removeHandler("bounds-change",this._delegatedFigureSizes),t.removeHandler("clip-change",this._delegatedFigureSizes),t.destroy();var n=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,e=0;e<n.length;e++)t=n[e],this._raiseRemoveItem(t)},resetItems:function(){for(var t=0;t<this._items.length;t++)this._items[t].reset()},update:function(){for(var t=!1,e=0;e<this._items.length;e++)t=this._items[e].update()||t;return t},draw:function(){for(var t=0;t<this._items.length;t++)this._items[t].draw();this._needsDraw=!1},needsDraw:function(){for(var t=0;t<this._items.length;t++)if(this._items[t].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(t){this._autoRefigureSizes=t,t&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(e){e=e||{};var n,i=e.immediately||!1,r=e.layout||t.DEFAULT_SETTINGS.collectionLayout,o=e.rows||t.DEFAULT_SETTINGS.collectionRows,s=e.columns||t.DEFAULT_SETTINGS.collectionColumns,a=e.tileSize||t.DEFAULT_SETTINGS.collectionTileSize,l=e.tileMargin||t.DEFAULT_SETTINGS.collectionTileMargin,c=a+l;n=!e.rows&&s?s:Math.ceil(this._items.length/o);var u,h,p,f,d,g=0,v=0;this.setAutoRefigureSizes(!1);for(var m=0;m<this._items.length;m++)m&&m%n===0&&("horizontal"===r?(v+=c,g=0):(g+=c,v=0)),u=this._items[m],h=u.getBounds(),p=h.width>h.height?a:a*(h.width/h.height),f=p*(h.height/h.width),d=new t.Point(g+(a-p)/2,v+(a-f)/2),u.setPosition(d,i),u.setWidth(p,i),"horizontal"===r?g+=c:v+=c;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var e=this._homeBounds?this._homeBounds.clone():null,n=this._contentSize?this._contentSize.clone():null,i=this._contentFactor||0;if(this._items.length){var r=this._items[0],o=r.getBounds();this._contentFactor=r.getContentSize().x/o.width;for(var s=r.getClippedBounds().getBoundingBox(),a=s.x,l=s.y,c=s.x+s.width,u=s.y+s.height,h=1;h<this._items.length;h++)r=this._items[h],o=r.getBounds(),this._contentFactor=Math.max(this._contentFactor,r.getContentSize().x/o.width),s=r.getClippedBounds().getBoundingBox(),a=Math.min(a,s.x),l=Math.min(l,s.y),c=Math.max(c,s.x+s.width),u=Math.max(u,s.y+s.height);this._homeBounds=new t.Rect(a,l,c-a,u-l),this._contentSize=new t.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new t.Rect(0,0,1,1),this._contentSize=new t.Point(1,1),this._contentFactor=1;this._contentFactor===i&&this._homeBounds.equals(e)&&this._contentSize.equals(n)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(t){this.raiseEvent("remove-item",{item:t})}})}(OpenSeadragon)},1830:function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),i=0,r=n.length;i<r;i++){var o=n[i].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},4187:function(t){var e=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function i(t,e){var n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return"/"!=e.substr(0,1)&&0!==e.length||i.splice(0,1),"/"==e.substr(e.length-1,1)&&i.splice(i.length-1,1),i}function r(t,e){var n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,i){e&&(n[e]=i)})),n}t.exports=function(t){var o=t,s=t.indexOf("["),a=t.indexOf("]");-1!=s&&-1!=a&&(t=t.substring(0,s)+t.substring(s,a).replace(/:/g,";")+t.substring(a,t.length));var l=e.exec(t||""),c={},u=14;while(u--)c[n[u]]=l[u]||"";return-1!=s&&-1!=a&&(c.source=o,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=i(c,c["path"]),c.queryKey=r(c,c["query"]),c}},3972:function(t,e,n){"use strict";var i=n(6730);t.exports={isRtlLang:i.isRtlLang,getLangDir:i.getLangDir}},6730:function(t){"use strict";var e,n=e={_regexEscape:/([\.\*\+\^\$\[\]\\\(\)\|\{\}\,\-\:\?])/g,_regexParseLocale:/^([a-zA-Z]*)([_\-a-zA-Z]*)$/,_escapeRegExpPattern:function(t){return"string"!==typeof t?t:t.replace(e._regexEscape,"\\$1")},_toLowerCase:function(t,e){return"string"!==typeof t?e&&t:t.toLowerCase()},_toUpperCase:function(t,e){return"string"!==typeof t?e&&t:t.toUpperCase()},_trim:function(t,n,i){var r,o=[],s=function(t){o.push("^"+t+"+|"+t+"+$")};if("boolean"===typeof n&&(i=n,n=null),"string"!==typeof t)return i&&t;if(Array.isArray(n)&&n.map((function(t){var n=e._escapeRegExpPattern(t);s(n)})),"string"===typeof n){var a=e._escapeRegExpPattern(n);s(a)}n||s("\\s");var l="("+o.join("|")+")";r=new RegExp(l,"g");while(t.match(r))t=t.replace(r,"");return t},_parseLocale:function(t){var n,i,r,o=e._regexParseLocale.exec(t);if(t&&o)return o[2]=e._trim(o[2],["-","_"]),i=e._toLowerCase(o[1]),r=e._toUpperCase(o[2])||r,n={lang:i,countryCode:r},n},isRtlLang:function(t){var n=e._parseLocale(t);if(n)return e._BIDI_RTL_LANGS.indexOf(n.lang)>=0},getLangDir:function(t){return e.isRtlLang(t)?"rtl":"ltr"}};Object.defineProperty(e,"_BIDI_RTL_LANGS",{value:["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"],writable:!1,enumerable:!0,configurable:!1}),t.exports=n},6809:function(t,e,n){var i=n(3678),r=n(9113),o=n(2739),s=n(3669)("socket.io-client");t.exports=e=l;var a=e.managers={};function l(t,e){"object"===typeof t&&(e=t,t=void 0),e=e||{};var n,r=i(t),l=r.source,c=r.id,u=r.path,h=a[c]&&u in a[c].nsps,p=e.forceNew||e["force new connection"]||!1===e.multiplex||h;return p?(s("ignoring socket cache for %s",l),n=o(l,e)):(a[c]||(s("new io instance for %s",l),a[c]=o(l,e)),n=a[c]),r.query&&!e.query&&(e.query=r.query),n.socket(r.path,e)}e.protocol=r.protocol,e.connect=l,e.Manager=n(2739),e.Socket=n(8584)},2739:function(t,e,n){var i=n(5983),r=n(8584),o=n(8767),s=n(9113),a=n(5464),l=n(6077),c=n(3669)("socket.io-client:manager"),u=n(7355),h=n(3010),p=Object.prototype.hasOwnProperty;function f(t,e){if(!(this instanceof f))return new f(t,e);t&&"object"===typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=f,f.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)p.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},f.prototype.updateSocketIds=function(){for(var t in this.nsps)p.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},f.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},o(f.prototype),f.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},f.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},f.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},f.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},f.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},f.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},f.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},f.prototype.open=f.prototype.connect=function(t,e){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=i(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var o=a(n,"open",(function(){r.onopen(),t&&t()})),s=a(n,"error",(function(e){if(c("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var l=this._timeout;c("connect attempt will timeout after %d",l),0===l&&o.destroy();var u=setTimeout((function(){c("connect attempt timed out after %d",l),o.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",l)}),l);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(o),this.subs.push(s),this},f.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(a(t,"data",l(this,"ondata"))),this.subs.push(a(t,"ping",l(this,"onping"))),this.subs.push(a(t,"pong",l(this,"onpong"))),this.subs.push(a(t,"error",l(this,"onerror"))),this.subs.push(a(t,"close",l(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",l(this,"ondecoded")))},f.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},f.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},f.prototype.ondata=function(t){this.decoder.add(t)},f.prototype.ondecoded=function(t){this.emit("packet",t)},f.prototype.onerror=function(t){c("error",t),this.emitAll("error",t)},f.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new r(this,t,e),this.nsps[t]=n;var i=this;n.on("connecting",o),n.on("connect",(function(){n.id=i.generateId(t)})),this.autoConnect&&o()}function o(){~u(i.connecting,n)||i.connecting.push(n)}return n},f.prototype.destroy=function(t){var e=u(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},f.prototype.packet=function(t){c("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,(function(n){for(var i=0;i<n.length;i++)e.engine.write(n[i],t.options);e.encoding=!1,e.processPacketQueue()})))},f.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},f.prototype.cleanup=function(){c("cleanup");for(var t=this.subs.length,e=0;e<t;e++){var n=this.subs.shift();n.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},f.prototype.close=f.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},f.prototype.onclose=function(t){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},f.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();c("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout((function(){t.skipReconnect||(c("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open((function(e){e?(c("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(c("reconnect success"),t.onreconnect())})))}),e);this.subs.push({destroy:function(){clearTimeout(n)}})}},f.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},5464:function(t){function e(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}t.exports=e},8584:function(t,e,n){var i=n(9113),r=n(8767),o=n(4042),s=n(5464),a=n(6077),l=n(3669)("socket.io-client:socket"),c=n(1830),u=n(3466);t.exports=f;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=r.prototype.emit;function f(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}r(f.prototype),f.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",a(this,"onopen")),s(t,"packet",a(this,"onpacket")),s(t,"close",a(this,"onclose"))]}},f.prototype.open=f.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},f.prototype.send=function(){var t=o(arguments);return t.unshift("message"),this.emit.apply(this,t),this},f.prototype.emit=function(t){if(h.hasOwnProperty(t))return p.apply(this,arguments),this;var e=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:u(e))?i.BINARY_EVENT:i.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"===typeof e[e.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},f.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},f.prototype.onopen=function(){if(l("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"===typeof this.query?c.encode(this.query):this.query;l("sending connect packet with query %s",t),this.packet({type:i.CONNECT,query:t})}else this.packet({type:i.CONNECT})},f.prototype.onclose=function(t){l("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},f.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===i.ERROR&&"/"===t.nsp;if(e||n)switch(t.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(t);break;case i.BINARY_EVENT:this.onevent(t);break;case i.ACK:this.onack(t);break;case i.BINARY_ACK:this.onack(t);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",t.data);break}},f.prototype.onevent=function(t){var e=t.data||[];l("emitting event %j",e),null!=t.id&&(l("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?p.apply(this,e):this.receiveBuffer.push(e)},f.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var r=o(arguments);l("sending ack %j",r),e.packet({type:u(r)?i.BINARY_ACK:i.ACK,id:t,data:r})}}},f.prototype.onack=function(t){var e=this.acks[t.id];"function"===typeof e?(l("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):l("bad ack %s",t.id)},f.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emit("connect")},f.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)p.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},f.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},f.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},f.prototype.close=f.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},f.prototype.compress=function(t){return this.flags.compress=t,this},f.prototype.binary=function(t){return this.flags.binary=t,this}},3678:function(t,e,n){var i=n(4187),r=n(3669)("socket.io-client:url");function o(t,e){var n=t;e=e||"undefined"!==typeof location&&location,null==t&&(t=e.protocol+"//"+e.host),"string"===typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(r("protocol-less url %s",t),t="undefined"!==typeof e?e.protocol+"//"+t:"https://"+t),r("parse %s",t),n=i(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var o=-1!==n.host.indexOf(":"),s=o?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port,n.href=n.protocol+"://"+s+(e&&e.port===n.port?"":":"+n.port),n}t.exports=o},3669:function(t,e,n){function i(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type)||("undefined"===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function r(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))})),t.splice(o,0,i)}}function o(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(n){}}function a(){var t;try{t=e.storage.debug}catch(n){}return!t&&"undefined"!==typeof process&&"env"in process&&(t={NODE_ENV:"production",BASE_URL:"/"}.DEBUG),t}function l(){try{return window.localStorage}catch(t){}}e=t.exports=n(1350),e.log=o,e.formatArgs=r,e.save=s,e.load=a,e.useColors=i,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(a())},1350:function(t,e,n){function i(t){var n,i=0;for(n in t)i=(i<<5)-i+t.charCodeAt(n),i|=0;return e.colors[Math.abs(i)%e.colors.length]}function r(t){var n;function r(){if(r.enabled){var t=r,i=+new Date,o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!==typeof s[0]&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,i){if("%%"===n)return n;l++;var r=e.formatters[i];if("function"===typeof r){var o=s[l];n=r.call(t,o),s.splice(l,1),l--}return n})),e.formatArgs.call(t,s);var c=r.log||e.log||console.log.bind(console);c.apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=i(t),r.destroy=o,"function"===typeof e.init&&e.init(r),e.instances.push(r),r}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}function s(t){var n;e.save(t),e.names=[],e.skips=[];var i=("string"===typeof t?t:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&(t=i[n].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}}function a(){e.enable("")}function l(t){if("*"===t[t.length-1])return!0;var n,i;for(n=0,i=e.skips.length;n<i;n++)if(e.skips[n].test(t))return!1;for(n=0,i=e.names.length;n<i;n++)if(e.names[n].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=r.debug=r["default"]=r,e.coerce=c,e.disable=a,e.enable=s,e.enabled=l,e.humanize=n(7824),e.instances=[],e.names=[],e.skips=[],e.formatters={}},2326:function(t,e,n){var i=n(5826),r=n(6066),o=Object.prototype.toString,s="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===o.call(Blob),a="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===o.call(File);function l(t,e){if(!t)return t;if(r(t)){var n={_placeholder:!0,num:e.length};return e.push(t),n}if(i(t)){for(var o=new Array(t.length),s=0;s<t.length;s++)o[s]=l(t[s],e);return o}if("object"===typeof t&&!(t instanceof Date)){o={};for(var a in t)o[a]=l(t[a],e);return o}return t}function c(t,e){if(!t)return t;if(t&&!0===t._placeholder){var n="number"===typeof t.num&&t.num>=0&&t.num<e.length;if(n)return e[t.num];throw new Error("illegal attachments")}if(i(t))for(var r=0;r<t.length;r++)t[r]=c(t[r],e);else if("object"===typeof t)for(var o in t)t[o]=c(t[o],e);return t}e.deconstructPacket=function(t){var e=[],n=t.data,i=t;return i.data=l(n,e),i.attachments=e.length,{packet:i,buffers:e}},e.reconstructPacket=function(t,e){return t.data=c(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){function n(t,c,u){if(!t)return t;if(s&&t instanceof Blob||a&&t instanceof File){o++;var h=new FileReader;h.onload=function(){u?u[c]=this.result:l=this.result,--o||e(l)},h.readAsArrayBuffer(t)}else if(i(t))for(var p=0;p<t.length;p++)n(t[p],p,t);else if("object"===typeof t&&!r(t))for(var f in t)n(t[f],f,t)}var o=0,l=t;n(l),o||e(l)}},9113:function(t,e,n){var i=n(1618)("socket.io-parser"),r=n(8767),o=n(2326),s=n(5826),a=n(6066);function l(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=l,e.Decoder=f;var c=e.ERROR+'"encode error"';function u(t){var n=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data){var r=h(t.data);if(!1===r)return c;n+=r}return i("encoded %j as %s",t,n),n}function h(t){try{return JSON.stringify(t)}catch(e){return!1}}function p(t,e){function n(t){var n=o.deconstructPacket(t),i=u(n.packet),r=n.buffers;r.unshift(i),e(r)}o.removeBlobs(t,n)}function f(){this.reconstructor=null}function d(t){var n=0,r={type:Number(t.charAt(0))};if(null==e.types[r.type])return m("unknown packet type "+r.type);if(e.BINARY_EVENT===r.type||e.BINARY_ACK===r.type){var o=n+1;while("-"!==t.charAt(++n)&&n!=t.length);var a=t.substring(o,n);if(a!=Number(a)||"-"!==t.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(a)}if("/"===t.charAt(n+1)){o=n+1;while(++n){var l=t.charAt(n);if(","===l)break;if(n===t.length)break}r.nsp=t.substring(o,n)}else r.nsp="/";var c=t.charAt(n+1);if(""!==c&&Number(c)==c){o=n+1;while(++n){l=t.charAt(n);if(null==l||Number(l)!=l){--n;break}if(n===t.length)break}r.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){var u=g(t.substr(n)),h=!1!==u&&(r.type===e.ERROR||s(u));if(!h)return m("invalid payload");r.data=u}return i("decoded %s as %j",t,r),r}function g(t){try{return JSON.parse(t)}catch(e){return!1}}function v(t){this.reconPack=t,this.buffers=[]}function m(t){return{type:e.ERROR,data:"parser error: "+t}}l.prototype.encode=function(t,n){if(i("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)p(t,n);else{var r=u(t);n([r])}},r(f.prototype),f.prototype.add=function(t){var n;if("string"===typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=d(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new v(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n)}else{if(!a(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,this.emit("decoded",n))}},f.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},v.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},v.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},6066:function(t){t.exports=r;var e="function"===typeof Buffer&&"function"===typeof Buffer.isBuffer,n="function"===typeof ArrayBuffer,i=function(t){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer};function r(t){return e&&Buffer.isBuffer(t)||n&&(t instanceof ArrayBuffer||i(t))}},1618:function(t,e,n){function i(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type)||("undefined"===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function r(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))})),t.splice(o,0,i)}}function o(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(n){}}function a(){var t;try{t=e.storage.debug}catch(n){}return!t&&"undefined"!==typeof process&&"env"in process&&(t={NODE_ENV:"production",BASE_URL:"/"}.DEBUG),t}function l(){try{return window.localStorage}catch(t){}}e=t.exports=n(968),e.log=o,e.formatArgs=r,e.save=s,e.load=a,e.useColors=i,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(a())},968:function(t,e,n){function i(t){var n,i=0;for(n in t)i=(i<<5)-i+t.charCodeAt(n),i|=0;return e.colors[Math.abs(i)%e.colors.length]}function r(t){var n;function r(){if(r.enabled){var t=r,i=+new Date,o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!==typeof s[0]&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,i){if("%%"===n)return n;l++;var r=e.formatters[i];if("function"===typeof r){var o=s[l];n=r.call(t,o),s.splice(l,1),l--}return n})),e.formatArgs.call(t,s);var c=r.log||e.log||console.log.bind(console);c.apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=i(t),r.destroy=o,"function"===typeof e.init&&e.init(r),e.instances.push(r),r}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}function s(t){var n;e.save(t),e.names=[],e.skips=[];var i=("string"===typeof t?t:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&(t=i[n].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}}function a(){e.enable("")}function l(t){if("*"===t[t.length-1])return!0;var n,i;for(n=0,i=e.skips.length;n<i;n++)if(e.skips[n].test(t))return!1;for(n=0,i=e.names.length;n<i;n++)if(e.names[n].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=r.debug=r["default"]=r,e.coerce=c,e.disable=a,e.enable=s,e.enabled=l,e.humanize=n(7824),e.instances=[],e.names=[],e.skips=[],e.formatters={}},2553:function(t,e,n){"use strict";var i=n(396).Buffer,r=i.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){if(!t)return"utf8";var e;while(1)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function s(t){var e=o(t);if("string"!==typeof e&&(i.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}function a(t){var e;switch(this.encoding=s(t),this.encoding){case"utf16le":this.text=d,this.end=g,e=4;break;case"utf8":this.fillLast=h,e=4;break;case"base64":this.text=v,this.end=m,e=3;break;default:return this.write=y,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function l(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function c(t,e,n){var i=e.length-1;if(i<n)return 0;var r=l(e[i]);return r>=0?(r>0&&(t.lastNeed=r-1),r):--i<n||-2===r?0:(r=l(e[i]),r>=0?(r>0&&(t.lastNeed=r-2),r):--i<n||-2===r?0:(r=l(e[i]),r>=0?(r>0&&(2===r?r=0:t.lastNeed=r-3),r):0))}function u(t,e,n){if(128!==(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,""}}function h(t){var e=this.lastTotal-this.lastNeed,n=u(this,t,e);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function p(t,e){var n=c(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function d(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function g(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function v(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function m(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function y(t){return t.toString(this.encoding)}function b(t){return t&&t.length?this.write(t):""}e.s=a,a.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),void 0===e)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},a.prototype.end=f,a.prototype.text=p,a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},396:function(t,e,n){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var i=n(8764),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=s),s.prototype=Object.create(r.prototype),o(r,s),s.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},s.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"===typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},s.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return r(t)},s.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},4042:function(t){function e(t,e){var n=[];e=e||0;for(var i=e||0;i<t.length;i++)n[i-e]=t[i];return n}t.exports=e},8651:function(t){!function(e,n){t.exports=n()}(0,(function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e,n){"use strict";function i(){var t={},e=!1,n=0,r=arguments.length;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],n++);n<r;n++){var o=arguments[n];!function(n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e&&"[object Object]"===Object.prototype.toString.call(n[r])?t[r]=i(!0,t[r],n[r]):t[r]=n[r])}(o)}return t}e.a=i},function(t,e){!function(){"use strict";var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=void 0!==t&&t.exports,i=function(){for(var t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,r=n.length,o={};i<r;i++)if((t=n[i])&&t[1]in e){for(i=0;i<t.length;i++)o[n[0][i]]=t[i];return o}return!1}(),r={change:i.fullscreenchange,error:i.fullscreenerror},o={request:function(t,n){return new Promise(function(r,o){var s=function(){this.off("change",s),r()}.bind(this);this.on("change",s),t=t||e.documentElement;var a=t[i.requestFullscreen](n);a instanceof Promise&&a.then(s).catch(o)}.bind(this))},exit:function(){return new Promise(function(t,n){if(this.isFullscreen){var r=function(){this.off("change",r),t()}.bind(this);this.on("change",r);var o=e[i.exitFullscreen]();o instanceof Promise&&o.then(r).catch(n)}else t()}.bind(this))},toggle:function(t,e){return this.isFullscreen?this.exit():this.request(t,e)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,n){var i=r[t];i&&e.addEventListener(i,n,!1)},off:function(t,n){var i=r[t];i&&e.removeEventListener(i,n,!1)},raw:i};i?(Object.defineProperties(o,{isFullscreen:{get:function(){return Boolean(e[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[i.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(e[i.fullscreenEnabled])}}}),n?t.exports=o:window.screenfull=o):n?t.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},function(t,e,n){"use strict";function i(t,e){t.style.position=e.position,t.style.left=e.left,t.style.top=e.top,t.style.width=e.width,t.style.height=e.height}function r(t){var e=t.element;e&&(e.classList.remove(t.options.fullscreenClass),(t.options.teleport||t.options.pageOnly)&&(t.options.teleport&&u&&(u.insertBefore(e,c),u.removeChild(c)),e.__styleCache&&i(e,e.__styleCache)))}var o=n(1),s=n.n(o),a=n(0),l={callback:function(){},fullscreenClass:"fullscreen",pageOnly:!1,teleport:!1},c=void 0,u=void 0,h={options:null,element:null,isFullscreen:!1,isEnabled:s.a.isEnabled,toggle:function(t,e,n){return void 0===n?this.isFullscreen?this.exit():this.request(t,e):n?this.request(t,e):this.exit()},request:function(t,e){var o=this;if(this.isFullscreen)return Promise.resolve();if(t||(t=document.body),this.options=n.i(a.a)({},l,e),t===document.body&&(this.options.teleport=!1),s.a.isEnabled||(this.options.pageOnly=!0),t.classList.add(this.options.fullscreenClass),this.options.teleport||this.options.pageOnly){var h=t.style,p=h.position,f=h.left,d=h.top,g=h.width,v=h.height;t.__styleCache={position:p,left:f,top:d,width:g,height:v},i(t,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"})}if(this.options.teleport&&(u=t.parentNode)&&(c=document.createComment("fullscreen-token"),u.insertBefore(c,t),document.body.appendChild(t)),this.options.pageOnly){var m=function t(e){"Escape"===e.key&&(document.removeEventListener("keyup",t),o.exit())};return this.isFullscreen=!0,this.element=t,document.removeEventListener("keyup",m),document.addEventListener("keyup",m),this.options.callback&&this.options.callback(this.isFullscreen),Promise.resolve()}var y=function e(){s.a.isFullscreen||(s.a.off("change",e),r(o)),o.isFullscreen=s.a.isFullscreen,o.options.teleport?o.element=t||null:o.element=s.a.element,o.options.callback&&o.options.callback(s.a.isFullscreen)};return s.a.on("change",y),s.a.request(this.options.teleport?document.body:t)},exit:function(){return this.isFullscreen?this.options.pageOnly?(r(this),this.isFullscreen=!1,this.element=null,this.options.callback&&this.options.callback(this.isFullscreen),Promise.resolve()):s.a.exit():Promise.resolve()}};h.support=h.isEnabled,h.getState=function(){return h.isFullscreen},h.enter=h.request,e.a=h},function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}var r=n(2),o=n(0),s=function(t,e){var s=function(){var t=void 0,s={teleport:e.modifiers.teleport,pageOnly:e.modifiers.pageOnly};if(e.value)if("string"==typeof e.value)t=e.value;else{var a=e.value,l=a.target,c=i(a,["target"]);t=l,s=n.i(o.a)(s,c)}"string"==typeof t&&(t=document.querySelector(t)),r.a.toggle(t,s)};t._onClickFullScreen&&t.removeEventListener("click",t._onClickFullScreen),t.addEventListener("click",s),t._onClickFullScreen=s};e.a=s},function(t,e,n){var i=n(7)(n(6),n(8),null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n.n(i),o=n(2),s=n(3),a=n(1),l=n.n(a),c=n(0);n.d(e,"screenfull",(function(){return l.a})),n.d(e,"api",(function(){return o.a})),n.d(e,"directive",(function(){return s.a})),n.d(e,"component",(function(){return r.a})),e.default={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.name||"fullscreen";t.component(i,n.i(c.a)(r.a,{name:i})),t.prototype["$"+i]=o.a,t.directive(i,s.a)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n.n(i);e.default={props:{value:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},exitOnClickWrapper:{type:Boolean,default:!0},fullscreenClass:{type:String,default:"fullscreen"},pageOnly:{type:Boolean,default:!1},teleport:{type:Boolean,default:!1}},data:function(){return{isFullscreen:!1,isEnabled:!1}},computed:{support:function(){return this.isEnabled},isPageOnly:function(){return this.pageOnly||!r.a.isEnabled},wrapperStyle:function(){return(this.isPageOnly||this.teleport)&&this.isFullscreen?{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}:void 0}},methods:{toggle:function(t){void 0===t?this.isFullscreen?this.exit():this.request():t?this.request():this.exit()},request:function(){if(this.isPageOnly?(this.isFullscreen=!0,this.onChangeFullScreen(),document.removeEventListener("keyup",this.keypressCallback),document.addEventListener("keyup",this.keypressCallback)):(r.a.off("change",this.fullScreenCallback),r.a.on("change",this.fullScreenCallback),r.a.request(this.teleport?document.body:this.$el)),this.teleport){if(this.$el.parentNode===document.body)return;this.__parentNode=this.$el.parentNode,this.__token=document.createComment("fullscreen-token"),this.__parentNode.insertBefore(this.__token,this.$el),document.body.appendChild(this.$el)}},exit:function(){this.isFullscreen&&(this.isPageOnly?(this.isFullscreen=!1,this.onChangeFullScreen(),document.removeEventListener("keyup",this.keypressCallback)):r.a.exit())},shadeClick:function(t){t.target===this.$el&&this.exitOnClickWrapper&&this.exit()},fullScreenCallback:function(){r.a.isFullscreen||r.a.off("change",this.fullScreenCallback),this.isFullscreen=r.a.isFullscreen,this.onChangeFullScreen()},keypressCallback:function(t){"Escape"===t.key&&this.exit()},onChangeFullScreen:function(){this.isFullscreen||this.teleport&&this.__parentNode&&(this.__parentNode.insertBefore(this.$el,this.__token),this.__parentNode.removeChild(this.__token)),this.$emit("change",this.isFullscreen),this.$emit("update:fullscreen",this.isFullscreen),this.$emit("input",this.isFullscreen)},enter:function(){this.request()},getState:function(){return this.isFullscreen}},watch:{value:function(t){t!==this.isFullscreen&&(t?this.request():this.exit())},fullscreen:function(t){t!==this.isFullscreen&&(t?this.request():this.exit())}},created:function(){this.isEnabled=r.a.isEnabled}}},function(t,e){t.exports=function(t,e,n,i){var r,o=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(r=t,o=t.default);var a="function"==typeof o?o.options:o;if(e&&(a.render=e.render,a.staticRenderFns=e.staticRenderFns),n&&(a._scopeId=n),i){var l=Object.create(a.computed||null);Object.keys(i).forEach((function(t){var e=i[t];l[t]=function(){return e}})),a.computed=l}return{esModule:r,exports:o,options:a}}},function(t,e){t.exports={render:function(){var t,e=this,n=e.$createElement;return(e._self._c||n)("div",e._b({ref:"wrapper",class:(t={},t[e.fullscreenClass]=e.isFullscreen,t),style:e.wrapperStyle,on:{click:function(t){return e.shadeClick(t)}}},"div",e.$attrs,!1),[e._t("default")],2)},staticRenderFns:[]}}])}))},2281:function(t){"use strict";var e,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,r={},o=0,s=0;function a(t){var e="";do{e=n[t%i]+e,t=Math.floor(t/i)}while(t>0);return e}function l(t){var e=0;for(s=0;s<t.length;s++)e=e*i+r[t.charAt(s)];return e}function c(){var t=a(+new Date);return t!==e?(o=0,e=t):t+"."+a(o++)}for(;s<i;s++)r[n[s]]=s;c.encode=a,c.decode=l,t.exports=c},7020:function(){},247:function(){},8593:function(t){"use strict";t.exports=JSON.parse('{"_from":"axios@^0.21.4","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"axios@^0.21.4","name":"axios","escapedName":"axios","rawSpec":"^0.21.4","saveSpec":null,"fetchSpec":"^0.21.4"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_shasum":"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575","_spec":"axios@^0.21.4","_where":"/Users/doneill/projects/annona","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')},4542:function(t){"use strict";t.exports={version:"0.22.0"}},2114:function(t){"use strict";t.exports=JSON.parse('{"universal":50,"tag":30,"attribute":1,"pseudo":0,"descendant":-1,"child":-1,"parent":-1,"sibling":-1,"adjacent":-1}')},9545:function(t){"use strict";t.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},9489:function(t){"use strict";t.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')},490:function(t){"use strict";t.exports=JSON.parse('{"Aacute":"","aacute":"","Acirc":"","acirc":"","acute":"","AElig":"","aelig":"","Agrave":"","agrave":"","amp":"&","AMP":"&","Aring":"","aring":"","Atilde":"","atilde":"","Auml":"","auml":"","brvbar":"","Ccedil":"","ccedil":"","cedil":"","cent":"","copy":"","COPY":"","curren":"","deg":"","divide":"","Eacute":"","eacute":"","Ecirc":"","ecirc":"","Egrave":"","egrave":"","ETH":"","eth":"","Euml":"","euml":"","frac12":"","frac14":"","frac34":"","gt":">","GT":">","Iacute":"","iacute":"","Icirc":"","icirc":"","iexcl":"","Igrave":"","igrave":"","iquest":"","Iuml":"","iuml":"","laquo":"","lt":"<","LT":"<","macr":"","micro":"","middot":"","nbsp":"","not":"","Ntilde":"","ntilde":"","Oacute":"","oacute":"","Ocirc":"","ocirc":"","Ograve":"","ograve":"","ordf":"","ordm":"","Oslash":"","oslash":"","Otilde":"","otilde":"","Ouml":"","ouml":"","para":"","plusmn":"","pound":"","quot":"\\"","QUOT":"\\"","raquo":"","reg":"","REG":"","sect":"","shy":"","sup1":"","sup2":"","sup3":"","szlig":"","THORN":"","thorn":"","times":"","Uacute":"","uacute":"","Ucirc":"","ucirc":"","Ugrave":"","ugrave":"","uml":"","Uuml":"","uuml":"","Yacute":"","yacute":"","yen":"","yuml":""}')},1344:function(t){"use strict";t.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}!function(){__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return __webpack_require__.d(e,{a:e}),e}}(),function(){__webpack_require__.d=function(t,e){for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){__webpack_require__.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}();var __webpack_exports__={};!function(){"use strict";__webpack_require__(1686);var t=Object.freeze({}),e=Array.isArray;function n(t){return void 0===t||null===t}function i(t){return void 0!==t&&null!==t}function r(t){return!0===t}function o(t){return!1===t}function s(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function a(t){return"function"===typeof t}function l(t){return null!==t&&"object"===typeof t}var c=Object.prototype.toString;function u(t){return"[object Object]"===c.call(t)}function h(t){return"[object RegExp]"===c.call(t)}function p(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return i(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function d(t){return null==t?"":Array.isArray(t)||u(t)&&t.toString===c?JSON.stringify(t,null,2):String(t)}function g(t){var e=parseFloat(t);return isNaN(e)?t:e}function v(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}v("slot,component",!0);var m=v("key,ref,slot,slot-scope,is");function y(t,e){var n=t.length;if(n){if(e===t[n-1])return void(t.length=n-1);var i=t.indexOf(e);if(i>-1)return t.splice(i,1)}}var b=Object.prototype.hasOwnProperty;function w(t,e){return b.call(t,e)}function _(t){var e=Object.create(null);return function(n){var i=e[n];return i||(e[n]=t(n))}}var x=/-(\w)/g,S=_((function(t){return t.replace(x,(function(t,e){return e?e.toUpperCase():""}))})),T=_((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),C=/\B([A-Z])/g,E=_((function(t){return t.replace(C,"-$1").toLowerCase()}));function k(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function O(t,e){return t.bind(e)}var A=Function.prototype.bind?O:k;function P(t,e){e=e||0;var n=t.length-e,i=new Array(n);while(n--)i[n]=t[n+e];return i}function R(t,e){for(var n in e)t[n]=e[n];return t}function I(t){for(var e={},n=0;n<t.length;n++)t[n]&&R(e,t[n]);return e}function j(t,e,n){}var B=function(t,e,n){return!1},F=function(t){return t};function D(t,e){if(t===e)return!0;var n=l(t),i=l(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var r=Array.isArray(t),o=Array.isArray(e);if(r&&o)return t.length===e.length&&t.every((function(t,n){return D(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(r||o)return!1;var s=Object.keys(t),a=Object.keys(e);return s.length===a.length&&s.every((function(n){return D(t[n],e[n])}))}catch(c){return!1}}function N(t,e){for(var n=0;n<t.length;n++)if(D(t[n],e))return n;return-1}function M(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function $(t,e){return t===e?0===t&&1/t!==1/e:t===t||e===e}var H="data-server-rendered",z=["component","directive","filter"],q=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],U={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:B,isReservedAttr:B,isUnknownElement:B,getTagNamespace:j,parsePlatformTagName:F,mustUseProp:B,async:!0,_lifecycleHooks:q},V=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function W(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function G(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var Z=new RegExp("[^".concat(V.source,".$_\\d]"));function X(t){if(!Z.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var K="__proto__"in{},J="undefined"!==typeof window,Y=J&&window.navigator.userAgent.toLowerCase(),Q=Y&&/msie|trident/.test(Y),tt=Y&&Y.indexOf("msie 9.0")>0,et=Y&&Y.indexOf("edge/")>0;Y&&Y.indexOf("android");var nt=Y&&/iphone|ipad|ipod|ios/.test(Y);Y&&/chrome\/\d+/.test(Y),Y&&/phantomjs/.test(Y);var it,rt=Y&&Y.match(/firefox\/(\d+)/),ot={}.watch,st=!1;if(J)try{var at={};Object.defineProperty(at,"passive",{get:function(){st=!0}}),window.addEventListener("test-passive",null,at)}catch(Eu){}var lt=function(){return void 0===it&&(it=!J&&"undefined"!==typeof __webpack_require__.g&&(__webpack_require__.g["process"]&&"server"===__webpack_require__.g["process"].env.VUE_ENV)),it},ct=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ut(t){return"function"===typeof t&&/native code/.test(t.toString())}var ht,pt="undefined"!==typeof Symbol&&ut(Symbol)&&"undefined"!==typeof Reflect&&ut(Reflect.ownKeys);ht="undefined"!==typeof Set&&ut(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ft=null;function dt(t){void 0===t&&(t=null),t||ft&&ft._scope.off(),ft=t,t&&t._scope.on()}var gt=function(){function t(t,e,n,i,r,o,s,a){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(t.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),t}(),vt=function(t){void 0===t&&(t="");var e=new gt;return e.text=t,e.isComment=!0,e};function mt(t){return new gt(void 0,void 0,void 0,String(t))}function yt(t){var e=new gt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var bt=0,wt=[],_t=function(){for(var t=0;t<wt.length;t++){var e=wt[t];e.subs=e.subs.filter((function(t){return t})),e._pending=!1}wt.length=0},xt=function(){function t(){this._pending=!1,this.id=bt++,this.subs=[]}return t.prototype.addSub=function(t){this.subs.push(t)},t.prototype.removeSub=function(t){this.subs[this.subs.indexOf(t)]=null,this._pending||(this._pending=!0,wt.push(this))},t.prototype.depend=function(e){t.target&&t.target.addDep(this)},t.prototype.notify=function(t){var e=this.subs.filter((function(t){return t}));for(var n=0,i=e.length;n<i;n++){var r=e[n];0,r.update()}},t}();xt.target=null;var St=[];function Tt(t){St.push(t),xt.target=t}function Ct(){St.pop(),xt.target=St[St.length-1]}var Et=Array.prototype,kt=Object.create(Et),Ot=["push","pop","shift","unshift","splice","sort","reverse"];Ot.forEach((function(t){var e=Et[t];G(kt,t,(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r,o=e.apply(this,n),s=this.__ob__;switch(t){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2);break}return r&&s.observeArray(r),s.dep.notify(),o}))}));var At=Object.getOwnPropertyNames(kt),Pt={},Rt=!0;function It(t){Rt=t}var jt={notify:j,depend:j,addSub:j,removeSub:j},Lt=function(){function t(t,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!1),this.value=t,this.shallow=n,this.mock=i,this.dep=i?jt:new xt,this.vmCount=0,G(t,"__ob__",this),e(t)){if(!i)if(K)t.__proto__=kt;else for(var r=0,o=At.length;r<o;r++){var s=At[r];G(t,s,kt[s])}n||this.observeArray(t)}else{var a=Object.keys(t);for(r=0;r<a.length;r++){s=a[r];Ft(t,s,Pt,void 0,n,i)}}}return t.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Bt(t[e],!1,this.mock)},t}();function Bt(t,n,i){return t&&w(t,"__ob__")&&t.__ob__ instanceof Lt?t.__ob__:!Rt||!i&&lt()||!e(t)&&!u(t)||!Object.isExtensible(t)||t.__v_skip||qt(t)||t instanceof gt?void 0:new Lt(t,n,i)}function Ft(t,n,i,r,o,s){var a=new xt,l=Object.getOwnPropertyDescriptor(t,n);if(!l||!1!==l.configurable){var c=l&&l.get,u=l&&l.set;c&&!u||i!==Pt&&2!==arguments.length||(i=t[n]);var h=!o&&Bt(i,!1,s);return Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var n=c?c.call(t):i;return xt.target&&(a.depend(),h&&(h.dep.depend(),e(n)&&Mt(n))),qt(n)&&!o?n.value:n},set:function(e){var n=c?c.call(t):i;if($(n,e)){if(u)u.call(t,e);else{if(c)return;if(!o&&qt(n)&&!qt(e))return void(n.value=e);i=e}h=!o&&Bt(e,!1,s),a.notify()}}}),a}}function Dt(t,n,i){if(!zt(t)){var r=t.__ob__;return e(t)&&p(n)?(t.length=Math.max(t.length,n),t.splice(n,1,i),r&&!r.shallow&&r.mock&&Bt(i,!1,!0),i):n in t&&!(n in Object.prototype)?(t[n]=i,i):t._isVue||r&&r.vmCount?i:r?(Ft(r.value,n,i,void 0,r.shallow,r.mock),r.dep.notify(),i):(t[n]=i,i)}}function Nt(t,n){if(e(t)&&p(n))t.splice(n,1);else{var i=t.__ob__;t._isVue||i&&i.vmCount||zt(t)||w(t,n)&&(delete t[n],i&&i.dep.notify())}}function Mt(t){for(var n=void 0,i=0,r=t.length;i<r;i++)n=t[i],n&&n.__ob__&&n.__ob__.dep.depend(),e(n)&&Mt(n)}function $t(t){return Ht(t,!0),G(t,"__v_isShallow",!0),t}function Ht(t,e){if(!zt(t)){Bt(t,e,lt());0}}function zt(t){return!(!t||!t.__v_isReadonly)}function qt(t){return!(!t||!0!==t.__v_isRef)}function Ut(t,e,n){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];if(qt(t))return t.value;var i=t&&t.__ob__;return i&&i.dep.depend(),t},set:function(t){var i=e[n];qt(i)&&!qt(t)?i.value=t:e[n]=t}})}var Vt="watcher";"".concat(Vt," callback"),"".concat(Vt," getter"),"".concat(Vt," cleanup");var Wt;var Gt=function(){function t(t){void 0===t&&(t=!1),this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Wt,!t&&Wt&&(this.index=(Wt.scopes||(Wt.scopes=[])).push(this)-1)}return t.prototype.run=function(t){if(this.active){var e=Wt;try{return Wt=this,t()}finally{Wt=e}}else 0},t.prototype.on=function(){Wt=this},t.prototype.off=function(){Wt=this.parent},t.prototype.stop=function(t){if(this.active){var e=void 0,n=void 0;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].teardown();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){var i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}},t}();function Zt(t,e){void 0===e&&(e=Wt),e&&e.active&&e.effects.push(t)}function Xt(t){var e=t._provided,n=t.$parent&&t.$parent._provided;return n===e?t._provided=Object.create(n):e}var Kt=_((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var i="!"===t.charAt(0);return t=i?t.slice(1):t,{name:t,once:n,capture:i,passive:e}}));function Jt(t,n){function i(){var t=i.fns;if(!e(t))return Ge(t,null,arguments,n,"v-on handler");for(var r=t.slice(),o=0;o<r.length;o++)Ge(r[o],null,arguments,n,"v-on handler")}return i.fns=t,i}function Yt(t,e,i,o,s,a){var l,c,u,h;for(l in t)c=t[l],u=e[l],h=Kt(l),n(c)||(n(u)?(n(c.fns)&&(c=t[l]=Jt(c,a)),r(h.once)&&(c=t[l]=s(h.name,c,h.capture)),i(h.name,c,h.capture,h.passive,h.params)):c!==u&&(u.fns=c,t[l]=u));for(l in e)n(t[l])&&(h=Kt(l),o(h.name,e[l],h.capture))}function Qt(t,e,o){var s;t instanceof gt&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function l(){o.apply(this,arguments),y(s.fns,l)}n(a)?s=Jt([l]):i(a.fns)&&r(a.merged)?(s=a,s.fns.push(l)):s=Jt([a,l]),s.merged=!0,t[e]=s}function te(t,e,r){var o=e.options.props;if(!n(o)){var s={},a=t.attrs,l=t.props;if(i(a)||i(l))for(var c in o){var u=E(c);ee(s,l,c,u,!0)||ee(s,a,c,u,!1)}return s}}function ee(t,e,n,r,o){if(i(e)){if(w(e,n))return t[n]=e[n],o||delete e[n],!0;if(w(e,r))return t[n]=e[r],o||delete e[r],!0}return!1}function ne(t){for(var n=0;n<t.length;n++)if(e(t[n]))return Array.prototype.concat.apply([],t);return t}function ie(t){return s(t)?[mt(t)]:e(t)?oe(t):void 0}function re(t){return i(t)&&i(t.text)&&o(t.isComment)}function oe(t,o){var a,l,c,u,h=[];for(a=0;a<t.length;a++)l=t[a],n(l)||"boolean"===typeof l||(c=h.length-1,u=h[c],e(l)?l.length>0&&(l=oe(l,"".concat(o||"","_").concat(a)),re(l[0])&&re(u)&&(h[c]=mt(u.text+l[0].text),l.shift()),h.push.apply(h,l)):s(l)?re(u)?h[c]=mt(u.text+l):""!==l&&h.push(mt(l)):re(l)&&re(u)?h[c]=mt(u.text+l.text):(r(t._isVList)&&i(l.tag)&&n(l.key)&&i(o)&&(l.key="__vlist".concat(o,"_").concat(a,"__")),h.push(l)));return h}function se(t,n){var r,o,s,a,c=null;if(e(t)||"string"===typeof t)for(c=new Array(t.length),r=0,o=t.length;r<o;r++)c[r]=n(t[r],r);else if("number"===typeof t)for(c=new Array(t),r=0;r<t;r++)c[r]=n(r+1,r);else if(l(t))if(pt&&t[Symbol.iterator]){c=[];var u=t[Symbol.iterator](),h=u.next();while(!h.done)c.push(n(h.value,c.length)),h=u.next()}else for(s=Object.keys(t),c=new Array(s.length),r=0,o=s.length;r<o;r++)a=s[r],c[r]=n(t[a],a,r);return i(c)||(c=[]),c._isVList=!0,c}function ae(t,e,n,i){var r,o=this.$scopedSlots[t];o?(n=n||{},i&&(n=R(R({},i),n)),r=o(n)||(a(e)?e():e)):r=this.$slots[t]||(a(e)?e():e);var s=n&&n.slot;return s?this.$createElement("template",{slot:s},r):r}function le(t){return _i(this.$options,"filters",t,!0)||F}function ce(t,n){return e(t)?-1===t.indexOf(n):t!==n}function ue(t,e,n,i,r){var o=U.keyCodes[e]||n;return r&&i&&!U.keyCodes[e]?ce(r,i):o?ce(o,t):i?E(i)!==e:void 0===t}function he(t,n,i,r,o){if(i)if(l(i)){e(i)&&(i=I(i));var s=void 0,a=function(e){if("class"===e||"style"===e||m(e))s=t;else{var a=t.attrs&&t.attrs.type;s=r||U.mustUseProp(n,a,e)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var l=S(e),c=E(e);if(!(l in s)&&!(c in s)&&(s[e]=i[e],o)){var u=t.on||(t.on={});u["update:".concat(e)]=function(t){i[e]=t}}};for(var c in i)a(c)}else;return t}function pe(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e||(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,this._c,this),de(i,"__static__".concat(t),!1)),i}function fe(t,e,n){return de(t,"__once__".concat(e).concat(n?"_".concat(n):""),!0),t}function de(t,n,i){if(e(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&ge(t[r],"".concat(n,"_").concat(r),i);else ge(t,n,i)}function ge(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function ve(t,e){if(e)if(u(e)){var n=t.on=t.on?R({},t.on):{};for(var i in e){var r=n[i],o=e[i];n[i]=r?[].concat(r,o):o}}else;return t}function me(t,n,i,r){n=n||{$stable:!i};for(var o=0;o<t.length;o++){var s=t[o];e(s)?me(s,n,i):s&&(s.proxy&&(s.fn.proxy=!0),n[s.key]=s.fn)}return r&&(n.$key=r),n}function ye(t,e){for(var n=0;n<e.length;n+=2){var i=e[n];"string"===typeof i&&i&&(t[e[n]]=e[n+1])}return t}function be(t,e){return"string"===typeof t?e+t:t}function we(t){t._o=fe,t._n=g,t._s=d,t._l=se,t._t=ae,t._q=D,t._i=N,t._m=pe,t._f=le,t._k=ue,t._b=he,t._v=mt,t._e=vt,t._u=me,t._g=ve,t._d=ye,t._p=be}function _e(t,e){if(!t||!t.length)return{};for(var n={},i=0,r=t.length;i<r;i++){var o=t[i],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==e&&o.fnContext!==e||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,l=n[a]||(n[a]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var c in n)n[c].every(xe)&&delete n[c];return n}function xe(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Se(t){return t.isComment&&t.asyncFactory}function Te(e,n,i,r){var o,s=Object.keys(i).length>0,a=n?!!n.$stable:!s,l=n&&n.$key;if(n){if(n._normalized)return n._normalized;if(a&&r&&r!==t&&l===r.$key&&!s&&!r.$hasNormal)return r;for(var c in o={},n)n[c]&&"$"!==c[0]&&(o[c]=Ce(e,i,c,n[c]))}else o={};for(var u in i)u in o||(o[u]=Ee(i,u));return n&&Object.isExtensible(n)&&(n._normalized=o),G(o,"$stable",a),G(o,"$key",l),G(o,"$hasNormal",s),o}function Ce(t,n,i,r){var o=function(){var n=ft;dt(t);var i=arguments.length?r.apply(null,arguments):r({});i=i&&"object"===typeof i&&!e(i)?[i]:ie(i);var o=i&&i[0];return dt(n),i&&(!o||1===i.length&&o.isComment&&!Se(o))?void 0:i};return r.proxy&&Object.defineProperty(n,i,{get:o,enumerable:!0,configurable:!0}),o}function Ee(t,e){return function(){return t[e]}}function ke(t){var e=t.$options,n=e.setup;if(n){var i=t._setupContext=Oe(t);dt(t),Tt();var r=Ge(n,null,[t._props||$t({}),i],t,"setup");if(Ct(),dt(),a(r))e.render=r;else if(l(r))if(t._setupState=r,r.__sfc){var o=t._setupProxy={};for(var s in r)"__sfc"!==s&&Ut(o,r,s)}else for(var s in r)W(s)||Ut(t,r,s);else 0}}function Oe(e){return{get attrs(){if(!e._attrsProxy){var n=e._attrsProxy={};G(n,"_v_attr_proxy",!0),Ae(n,e.$attrs,t,e,"$attrs")}return e._attrsProxy},get listeners(){if(!e._listenersProxy){var n=e._listenersProxy={};Ae(n,e.$listeners,t,e,"$listeners")}return e._listenersProxy},get slots(){return Re(e)},emit:A(e.$emit,e),expose:function(t){t&&Object.keys(t).forEach((function(n){return Ut(e,t,n)}))}}}function Ae(t,e,n,i,r){var o=!1;for(var s in e)s in t?e[s]!==n[s]&&(o=!0):(o=!0,Pe(t,s,i,r));for(var s in t)s in e||(o=!0,delete t[s]);return o}function Pe(t,e,n,i){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return n[i][e]}})}function Re(t){return t._slotsProxy||Ie(t._slotsProxy={},t.$scopedSlots),t._slotsProxy}function Ie(t,e){for(var n in e)t[n]=e[n];for(var n in t)n in e||delete t[n]}function je(e){e._vnode=null,e._staticTrees=null;var n=e.$options,i=e.$vnode=n._parentVnode,r=i&&i.context;e.$slots=_e(n._renderChildren,r),e.$scopedSlots=i?Te(e.$parent,i.data.scopedSlots,e.$slots):t,e._c=function(t,n,i,r){return ze(e,t,n,i,r,!1)},e.$createElement=function(t,n,i,r){return ze(e,t,n,i,r,!0)};var o=i&&i.data;Ft(e,"$attrs",o&&o.attrs||t,null,!0),Ft(e,"$listeners",n._parentListeners||t,null,!0)}var Le=null;function Be(t){we(t.prototype),t.prototype.$nextTick=function(t){return sn(t,this)},t.prototype._render=function(){var t,n=this,i=n.$options,r=i.render,o=i._parentVnode;o&&n._isMounted&&(n.$scopedSlots=Te(n.$parent,o.data.scopedSlots,n.$slots,n.$scopedSlots),n._slotsProxy&&Ie(n._slotsProxy,n.$scopedSlots)),n.$vnode=o;try{dt(n),Le=n,t=r.call(n._renderProxy,n.$createElement)}catch(Eu){We(Eu,n,"render"),t=n._vnode}finally{Le=null,dt()}return e(t)&&1===t.length&&(t=t[0]),t instanceof gt||(t=vt()),t.parent=o,t}}function Fe(t,e){return(t.__esModule||pt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),l(t)?e.extend(t):t}function De(t,e,n,i,r){var o=vt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:i,tag:r},o}function Ne(t,e){if(r(t.error)&&i(t.errorComp))return t.errorComp;if(i(t.resolved))return t.resolved;var o=Le;if(o&&i(t.owners)&&-1===t.owners.indexOf(o)&&t.owners.push(o),r(t.loading)&&i(t.loadingComp))return t.loadingComp;if(o&&!i(t.owners)){var s=t.owners=[o],a=!0,c=null,u=null;o.$on("hook:destroyed",(function(){return y(s,o)}));var h=function(t){for(var e=0,n=s.length;e<n;e++)s[e].$forceUpdate();t&&(s.length=0,null!==c&&(clearTimeout(c),c=null),null!==u&&(clearTimeout(u),u=null))},p=M((function(n){t.resolved=Fe(n,e),a?s.length=0:h(!0)})),d=M((function(e){i(t.errorComp)&&(t.error=!0,h(!0))})),g=t(p,d);return l(g)&&(f(g)?n(t.resolved)&&g.then(p,d):f(g.component)&&(g.component.then(p,d),i(g.error)&&(t.errorComp=Fe(g.error,e)),i(g.loading)&&(t.loadingComp=Fe(g.loading,e),0===g.delay?t.loading=!0:c=setTimeout((function(){c=null,n(t.resolved)&&n(t.error)&&(t.loading=!0,h(!1))}),g.delay||200)),i(g.timeout)&&(u=setTimeout((function(){u=null,n(t.resolved)&&d(null)}),g.timeout)))),a=!1,t.loading?t.loadingComp:t.resolved}}function Me(t){if(e(t))for(var n=0;n<t.length;n++){var r=t[n];if(i(r)&&(i(r.componentOptions)||Se(r)))return r}}var $e=1,He=2;function ze(t,n,i,o,a,l){return(e(i)||s(i))&&(a=o,o=i,i=void 0),r(l)&&(a=He),qe(t,n,i,o,a)}function qe(t,n,r,o,s){if(i(r)&&i(r.__ob__))return vt();if(i(r)&&i(r.is)&&(n=r.is),!n)return vt();var l,c;if(e(o)&&a(o[0])&&(r=r||{},r.scopedSlots={default:o[0]},o.length=0),s===He?o=ie(o):s===$e&&(o=ne(o)),"string"===typeof n){var u=void 0;c=t.$vnode&&t.$vnode.ns||U.getTagNamespace(n),l=U.isReservedTag(n)?new gt(U.parsePlatformTagName(n),r,o,void 0,void 0,t):r&&r.pre||!i(u=_i(t.$options,"components",n))?new gt(n,r,o,void 0,void 0,t):ri(u,r,t,o,n)}else l=ri(n,r,t,o);return e(l)?l:i(l)?(i(c)&&Ue(l,c),i(r)&&Ve(r),l):vt()}function Ue(t,e,o){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,o=!0),i(t.children))for(var s=0,a=t.children.length;s<a;s++){var l=t.children[s];i(l.tag)&&(n(l.ns)||r(o)&&"svg"!==l.tag)&&Ue(l,e,o)}}function Ve(t){l(t.style)&&hn(t.style),l(t.class)&&hn(t.class)}function We(t,e,n){Tt();try{if(e){var i=e;while(i=i.$parent){var r=i.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{var s=!1===r[o].call(i,t,e,n);if(s)return}catch(Eu){Ze(Eu,i,"errorCaptured hook")}}}Ze(t,e,n)}finally{Ct()}}function Ge(t,e,n,i,r){var o;try{o=n?t.apply(e,n):t.call(e),o&&!o._isVue&&f(o)&&!o._handled&&(o.catch((function(t){return We(t,i,r+" (Promise/async)")})),o._handled=!0)}catch(Eu){We(Eu,i,r)}return o}function Ze(t,e,n){if(U.errorHandler)try{return U.errorHandler.call(null,t,e,n)}catch(Eu){Eu!==t&&Xe(Eu,null,"config.errorHandler")}Xe(t,e,n)}function Xe(t,e,n){if(!J||"undefined"===typeof console)throw t;console.error(t)}var Ke,Je=!1,Ye=[],Qe=!1;function tn(){Qe=!1;var t=Ye.slice(0);Ye.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ut(Promise)){var en=Promise.resolve();Ke=function(){en.then(tn),nt&&setTimeout(j)},Je=!0}else if(Q||"undefined"===typeof MutationObserver||!ut(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Ke="undefined"!==typeof setImmediate&&ut(setImmediate)?function(){setImmediate(tn)}:function(){setTimeout(tn,0)};else{var nn=1,rn=new MutationObserver(tn),on=document.createTextNode(String(nn));rn.observe(on,{characterData:!0}),Ke=function(){nn=(nn+1)%2,on.data=String(nn)},Je=!0}function sn(t,e){var n;if(Ye.push((function(){if(t)try{t.call(e)}catch(Eu){We(Eu,e,"nextTick")}else n&&n(e)})),Qe||(Qe=!0,Ke()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}function an(t){return function(e,n){if(void 0===n&&(n=ft),n)return ln(n,t,e)}}function ln(t,e,n){var i=t.$options;i[e]=fi(i[e],n)}an("beforeMount"),an("mounted"),an("beforeUpdate"),an("updated"),an("beforeDestroy"),an("destroyed"),an("activated"),an("deactivated"),an("serverPrefetch"),an("renderTracked"),an("renderTriggered"),an("errorCaptured");var cn="2.7.14";var un=new ht;function hn(t){return pn(t,un),un.clear(),t}function pn(t,n){var i,r,o=e(t);if(!(!o&&!l(t)||t.__v_skip||Object.isFrozen(t)||t instanceof gt)){if(t.__ob__){var s=t.__ob__.dep.id;if(n.has(s))return;n.add(s)}if(o){i=t.length;while(i--)pn(t[i],n)}else if(qt(t))pn(t.value,n);else{r=Object.keys(t),i=r.length;while(i--)pn(t[r[i]],n)}}}var fn,dn=0,gn=function(){function t(t,e,n,i,r){Zt(this,Wt&&!Wt._vm?Wt:t?t._scope:void 0),(this.vm=t)&&r&&(t._watcher=this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++dn,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ht,this.newDepIds=new ht,this.expression="",a(e)?this.getter=e:(this.getter=X(e),this.getter||(this.getter=j)),this.value=this.lazy?void 0:this.get()}return t.prototype.get=function(){var t;Tt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(Eu){if(!this.user)throw Eu;We(Eu,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&hn(t),Ct(),this.cleanupDeps()}return t},t.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},t.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},t.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Gn(this)},t.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||l(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'.concat(this.expression,'"');Ge(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},t.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},t.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},t.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&y(this.vm._scope.effects,this),this.active){var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},t}();function vn(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&wn(t,e)}function mn(t,e){fn.$on(t,e)}function yn(t,e){fn.$off(t,e)}function bn(t,e){var n=fn;return function i(){var r=e.apply(null,arguments);null!==r&&n.$off(t,i)}}function wn(t,e,n){fn=t,Yt(e,n||{},mn,yn,bn,t),fn=void 0}function _n(t){var n=/^hook:/;t.prototype.$on=function(t,i){var r=this;if(e(t))for(var o=0,s=t.length;o<s;o++)r.$on(t[o],i);else(r._events[t]||(r._events[t]=[])).push(i),n.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,n){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(e(t)){for(var r=0,o=t.length;r<o;r++)i.$off(t[r],n);return i}var s,a=i._events[t];if(!a)return i;if(!n)return i._events[t]=null,i;var l=a.length;while(l--)if(s=a[l],s===n||s.fn===n){a.splice(l,1);break}return i},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?P(n):n;for(var i=P(arguments,1),r='event handler for "'.concat(t,'"'),o=0,s=n.length;o<s;o++)Ge(n[o],e,i,e,r)}return e}}var xn=null;function Sn(t){var e=xn;return xn=t,function(){xn=e}}function Tn(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._provided=n?n._provided:Object.create(null),t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Cn(t){t.prototype._update=function(t,e){var n=this,i=n.$el,r=n._vnode,o=Sn(n);n._vnode=t,n.$el=r?n.__patch__(r,t):n.__patch__(n.$el,t,e,!1),o(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n);var s=n;while(s&&s.$vnode&&s.$parent&&s.$vnode===s.$parent._vnode)s.$parent.$el=s.$el,s=s.$parent},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Rn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||y(e.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Rn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function En(t,e,n){var i;t.$el=e,t.$options.render||(t.$options.render=vt),Rn(t,"beforeMount"),i=function(){t._update(t._render(),n)};var r={before:function(){t._isMounted&&!t._isDestroyed&&Rn(t,"beforeUpdate")}};new gn(t,i,j,r,!0),n=!1;var o=t._preWatchers;if(o)for(var s=0;s<o.length;s++)o[s].run();return null==t.$vnode&&(t._isMounted=!0,Rn(t,"mounted")),t}function kn(e,n,i,r,o){var s=r.data.scopedSlots,a=e.$scopedSlots,l=!!(s&&!s.$stable||a!==t&&!a.$stable||s&&e.$scopedSlots.$key!==s.$key||!s&&e.$scopedSlots.$key),c=!!(o||e.$options._renderChildren||l),u=e.$vnode;e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=o;var h=r.data.attrs||t;e._attrsProxy&&Ae(e._attrsProxy,h,u.data&&u.data.attrs||t,e,"$attrs")&&(c=!0),e.$attrs=h,i=i||t;var p=e.$options._parentListeners;if(e._listenersProxy&&Ae(e._listenersProxy,i,p||t,e,"$listeners"),e.$listeners=e.$options._parentListeners=i,wn(e,i,p),n&&e.$options.props){It(!1);for(var f=e._props,d=e.$options._propKeys||[],g=0;g<d.length;g++){var v=d[g],m=e.$options.props;f[v]=xi(v,m,n,e)}It(!0),e.$options.propsData=n}c&&(e.$slots=_e(o,r.context),e.$forceUpdate())}function On(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function An(t,e){if(e){if(t._directInactive=!1,On(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)An(t.$children[n]);Rn(t,"activated")}}function Pn(t,e){if((!e||(t._directInactive=!0,!On(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Pn(t.$children[n]);Rn(t,"deactivated")}}function Rn(t,e,n,i){void 0===i&&(i=!0),Tt();var r=ft;i&&dt(t);var o=t.$options[e],s="".concat(e," hook");if(o)for(var a=0,l=o.length;a<l;a++)Ge(o[a],t,n||null,t,s);t._hasHookEvent&&t.$emit("hook:"+e),i&&dt(r),Ct()}var In=[],jn=[],Ln={},Bn=!1,Fn=!1,Dn=0;function Nn(){Dn=In.length=jn.length=0,Ln={},Bn=Fn=!1}var Mn=0,$n=Date.now;if(J&&!Q){var Hn=window.performance;Hn&&"function"===typeof Hn.now&&$n()>document.createEvent("Event").timeStamp&&($n=function(){return Hn.now()})}var zn=function(t,e){if(t.post){if(!e.post)return 1}else if(e.post)return-1;return t.id-e.id};function qn(){var t,e;for(Mn=$n(),Fn=!0,In.sort(zn),Dn=0;Dn<In.length;Dn++)t=In[Dn],t.before&&t.before(),e=t.id,Ln[e]=null,t.run();var n=jn.slice(),i=In.slice();Nn(),Wn(n),Un(i),_t(),ct&&U.devtools&&ct.emit("flush")}function Un(t){var e=t.length;while(e--){var n=t[e],i=n.vm;i&&i._watcher===n&&i._isMounted&&!i._isDestroyed&&Rn(i,"updated")}}function Vn(t){t._inactive=!1,jn.push(t)}function Wn(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,An(t[e],!0)}function Gn(t){var e=t.id;if(null==Ln[e]&&(t!==xt.target||!t.noRecurse)){if(Ln[e]=!0,Fn){var n=In.length-1;while(n>Dn&&In[n].id>t.id)n--;In.splice(n+1,0,t)}else In.push(t);Bn||(Bn=!0,sn(qn))}}function Zn(t){var e=t.$options.provide;if(e){var n=a(e)?e.call(t):e;if(!l(n))return;for(var i=Xt(t),r=pt?Reflect.ownKeys(n):Object.keys(n),o=0;o<r.length;o++){var s=r[o];Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))}}}function Xn(t){var e=Kn(t.$options.inject,t);e&&(It(!1),Object.keys(e).forEach((function(n){Ft(t,n,e[n])})),It(!0))}function Kn(t,e){if(t){for(var n=Object.create(null),i=pt?Reflect.ownKeys(t):Object.keys(t),r=0;r<i.length;r++){var o=i[r];if("__ob__"!==o){var s=t[o].from;if(s in e._provided)n[o]=e._provided[s];else if("default"in t[o]){var l=t[o].default;n[o]=a(l)?l.call(e):l}else 0}}return n}}function Jn(n,i,o,s,a){var l,c=this,u=a.options;w(s,"_uid")?(l=Object.create(s),l._original=s):(l=s,s=s._original);var h=r(u._compiled),p=!h;this.data=n,this.props=i,this.children=o,this.parent=s,this.listeners=n.on||t,this.injections=Kn(u.inject,s),this.slots=function(){return c.$slots||Te(s,n.scopedSlots,c.$slots=_e(o,s)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Te(s,n.scopedSlots,this.slots())}}),h&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=Te(s,n.scopedSlots,this.$slots)),u._scopeId?this._c=function(t,n,i,r){var o=ze(l,t,n,i,r,p);return o&&!e(o)&&(o.fnScopeId=u._scopeId,o.fnContext=s),o}:this._c=function(t,e,n,i){return ze(l,t,e,n,i,p)}}function Yn(n,r,o,s,a){var l=n.options,c={},u=l.props;if(i(u))for(var h in u)c[h]=xi(h,u,r||t);else i(o.attrs)&&ti(c,o.attrs),i(o.props)&&ti(c,o.props);var p=new Jn(o,c,a,s,n),f=l.render.call(null,p._c,p);if(f instanceof gt)return Qn(f,o,p.parent,l,p);if(e(f)){for(var d=ie(f)||[],g=new Array(d.length),v=0;v<d.length;v++)g[v]=Qn(d[v],o,p.parent,l,p);return g}}function Qn(t,e,n,i,r){var o=yt(t);return o.fnContext=n,o.fnOptions=i,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function ti(t,e){for(var n in e)t[S(n)]=e[n]}function ei(t){return t.name||t.__name||t._componentTag}we(Jn.prototype);var ni={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;ni.prepatch(n,n)}else{var i=t.componentInstance=oi(t,xn);i.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,i=e.componentInstance=t.componentInstance;kn(i,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Rn(n,"mounted")),t.data.keepAlive&&(e._isMounted?Vn(n):An(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Pn(e,!0):e.$destroy())}},ii=Object.keys(ni);function ri(t,e,o,s,a){if(!n(t)){var c=o.$options._base;if(l(t)&&(t=c.extend(t)),"function"===typeof t){var u;if(n(t.cid)&&(u=t,t=Ne(u,c),void 0===t))return De(u,e,o,s,a);e=e||{},Wi(t),i(e.model)&&li(t.options,e);var h=te(e,t,a);if(r(t.options.functional))return Yn(t,h,e,o,s);var p=e.on;if(e.on=e.nativeOn,r(t.options.abstract)){var f=e.slot;e={},f&&(e.slot=f)}si(e);var d=ei(t.options)||a,g=new gt("vue-component-".concat(t.cid).concat(d?"-".concat(d):""),e,void 0,void 0,void 0,o,{Ctor:t,propsData:h,listeners:p,tag:a,children:s},u);return g}}}function oi(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function si(t){for(var e=t.hook||(t.hook={}),n=0;n<ii.length;n++){var i=ii[n],r=e[i],o=ni[i];r===o||r&&r._merged||(e[i]=r?ai(o,r):o)}}function ai(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}function li(t,n){var r=t.model&&t.model.prop||"value",o=t.model&&t.model.event||"input";(n.attrs||(n.attrs={}))[r]=n.model.value;var s=n.on||(n.on={}),a=s[o],l=n.model.callback;i(a)?(e(a)?-1===a.indexOf(l):a!==l)&&(s[o]=[l].concat(a)):s[o]=l}var ci=j,ui=U.optionMergeStrategies;function hi(t,e,n){if(void 0===n&&(n=!0),!e)return t;for(var i,r,o,s=pt?Reflect.ownKeys(e):Object.keys(e),a=0;a<s.length;a++)i=s[a],"__ob__"!==i&&(r=t[i],o=e[i],n&&w(t,i)?r!==o&&u(r)&&u(o)&&hi(r,o):Dt(t,i,o));return t}function pi(t,e,n){return n?function(){var i=a(e)?e.call(n,n):e,r=a(t)?t.call(n,n):t;return i?hi(i,r):r}:e?t?function(){return hi(a(e)?e.call(this,this):e,a(t)?t.call(this,this):t)}:e:t}function fi(t,n){var i=n?t?t.concat(n):e(n)?n:[n]:t;return i?di(i):i}function di(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function gi(t,e,n,i){var r=Object.create(t||null);return e?R(r,e):r}ui.data=function(t,e,n){return n?pi(t,e,n):e&&"function"!==typeof e?t:pi(t,e)},q.forEach((function(t){ui[t]=fi})),z.forEach((function(t){ui[t+"s"]=gi})),ui.watch=function(t,n,i,r){if(t===ot&&(t=void 0),n===ot&&(n=void 0),!n)return Object.create(t||null);if(!t)return n;var o={};for(var s in R(o,t),n){var a=o[s],l=n[s];a&&!e(a)&&(a=[a]),o[s]=a?a.concat(l):e(l)?l:[l]}return o},ui.props=ui.methods=ui.inject=ui.computed=function(t,e,n,i){if(!t)return e;var r=Object.create(null);return R(r,t),e&&R(r,e),r},ui.provide=function(t,e){return t?function(){var n=Object.create(null);return hi(n,a(t)?t.call(this):t),e&&hi(n,a(e)?e.call(this):e,!1),n}:e};var vi=function(t,e){return void 0===e?t:e};function mi(t,n){var i=t.props;if(i){var r,o,s,a={};if(e(i)){r=i.length;while(r--)o=i[r],"string"===typeof o&&(s=S(o),a[s]={type:null})}else if(u(i))for(var l in i)o=i[l],s=S(l),a[s]=u(o)?o:{type:o};else 0;t.props=a}}function yi(t,n){var i=t.inject;if(i){var r=t.inject={};if(e(i))for(var o=0;o<i.length;o++)r[i[o]]={from:i[o]};else if(u(i))for(var s in i){var a=i[s];r[s]=u(a)?R({from:s},a):{from:a}}else 0}}function bi(t){var e=t.directives;if(e)for(var n in e){var i=e[n];a(i)&&(e[n]={bind:i,update:i})}}function wi(t,e,n){if(a(e)&&(e=e.options),mi(e,n),yi(e,n),bi(e),!e._base&&(e.extends&&(t=wi(t,e.extends,n)),e.mixins))for(var i=0,r=e.mixins.length;i<r;i++)t=wi(t,e.mixins[i],n);var o,s={};for(o in t)l(o);for(o in e)w(t,o)||l(o);function l(i){var r=ui[i]||vi;s[i]=r(t[i],e[i],n,i)}return s}function _i(t,e,n,i){if("string"===typeof n){var r=t[e];if(w(r,n))return r[n];var o=S(n);if(w(r,o))return r[o];var s=T(o);if(w(r,s))return r[s];var a=r[n]||r[o]||r[s];return a}}function xi(t,e,n,i){var r=e[t],o=!w(n,t),s=n[t],a=ki(Boolean,r.type);if(a>-1)if(o&&!w(r,"default"))s=!1;else if(""===s||s===E(t)){var l=ki(String,r.type);(l<0||a<l)&&(s=!0)}if(void 0===s){s=Si(i,r,t);var c=Rt;It(!0),Bt(s),It(c)}return s}function Si(t,e,n){if(w(e,"default")){var i=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:a(i)&&"Function"!==Ci(e.type)?i.call(t):i}}var Ti=/^\s*function (\w+)/;function Ci(t){var e=t&&t.toString().match(Ti);return e?e[1]:""}function Ei(t,e){return Ci(t)===Ci(e)}function ki(t,n){if(!e(n))return Ei(n,t)?0:-1;for(var i=0,r=n.length;i<r;i++)if(Ei(n[i],t))return i;return-1}var Oi={enumerable:!0,configurable:!0,get:j,set:j};function Ai(t,e,n){Oi.get=function(){return this[e][n]},Oi.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Oi)}function Pi(t){var e=t.$options;if(e.props&&Ri(t,e.props),ke(t),e.methods&&Mi(t,e.methods),e.data)Ii(t);else{var n=Bt(t._data={});n&&n.vmCount++}e.computed&&Bi(t,e.computed),e.watch&&e.watch!==ot&&$i(t,e.watch)}function Ri(t,e){var n=t.$options.propsData||{},i=t._props=$t({}),r=t.$options._propKeys=[],o=!t.$parent;o||It(!1);var s=function(o){r.push(o);var s=xi(o,e,n,t);Ft(i,o,s),o in t||Ai(t,"_props",o)};for(var a in e)s(a);It(!0)}function Ii(t){var e=t.$options.data;e=t._data=a(e)?ji(e,t):e||{},u(e)||(e={});var n=Object.keys(e),i=t.$options.props,r=(t.$options.methods,n.length);while(r--){var o=n[r];0,i&&w(i,o)||W(o)||Ai(t,"_data",o)}var s=Bt(e);s&&s.vmCount++}function ji(t,e){Tt();try{return t.call(e,e)}catch(Eu){return We(Eu,e,"data()"),{}}finally{Ct()}}var Li={lazy:!0};function Bi(t,e){var n=t._computedWatchers=Object.create(null),i=lt();for(var r in e){var o=e[r],s=a(o)?o:o.get;0,i||(n[r]=new gn(t,s||j,j,Li)),r in t||Fi(t,r,o)}}function Fi(t,e,n){var i=!lt();a(n)?(Oi.get=i?Di(e):Ni(n),Oi.set=j):(Oi.get=n.get?i&&!1!==n.cache?Di(e):Ni(n.get):j,Oi.set=n.set||j),Object.defineProperty(t,e,Oi)}function Di(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),xt.target&&e.depend(),e.value}}function Ni(t){return function(){return t.call(this,this)}}function Mi(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?j:A(e[n],t)}function $i(t,n){for(var i in n){var r=n[i];if(e(r))for(var o=0;o<r.length;o++)Hi(t,i,r[o]);else Hi(t,i,r)}}function Hi(t,e,n,i){return u(n)&&(i=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,i)}function zi(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Dt,t.prototype.$delete=Nt,t.prototype.$watch=function(t,e,n){var i=this;if(u(e))return Hi(i,t,e,n);n=n||{},n.user=!0;var r=new gn(i,t,e,n);if(n.immediate){var o='callback for immediate watcher "'.concat(r.expression,'"');Tt(),Ge(e,i,[r.value],i,o),Ct()}return function(){r.teardown()}}}var qi=0;function Ui(t){t.prototype._init=function(t){var e=this;e._uid=qi++,e._isVue=!0,e.__v_skip=!0,e._scope=new Gt(!0),e._scope._vm=!0,t&&t._isComponent?Vi(e,t):e.$options=wi(Wi(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Tn(e),vn(e),je(e),Rn(e,"beforeCreate",void 0,!1),Xn(e),Pi(e),Zn(e),Rn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function Vi(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Wi(t){var e=t.options;if(t.super){var n=Wi(t.super),i=t.superOptions;if(n!==i){t.superOptions=n;var r=Gi(t);r&&R(t.extendOptions,r),e=t.options=wi(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Gi(t){var e,n=t.options,i=t.sealedOptions;for(var r in n)n[r]!==i[r]&&(e||(e={}),e[r]=n[r]);return e}function Zi(t){this._init(t)}function Xi(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=P(arguments,1);return n.unshift(this),a(t.install)?t.install.apply(t,n):a(t)&&t.apply(null,n),e.push(t),this}}function Ki(t){t.mixin=function(t){return this.options=wi(this.options,t),this}}function Ji(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,r=t._Ctor||(t._Ctor={});if(r[i])return r[i];var o=ei(t)||ei(n.options);var s=function(t){this._init(t)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=e++,s.options=wi(n.options,t),s["super"]=n,s.options.props&&Yi(s),s.options.computed&&Qi(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,z.forEach((function(t){s[t]=n[t]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=t,s.sealedOptions=R({},s.options),r[i]=s,s}}function Yi(t){var e=t.options.props;for(var n in e)Ai(t.prototype,"_props",n)}function Qi(t){var e=t.options.computed;for(var n in e)Fi(t.prototype,n,e[n])}function tr(t){z.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&u(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&a(n)&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function er(t){return t&&(ei(t.Ctor.options)||t.tag)}function nr(t,n){return e(t)?t.indexOf(n)>-1:"string"===typeof t?t.split(",").indexOf(n)>-1:!!h(t)&&t.test(n)}function ir(t,e){var n=t.cache,i=t.keys,r=t._vnode;for(var o in n){var s=n[o];if(s){var a=s.name;a&&!e(a)&&rr(n,o,i,r)}}}function rr(t,e,n,i){var r=t[e];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),t[e]=null,y(n,e)}Ui(Zi),zi(Zi),_n(Zi),Cn(Zi),Be(Zi);var or=[String,RegExp,Array],sr={name:"keep-alive",abstract:!0,props:{include:or,exclude:or,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,i=t.vnodeToCache,r=t.keyToCache;if(i){var o=i.tag,s=i.componentInstance,a=i.componentOptions;e[r]={name:er(a),tag:o,componentInstance:s},n.push(r),this.max&&n.length>parseInt(this.max)&&rr(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)rr(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){ir(t,(function(t){return nr(e,t)}))})),this.$watch("exclude",(function(e){ir(t,(function(t){return!nr(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=Me(t),n=e&&e.componentOptions;if(n){var i=er(n),r=this,o=r.include,s=r.exclude;if(o&&(!i||!nr(o,i))||s&&i&&nr(s,i))return e;var a=this,l=a.cache,c=a.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):e.key;l[u]?(e.componentInstance=l[u].componentInstance,y(c,u),c.push(u)):(this.vnodeToCache=e,this.keyToCache=u),e.data.keepAlive=!0}return e||t&&t[0]}},ar={KeepAlive:sr};function lr(t){var e={get:function(){return U}};Object.defineProperty(t,"config",e),t.util={warn:ci,extend:R,mergeOptions:wi,defineReactive:Ft},t.set=Dt,t.delete=Nt,t.nextTick=sn,t.observable=function(t){return Bt(t),t},t.options=Object.create(null),z.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,R(t.options.components,ar),Xi(t),Ki(t),Ji(t),tr(t)}lr(Zi),Object.defineProperty(Zi.prototype,"$isServer",{get:lt}),Object.defineProperty(Zi.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Zi,"FunctionalRenderContext",{value:Jn}),Zi.version=cn;var cr=v("style,class"),ur=v("input,textarea,option,select,progress"),hr=function(t,e,n){return"value"===n&&ur(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},pr=v("contenteditable,draggable,spellcheck"),fr=v("events,caret,typing,plaintext-only"),dr=function(t,e){return br(e)||"false"===e?"false":"contenteditable"===t&&fr(e)?e:"true"},gr=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),vr="http://www.w3.org/1999/xlink",mr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},yr=function(t){return mr(t)?t.slice(6,t.length):""},br=function(t){return null==t||!1===t};function wr(t){var e=t.data,n=t,r=t;while(i(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(e=_r(r.data,e));while(i(n=n.parent))n&&n.data&&(e=_r(e,n.data));return xr(e.staticClass,e.class)}function _r(t,e){return{staticClass:Sr(t.staticClass,e.staticClass),class:i(t.class)?[t.class,e.class]:e.class}}function xr(t,e){return i(t)||i(e)?Sr(t,Tr(e)):""}function Sr(t,e){return t?e?t+" "+e:t:e||""}function Tr(t){return Array.isArray(t)?Cr(t):l(t)?Er(t):"string"===typeof t?t:""}function Cr(t){for(var e,n="",r=0,o=t.length;r<o;r++)i(e=Tr(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function Er(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var kr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Or=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Ar=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Pr=function(t){return Or(t)||Ar(t)};function Rr(t){return Ar(t)?"svg":"math"===t?"math":void 0}var Ir=Object.create(null);function jr(t){if(!J)return!0;if(Pr(t))return!1;if(t=t.toLowerCase(),null!=Ir[t])return Ir[t];var e=document.createElement(t);return t.indexOf("-")>-1?Ir[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Ir[t]=/HTMLUnknownElement/.test(e.toString())}var Lr=v("text,number,password,search,email,tel,url");function Br(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function Fr(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function Dr(t,e){return document.createElementNS(kr[t],e)}function Nr(t){return document.createTextNode(t)}function Mr(t){return document.createComment(t)}function $r(t,e,n){t.insertBefore(e,n)}function Hr(t,e){t.removeChild(e)}function zr(t,e){t.appendChild(e)}function qr(t){return t.parentNode}function Ur(t){return t.nextSibling}function Vr(t){return t.tagName}function Wr(t,e){t.textContent=e}function Gr(t,e){t.setAttribute(e,"")}var Zr=Object.freeze({__proto__:null,createElement:Fr,createElementNS:Dr,createTextNode:Nr,createComment:Mr,insertBefore:$r,removeChild:Hr,appendChild:zr,parentNode:qr,nextSibling:Ur,tagName:Vr,setTextContent:Wr,setStyleScope:Gr}),Xr={create:function(t,e){Kr(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Kr(t,!0),Kr(e))},destroy:function(t){Kr(t,!0)}};function Kr(t,n){var r=t.data.ref;if(i(r)){var o=t.context,s=t.componentInstance||t.elm,l=n?null:s,c=n?void 0:s;if(a(r))Ge(r,o,[l],o,"template ref function");else{var u=t.data.refInFor,h="string"===typeof r||"number"===typeof r,p=qt(r),f=o.$refs;if(h||p)if(u){var d=h?f[r]:r.value;n?e(d)&&y(d,s):e(d)?d.includes(s)||d.push(s):h?(f[r]=[s],Jr(o,r,f[r])):r.value=[s]}else if(h){if(n&&f[r]!==s)return;f[r]=c,Jr(o,r,l)}else if(p){if(n&&r.value!==s)return;r.value=l}else 0}}}function Jr(t,e,n){var i=t._setupState;i&&w(i,e)&&(qt(i[e])?i[e].value=n:i[e]=n)}var Yr=new gt("",{},[]),Qr=["create","activate","update","remove","destroy"];function to(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&i(t.data)===i(e.data)&&eo(t,e)||r(t.isAsyncPlaceholder)&&n(e.asyncFactory.error))}function eo(t,e){if("input"!==t.tag)return!0;var n,r=i(n=t.data)&&i(n=n.attrs)&&n.type,o=i(n=e.data)&&i(n=n.attrs)&&n.type;return r===o||Lr(r)&&Lr(o)}function no(t,e,n){var r,o,s={};for(r=e;r<=n;++r)o=t[r].key,i(o)&&(s[o]=r);return s}function io(t){var o,a,l={},c=t.modules,u=t.nodeOps;for(o=0;o<Qr.length;++o)for(l[Qr[o]]=[],a=0;a<c.length;++a)i(c[a][Qr[o]])&&l[Qr[o]].push(c[a][Qr[o]]);function h(t){return new gt(u.tagName(t).toLowerCase(),{},[],void 0,t)}function p(t,e){function n(){0===--n.listeners&&f(t)}return n.listeners=e,n}function f(t){var e=u.parentNode(t);i(e)&&u.removeChild(e,t)}function d(t,e,n,o,s,a,l){if(i(t.elm)&&i(a)&&(t=a[l]=yt(t)),t.isRootInsert=!s,!g(t,e,n,o)){var c=t.data,h=t.children,p=t.tag;i(p)?(t.elm=t.ns?u.createElementNS(t.ns,p):u.createElement(p,t),S(t),w(t,h,e),i(c)&&x(t,e),b(n,t.elm,o)):r(t.isComment)?(t.elm=u.createComment(t.text),b(n,t.elm,o)):(t.elm=u.createTextNode(t.text),b(n,t.elm,o))}}function g(t,e,n,o){var s=t.data;if(i(s)){var a=i(t.componentInstance)&&s.keepAlive;if(i(s=s.hook)&&i(s=s.init)&&s(t,!1),i(t.componentInstance))return m(t,e),b(n,t.elm,o),r(a)&&y(t,e,n,o),!0}}function m(t,e){i(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,_(t)?(x(t,e),S(t)):(Kr(t),e.push(t))}function y(t,e,n,r){var o,s=t;while(s.componentInstance)if(s=s.componentInstance._vnode,i(o=s.data)&&i(o=o.transition)){for(o=0;o<l.activate.length;++o)l.activate[o](Yr,s);e.push(s);break}b(n,t.elm,r)}function b(t,e,n){i(t)&&(i(n)?u.parentNode(n)===t&&u.insertBefore(t,e,n):u.appendChild(t,e))}function w(t,n,i){if(e(n)){0;for(var r=0;r<n.length;++r)d(n[r],i,t.elm,null,!0,n,r)}else s(t.text)&&u.appendChild(t.elm,u.createTextNode(String(t.text)))}function _(t){while(t.componentInstance)t=t.componentInstance._vnode;return i(t.tag)}function x(t,e){for(var n=0;n<l.create.length;++n)l.create[n](Yr,t);o=t.data.hook,i(o)&&(i(o.create)&&o.create(Yr,t),i(o.insert)&&e.push(t))}function S(t){var e;if(i(e=t.fnScopeId))u.setStyleScope(t.elm,e);else{var n=t;while(n)i(e=n.context)&&i(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e),n=n.parent}i(e=xn)&&e!==t.context&&e!==t.fnContext&&i(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e)}function T(t,e,n,i,r,o){for(;i<=r;++i)d(n[i],o,t,e,!1,n,i)}function C(t){var e,n,r=t.data;if(i(r))for(i(e=r.hook)&&i(e=e.destroy)&&e(t),e=0;e<l.destroy.length;++e)l.destroy[e](t);if(i(e=t.children))for(n=0;n<t.children.length;++n)C(t.children[n])}function E(t,e,n){for(;e<=n;++e){var r=t[e];i(r)&&(i(r.tag)?(k(r),C(r)):f(r.elm))}}function k(t,e){if(i(e)||i(t.data)){var n,r=l.remove.length+1;for(i(e)?e.listeners+=r:e=p(t.elm,r),i(n=t.componentInstance)&&i(n=n._vnode)&&i(n.data)&&k(n,e),n=0;n<l.remove.length;++n)l.remove[n](t,e);i(n=t.data.hook)&&i(n=n.remove)?n(t,e):e()}else f(t.elm)}function O(t,e,r,o,s){var a,l,c,h,p=0,f=0,g=e.length-1,v=e[0],m=e[g],y=r.length-1,b=r[0],w=r[y],_=!s;while(p<=g&&f<=y)n(v)?v=e[++p]:n(m)?m=e[--g]:to(v,b)?(P(v,b,o,r,f),v=e[++p],b=r[++f]):to(m,w)?(P(m,w,o,r,y),m=e[--g],w=r[--y]):to(v,w)?(P(v,w,o,r,y),_&&u.insertBefore(t,v.elm,u.nextSibling(m.elm)),v=e[++p],w=r[--y]):to(m,b)?(P(m,b,o,r,f),_&&u.insertBefore(t,m.elm,v.elm),m=e[--g],b=r[++f]):(n(a)&&(a=no(e,p,g)),l=i(b.key)?a[b.key]:A(b,e,p,g),n(l)?d(b,o,t,v.elm,!1,r,f):(c=e[l],to(c,b)?(P(c,b,o,r,f),e[l]=void 0,_&&u.insertBefore(t,c.elm,v.elm)):d(b,o,t,v.elm,!1,r,f)),b=r[++f]);p>g?(h=n(r[y+1])?null:r[y+1].elm,T(t,h,r,f,y,o)):f>y&&E(e,p,g)}function A(t,e,n,r){for(var o=n;o<r;o++){var s=e[o];if(i(s)&&to(t,s))return o}}function P(t,e,o,s,a,c){if(t!==e){i(e.elm)&&i(s)&&(e=s[a]=yt(e));var h=e.elm=t.elm;if(r(t.isAsyncPlaceholder))i(e.asyncFactory.resolved)?j(t.elm,e,o):e.isAsyncPlaceholder=!0;else if(r(e.isStatic)&&r(t.isStatic)&&e.key===t.key&&(r(e.isCloned)||r(e.isOnce)))e.componentInstance=t.componentInstance;else{var p,f=e.data;i(f)&&i(p=f.hook)&&i(p=p.prepatch)&&p(t,e);var d=t.children,g=e.children;if(i(f)&&_(e)){for(p=0;p<l.update.length;++p)l.update[p](t,e);i(p=f.hook)&&i(p=p.update)&&p(t,e)}n(e.text)?i(d)&&i(g)?d!==g&&O(h,d,g,o,c):i(g)?(i(t.text)&&u.setTextContent(h,""),T(h,null,g,0,g.length-1,o)):i(d)?E(d,0,d.length-1):i(t.text)&&u.setTextContent(h,""):t.text!==e.text&&u.setTextContent(h,e.text),i(f)&&i(p=f.hook)&&i(p=p.postpatch)&&p(t,e)}}}function R(t,e,n){if(r(n)&&i(t.parent))t.parent.data.pendingInsert=e;else for(var o=0;o<e.length;++o)e[o].data.hook.insert(e[o])}var I=v("attrs,class,staticClass,staticStyle,key");function j(t,e,n,o){var s,a=e.tag,l=e.data,c=e.children;if(o=o||l&&l.pre,e.elm=t,r(e.isComment)&&i(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(i(l)&&(i(s=l.hook)&&i(s=s.init)&&s(e,!0),i(s=e.componentInstance)))return m(e,n),!0;if(i(a)){if(i(c))if(t.hasChildNodes())if(i(s=l)&&i(s=s.domProps)&&i(s=s.innerHTML)){if(s!==t.innerHTML)return!1}else{for(var u=!0,h=t.firstChild,p=0;p<c.length;p++){if(!h||!j(h,c[p],n,o)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else w(e,c,n);if(i(l)){var f=!1;for(var d in l)if(!I(d)){f=!0,x(e,n);break}!f&&l["class"]&&hn(l["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,o,s){if(!n(e)){var a=!1,c=[];if(n(t))a=!0,d(e,c);else{var p=i(t.nodeType);if(!p&&to(t,e))P(t,e,c,null,null,s);else{if(p){if(1===t.nodeType&&t.hasAttribute(H)&&(t.removeAttribute(H),o=!0),r(o)&&j(t,e,c))return R(e,c,!0),t;t=h(t)}var f=t.elm,g=u.parentNode(f);if(d(e,c,f._leaveCb?null:g,u.nextSibling(f)),i(e.parent)){var v=e.parent,m=_(e);while(v){for(var y=0;y<l.destroy.length;++y)l.destroy[y](v);if(v.elm=e.elm,m){for(var b=0;b<l.create.length;++b)l.create[b](Yr,v);var w=v.data.hook.insert;if(w.merged)for(var x=1;x<w.fns.length;x++)w.fns[x]()}else Kr(v);v=v.parent}}i(g)?E([t],0,0):i(t.tag)&&C(t)}}return R(e,c,a),e.elm}i(t)&&C(t)}}var ro={create:oo,update:oo,destroy:function(t){oo(t,Yr)}};function oo(t,e){(t.data.directives||e.data.directives)&&so(t,e)}function so(t,e){var n,i,r,o=t===Yr,s=e===Yr,a=lo(t.data.directives,t.context),l=lo(e.data.directives,e.context),c=[],u=[];for(n in l)i=a[n],r=l[n],i?(r.oldValue=i.value,r.oldArg=i.arg,uo(r,"update",e,t),r.def&&r.def.componentUpdated&&u.push(r)):(uo(r,"bind",e,t),r.def&&r.def.inserted&&c.push(r));if(c.length){var h=function(){for(var n=0;n<c.length;n++)uo(c[n],"inserted",e,t)};o?Qt(e,"insert",h):h()}if(u.length&&Qt(e,"postpatch",(function(){for(var n=0;n<u.length;n++)uo(u[n],"componentUpdated",e,t)})),!o)for(n in a)l[n]||uo(a[n],"unbind",t,t,s)}var ao=Object.create(null);function lo(t,e){var n,i,r=Object.create(null);if(!t)return r;for(n=0;n<t.length;n++){if(i=t[n],i.modifiers||(i.modifiers=ao),r[co(i)]=i,e._setupState&&e._setupState.__sfc){var o=i.def||_i(e,"_setupState","v-"+i.name);i.def="function"===typeof o?{bind:o,update:o}:o}i.def=i.def||_i(e.$options,"directives",i.name,!0)}return r}function co(t){return t.rawName||"".concat(t.name,".").concat(Object.keys(t.modifiers||{}).join("."))}function uo(t,e,n,i,r){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,i,r)}catch(Eu){We(Eu,n.context,"directive ".concat(t.name," ").concat(e," hook"))}}var ho=[Xr,ro];function po(t,e){var o=e.componentOptions;if((!i(o)||!1!==o.Ctor.options.inheritAttrs)&&(!n(t.data.attrs)||!n(e.data.attrs))){var s,a,l,c=e.elm,u=t.data.attrs||{},h=e.data.attrs||{};for(s in(i(h.__ob__)||r(h._v_attr_proxy))&&(h=e.data.attrs=R({},h)),h)a=h[s],l=u[s],l!==a&&fo(c,s,a,e.data.pre);for(s in(Q||et)&&h.value!==u.value&&fo(c,"value",h.value),u)n(h[s])&&(mr(s)?c.removeAttributeNS(vr,yr(s)):pr(s)||c.removeAttribute(s))}}function fo(t,e,n,i){i||t.tagName.indexOf("-")>-1?go(t,e,n):gr(e)?br(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):pr(e)?t.setAttribute(e,dr(e,n)):mr(e)?br(n)?t.removeAttributeNS(vr,yr(e)):t.setAttributeNS(vr,e,n):go(t,e,n)}function go(t,e,n){if(br(n))t.removeAttribute(e);else{if(Q&&!tt&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var vo={create:po,update:po};function mo(t,e){var r=e.elm,o=e.data,s=t.data;if(!(n(o.staticClass)&&n(o.class)&&(n(s)||n(s.staticClass)&&n(s.class)))){var a=wr(e),l=r._transitionClasses;i(l)&&(a=Sr(a,Tr(l))),a!==r._prevClass&&(r.setAttribute("class",a),r._prevClass=a)}}var yo,bo={create:mo,update:mo},wo="__r",_o="__c";function xo(t){if(i(t[wo])){var e=Q?"change":"input";t[e]=[].concat(t[wo],t[e]||[]),delete t[wo]}i(t[_o])&&(t.change=[].concat(t[_o],t.change||[]),delete t[_o])}function So(t,e,n){var i=yo;return function r(){var o=e.apply(null,arguments);null!==o&&Eo(t,r,n,i)}}var To=Je&&!(rt&&Number(rt[1])<=53);function Co(t,e,n,i){if(To){var r=Mn,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=r||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}yo.addEventListener(t,e,st?{capture:n,passive:i}:n)}function Eo(t,e,n,i){(i||yo).removeEventListener(t,e._wrapper||e,n)}function ko(t,e){if(!n(t.data.on)||!n(e.data.on)){var i=e.data.on||{},r=t.data.on||{};yo=e.elm||t.elm,xo(i),Yt(i,r,Co,Eo,So,e.context),yo=void 0}}var Oo,Ao={create:ko,update:ko,destroy:function(t){return ko(t,Yr)}};function Po(t,e){if(!n(t.data.domProps)||!n(e.data.domProps)){var o,s,a=e.elm,l=t.data.domProps||{},c=e.data.domProps||{};for(o in(i(c.__ob__)||r(c._v_attr_proxy))&&(c=e.data.domProps=R({},c)),l)o in c||(a[o]="");for(o in c){if(s=c[o],"textContent"===o||"innerHTML"===o){if(e.children&&(e.children.length=0),s===l[o])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===o&&"PROGRESS"!==a.tagName){a._value=s;var u=n(s)?"":String(s);Ro(a,u)&&(a.value=u)}else if("innerHTML"===o&&Ar(a.tagName)&&n(a.innerHTML)){Oo=Oo||document.createElement("div"),Oo.innerHTML="<svg>".concat(s,"</svg>");var h=Oo.firstChild;while(a.firstChild)a.removeChild(a.firstChild);while(h.firstChild)a.appendChild(h.firstChild)}else if(s!==l[o])try{a[o]=s}catch(Eu){}}}}function Ro(t,e){return!t.composing&&("OPTION"===t.tagName||Io(t,e)||jo(t,e))}function Io(t,e){var n=!0;try{n=document.activeElement!==t}catch(Eu){}return n&&t.value!==e}function jo(t,e){var n=t.value,r=t._vModifiers;if(i(r)){if(r.number)return g(n)!==g(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var Lo={create:Po,update:Po},Bo=_((function(t){var e={},n=/;(?![^(]*\))/g,i=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(i);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function Fo(t){var e=Do(t.style);return t.staticStyle?R(t.staticStyle,e):e}function Do(t){return Array.isArray(t)?I(t):"string"===typeof t?Bo(t):t}function No(t,e){var n,i={};if(e){var r=t;while(r.componentInstance)r=r.componentInstance._vnode,r&&r.data&&(n=Fo(r.data))&&R(i,n)}(n=Fo(t.data))&&R(i,n);var o=t;while(o=o.parent)o.data&&(n=Fo(o.data))&&R(i,n);return i}var Mo,$o=/^--/,Ho=/\s*!important$/,zo=function(t,e,n){if($o.test(e))t.style.setProperty(e,n);else if(Ho.test(n))t.style.setProperty(E(e),n.replace(Ho,""),"important");else{var i=Uo(e);if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)t.style[i]=n[r];else t.style[i]=n}},qo=["Webkit","Moz","ms"],Uo=_((function(t){if(Mo=Mo||document.createElement("div").style,t=S(t),"filter"!==t&&t in Mo)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<qo.length;n++){var i=qo[n]+e;if(i in Mo)return i}}));function Vo(t,e){var r=e.data,o=t.data;if(!(n(r.staticStyle)&&n(r.style)&&n(o.staticStyle)&&n(o.style))){var s,a,l=e.elm,c=o.staticStyle,u=o.normalizedStyle||o.style||{},h=c||u,p=Do(e.data.style)||{};e.data.normalizedStyle=i(p.__ob__)?R({},p):p;var f=No(e,!0);for(a in h)n(f[a])&&zo(l,a,"");for(a in f)s=f[a],s!==h[a]&&zo(l,a,null==s?"":s)}}var Wo={create:Vo,update:Vo},Go=/\s+/;function Zo(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Go).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" ".concat(t.getAttribute("class")||""," ");n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Xo(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Go).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" ".concat(t.getAttribute("class")||""," "),i=" "+e+" ";while(n.indexOf(i)>=0)n=n.replace(i," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function Ko(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&R(e,Jo(t.name||"v")),R(e,t),e}return"string"===typeof t?Jo(t):void 0}}var Jo=_((function(t){return{enterClass:"".concat(t,"-enter"),enterToClass:"".concat(t,"-enter-to"),enterActiveClass:"".concat(t,"-enter-active"),leaveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-to"),leaveActiveClass:"".concat(t,"-leave-active")}})),Yo=J&&!tt,Qo="transition",ts="animation",es="transition",ns="transitionend",is="animation",rs="animationend";Yo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(es="WebkitTransition",ns="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(is="WebkitAnimation",rs="webkitAnimationEnd"));var os=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function ss(t){os((function(){os(t)}))}function as(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Zo(t,e))}function ls(t,e){t._transitionClasses&&y(t._transitionClasses,e),Xo(t,e)}function cs(t,e,n){var i=hs(t,e),r=i.type,o=i.timeout,s=i.propCount;if(!r)return n();var a=r===Qo?ns:rs,l=0,c=function(){t.removeEventListener(a,u),n()},u=function(e){e.target===t&&++l>=s&&c()};setTimeout((function(){l<s&&c()}),o+1),t.addEventListener(a,u)}var us=/\b(transform|all)(,|$)/;function hs(t,e){var n,i=window.getComputedStyle(t),r=(i[es+"Delay"]||"").split(", "),o=(i[es+"Duration"]||"").split(", "),s=ps(r,o),a=(i[is+"Delay"]||"").split(", "),l=(i[is+"Duration"]||"").split(", "),c=ps(a,l),u=0,h=0;e===Qo?s>0&&(n=Qo,u=s,h=o.length):e===ts?c>0&&(n=ts,u=c,h=l.length):(u=Math.max(s,c),n=u>0?s>c?Qo:ts:null,h=n?n===Qo?o.length:l.length:0);var p=n===Qo&&us.test(i[es+"Property"]);return{type:n,timeout:u,propCount:h,hasTransform:p}}function ps(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return fs(e)+fs(t[n])})))}function fs(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function ds(t,e){var r=t.elm;i(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var o=Ko(t.data.transition);if(!n(o)&&!i(r._enterCb)&&1===r.nodeType){var s=o.css,c=o.type,u=o.enterClass,h=o.enterToClass,p=o.enterActiveClass,f=o.appearClass,d=o.appearToClass,v=o.appearActiveClass,m=o.beforeEnter,y=o.enter,b=o.afterEnter,w=o.enterCancelled,_=o.beforeAppear,x=o.appear,S=o.afterAppear,T=o.appearCancelled,C=o.duration,E=xn,k=xn.$vnode;while(k&&k.parent)E=k.context,k=k.parent;var O=!E._isMounted||!t.isRootInsert;if(!O||x||""===x){var A=O&&f?f:u,P=O&&v?v:p,R=O&&d?d:h,I=O&&_||m,j=O&&a(x)?x:y,L=O&&S||b,B=O&&T||w,F=g(l(C)?C.enter:C);0;var D=!1!==s&&!tt,N=ms(j),$=r._enterCb=M((function(){D&&(ls(r,R),ls(r,P)),$.cancelled?(D&&ls(r,A),B&&B(r)):L&&L(r),r._enterCb=null}));t.data.show||Qt(t,"insert",(function(){var e=r.parentNode,n=e&&e._pending&&e._pending[t.key];n&&n.tag===t.tag&&n.elm._leaveCb&&n.elm._leaveCb(),j&&j(r,$)})),I&&I(r),D&&(as(r,A),as(r,P),ss((function(){ls(r,A),$.cancelled||(as(r,R),N||(vs(F)?setTimeout($,F):cs(r,c,$)))}))),t.data.show&&(e&&e(),j&&j(r,$)),D||N||$()}}}function gs(t,e){var r=t.elm;i(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var o=Ko(t.data.transition);if(n(o)||1!==r.nodeType)return e();if(!i(r._leaveCb)){var s=o.css,a=o.type,c=o.leaveClass,u=o.leaveToClass,h=o.leaveActiveClass,p=o.beforeLeave,f=o.leave,d=o.afterLeave,v=o.leaveCancelled,m=o.delayLeave,y=o.duration,b=!1!==s&&!tt,w=ms(f),_=g(l(y)?y.leave:y);0;var x=r._leaveCb=M((function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[t.key]=null),b&&(ls(r,u),ls(r,h)),x.cancelled?(b&&ls(r,c),v&&v(r)):(e(),d&&d(r)),r._leaveCb=null}));m?m(S):S()}function S(){x.cancelled||(!t.data.show&&r.parentNode&&((r.parentNode._pending||(r.parentNode._pending={}))[t.key]=t),p&&p(r),b&&(as(r,c),as(r,h),ss((function(){ls(r,c),x.cancelled||(as(r,u),w||(vs(_)?setTimeout(x,_):cs(r,a,x)))}))),f&&f(r,x),b||w||x())}}function vs(t){return"number"===typeof t&&!isNaN(t)}function ms(t){if(n(t))return!1;var e=t.fns;return i(e)?ms(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function ys(t,e){!0!==e.data.show&&ds(e)}var bs=J?{create:ys,activate:ys,remove:function(t,e){!0!==t.data.show?gs(t,e):e()}}:{},ws=[vo,bo,Ao,Lo,Wo,bs],_s=ws.concat(ho),xs=io({nodeOps:Zr,modules:_s});tt&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&Ps(t,"input")}));var Ss={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?Qt(n,"postpatch",(function(){Ss.componentUpdated(t,e,n)})):Ts(t,e,n.context),t._vOptions=[].map.call(t.options,ks)):("textarea"===n.tag||Lr(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Os),t.addEventListener("compositionend",As),t.addEventListener("change",As),tt&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Ts(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,ks);if(r.some((function(t,e){return!D(t,i[e])}))){var o=t.multiple?e.value.some((function(t){return Es(t,r)})):e.value!==e.oldValue&&Es(e.value,r);o&&Ps(t,"change")}}}};function Ts(t,e,n){Cs(t,e,n),(Q||et)&&setTimeout((function(){Cs(t,e,n)}),0)}function Cs(t,e,n){var i=e.value,r=t.multiple;if(!r||Array.isArray(i)){for(var o,s,a=0,l=t.options.length;a<l;a++)if(s=t.options[a],r)o=N(i,ks(s))>-1,s.selected!==o&&(s.selected=o);else if(D(ks(s),i))return void(t.selectedIndex!==a&&(t.selectedIndex=a));r||(t.selectedIndex=-1)}}function Es(t,e){return e.every((function(e){return!D(e,t)}))}function ks(t){return"_value"in t?t._value:t.value}function Os(t){t.target.composing=!0}function As(t){t.target.composing&&(t.target.composing=!1,Ps(t.target,"input"))}function Ps(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Rs(t){return!t.componentInstance||t.data&&t.data.transition?t:Rs(t.componentInstance._vnode)}var Is={bind:function(t,e,n){var i=e.value;n=Rs(n);var r=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,ds(n,(function(){t.style.display=o}))):t.style.display=i?o:"none"},update:function(t,e,n){var i=e.value,r=e.oldValue;if(!i!==!r){n=Rs(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,i?ds(n,(function(){t.style.display=t.__vOriginalDisplay})):gs(n,(function(){t.style.display="none"}))):t.style.display=i?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}},js={model:Ss,show:Is},Ls={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Bs(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Bs(Me(e.children)):t}function Fs(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var i in r)e[S(i)]=r[i];return e}function Ds(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Ns(t){while(t=t.parent)if(t.data.transition)return!0}function Ms(t,e){return e.key===t.key&&e.tag===t.tag}var $s=function(t){return t.tag||Se(t)},Hs=function(t){return"show"===t.name},zs={name:"transition",props:Ls,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter($s),n.length)){0;var i=this.mode;0;var r=n[0];if(Ns(this.$vnode))return r;var o=Bs(r);if(!o)return r;if(this._leaving)return Ds(t,r);var a="__transition-".concat(this._uid,"-");o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var l=(o.data||(o.data={})).transition=Fs(this),c=this._vnode,u=Bs(c);if(o.data.directives&&o.data.directives.some(Hs)&&(o.data.show=!0),u&&u.data&&!Ms(o,u)&&!Se(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=R({},l);if("out-in"===i)return this._leaving=!0,Qt(h,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Ds(t,r);if("in-out"===i){if(Se(o))return c;var p,f=function(){p()};Qt(l,"afterEnter",f),Qt(l,"enterCancelled",f),Qt(h,"delayLeave",(function(t){p=t}))}}return r}}},qs=R({tag:String,moveClass:String},Ls);delete qs.mode;var Us={props:qs,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var r=Sn(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,n,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],s=Fs(this),a=0;a<r.length;a++){var l=r[a];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=s;else;}if(i){var c=[],u=[];for(a=0;a<i.length;a++){l=i[a];l.data.transition=s,l.data.pos=l.elm.getBoundingClientRect(),n[l.key]?c.push(l):u.push(l)}this.kept=t(e,null,c),this.removed=u}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Vs),t.forEach(Ws),t.forEach(Gs),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,i=n.style;as(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(ns,n._moveCb=function t(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(ns,t),n._moveCb=null,ls(n,e))})}})))},methods:{hasMove:function(t,e){if(!Yo)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){Xo(n,t)})),Zo(n,e),n.style.display="none",this.$el.appendChild(n);var i=hs(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}};function Vs(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Ws(t){t.data.newPos=t.elm.getBoundingClientRect()}function Gs(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate(".concat(i,"px,").concat(r,"px)"),o.transitionDuration="0s"}}var Zs={Transition:zs,TransitionGroup:Us};Zi.config.mustUseProp=hr,Zi.config.isReservedTag=Pr,Zi.config.isReservedAttr=cr,Zi.config.getTagNamespace=Rr,Zi.config.isUnknownElement=jr,R(Zi.options.directives,js),R(Zi.options.components,Zs),Zi.prototype.__patch__=J?xs:j,Zi.prototype.$mount=function(t,e){return t=t&&J?Br(t):void 0,En(this,t,e)},J&&setTimeout((function(){U.devtools&&ct&&ct.emit("init",Zi)}),0);var Xs=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}})},Ks=[],Js=function(){var t=this,e=t._self._c;return e("div",{staticClass:"iiifannotation annonaview",attrs:{id:t.annotationid+"_imageview"}},[t.languages.length>0?e("select",{staticClass:"lang_drop",domProps:{innerHTML:t._s(t.languages.join(""))},on:{change:function(e){return t.changeLang(e)}}}):t._e(),"emptylist"===t.rendered?e("div",[t._v(' Could not find any annotations for "'+t._s(t.annotationurl)+'" ')]):t.rendered&&!t.settings.table_view?e("defaultimageview",{attrs:{compdata:this.$data}}):t.rendered&&t.settings.table_view?e("tableview",{attrs:{compdata:this.$data}}):!1===t.rendered?e("div",[t._v(' "'+t._s(t.annotationurl)+'" did not render. Please ensure your annotation link is correct.'),e("br"),t._v(' Make sure the annotation contains a link to a working manifest. If it does not add manifest url to tag using the "manifesturl" property.'),e("br")]):t._e()],1)},Ys=[],Qs=__webpack_require__(9669),ta=__webpack_require__.n(Qs),ea=__webpack_require__(3972),na=__webpack_require__.n(ea),ia={getLangLabel:function(t){var e=!0;2==t.length&&(t=Object.keys(this.languages()).filter((function(e){return e.split("-")[0]==t}))[0],e=!1);var n=this.languages()[t],i=n&&e?n["label"]:n?n["lang"]:t;return i},flatten:function(t,e){return e?t.reduce((function(t,n){return t.concat(n[e])}),[]).filter(Boolean):t.reduce((function(t,e){return t.concat(e)}),[]).filter(Boolean)},hexDict:function(){return{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},languages:function(){return{"ar-SA":{label:"Arabic (Saudi Arabia)",tag:"ar-SA",lang:"Arabic",region:"Saudi Arabia"},"bn-BD":{label:"Bangla (Bangladesh)",tag:"bn-BD",lang:"Bangla",region:"Bangladesh"},"bn-IN":{label:"Bangla (India)",tag:"bn-IN",lang:"Bangla",region:"India"},"cs-CZ":{label:"Czech (Czech Republic)",tag:"cs-CZ",lang:"Czech",region:"Czech Republic"},"da-DK":{label:"Danish (Denmark)",tag:"da-DK",lang:"Danish",region:"Denmark"},"de-AT":{label:"Austrian German",tag:"de-AT",lang:"German",region:"Austria"},"de-CH":{label:"'Swiss' German",tag:"de-CH",lang:"German",region:"Switzerland"},"de-DE":{label:"Standard German (as spoken in Germany)",tag:"de-DE",lang:"German",region:"Germany"},"el-GR":{label:"Modern Greek",tag:"el-GR",lang:"Greek",region:"Greece"},"en-AU":{label:"Australian English",tag:"en-AU",lang:"English",region:"Australia"},"en-CA":{label:"Canadian English",tag:"en-CA",lang:"English",region:"Canada"},"en-GB":{label:"British English",tag:"en-GB",lang:"English",region:"United Kingdom"},"en-IE":{label:"Irish English",tag:"en-IE",lang:"English",region:"Ireland"},"en-IN":{label:"Indian English",tag:"en-IN",lang:"English",region:"India"},"en-NZ":{label:"New Zealand English",tag:"en-NZ",lang:"English",region:"New Zealand"},"en-US":{label:"US English",tag:"en-US",lang:"English",region:"United States"},"en-ZA":{label:"English (South Africa)",tag:"en-ZA",lang:"English",region:"South Africa"},"es-AR":{label:"Argentine Spanish",tag:"es-AR",lang:"Spanish",region:"Argentina"},"es-CL":{label:"Chilean Spanish",tag:"es-CL",lang:"Spanish",region:"Chile"},"es-CO":{label:"Colombian Spanish",tag:"es-CO",lang:"Spanish",region:"Columbia"},"es-ES":{label:"Castilian Spanish (as spoken in Central-Northern Spain)",tag:"es-ES",lang:"Spanish",region:"Spain"},"es-MX":{label:"Mexican Spanish",tag:"es-MX",lang:"Spanish",region:"Mexico"},"es-US":{label:"American Spanish",tag:"es-US",lang:"Spanish",region:"United States"},"fi-FI":{label:"Finnish (Finland)",tag:"fi-FI",lang:"Finnish",region:"Finland"},"fr-BE":{label:"Belgian French",tag:"fr-BE",lang:"French",region:"Belgium"},"fr-CA":{label:"Canadian French",tag:"fr-CA",lang:"French",region:"Canada"},"fr-CH":{label:"'Swiss' French",tag:"fr-CH",lang:"French",region:"Switzerland"},"fr-FR":{label:"Standard French (especially in France)",tag:"fr-FR",lang:"French",region:"France"},"he-IL":{label:"Hebrew (Israel)",tag:"he-IL",lang:"Hebrew",region:"Israel"},"hi-IN":{label:"Hindi (India)",tag:"hi-IN",lang:"Hindi",region:"India"},"hu-HU":{label:"Hungarian (Hungary)",tag:"hu-HU",lang:"Hungarian",region:"Hungary"},"id-ID":{label:"Indonesian (Indonesia)",tag:"id-ID",lang:"Indonesian",region:"Indonesia"},"it-CH":{label:"'Swiss' Italian",tag:"it-CH",lang:"Italian",region:"Switzerland"},"it-IT":{label:"Standard Italian (as spoken in Italy)",tag:"it-IT",lang:"Italian",region:"Italy"},"ja-JP":{label:"Japanese (Japan)",tag:"ja-JP",lang:"Japanese",region:"Japan"},"ko-KR":{label:"Korean (Republic of Korea)",tag:"ko-KR",lang:"Korean",region:"Republic of Korea"},"nl-BE":{label:"Belgian Dutch",tag:"nl-BE",lang:"Dutch",region:"Belgium"},"nl-NL":{label:"Standard Dutch (as spoken in The Netherlands)",tag:"nl-NL",lang:"Dutch",region:"The Netherlands"},"no-NO":{label:"Norwegian (Norway)",tag:"no-NO",lang:"Norwegian",region:"Norway"},"pl-PL":{label:"Polish (Poland)",tag:"pl-PL",lang:"Polish",region:"Poland"},"pt-BR":{label:"Brazilian Portuguese",tag:"pt-BR",lang:"Portugese",region:"Brazil"},"pt-PT":{label:"European Portuguese (as written and spoken in Portugal)",tag:"pt-PT",lang:"Portugese",region:"Portugal"},"ro-RO":{label:"Romanian (Romania)",tag:"ro-RO",lang:"Romanian",region:"Romania"},"ru-RU":{label:"Russian (Russian Federation)",tag:"ru-RU",lang:"Russian",region:"Russian Federation"},"sk-SK":{label:"Slovak (Slovakia)",tag:"sk-SK",lang:"Slovak",region:"Slovakia"},"sv-SE":{label:"Swedish (Sweden)",tag:"sv-SE",lang:"Swedish",region:"Sweden"},"ta-IN":{label:"Indian Tamil",tag:"ta-IN",lang:"Tamil",region:"India"},"ta-LK":{label:"Sri Lankan Tamil",tag:"ta-LK",lang:"Tamil",region:"Sri Lanka"},"th-TH":{label:"Thai (Thailand)",tag:"th-TH",lang:"Thai",region:"Thailand"},"tr-TR":{label:"Turkish (Turkey)",tag:"tr-TR",lang:"Turkish",region:"Turkey"},"zh-CN":{label:"Mainland China, simplified characters",tag:"zh-CN",lang:"Chinese",region:"China"},"zh-HK":{label:"Hong Kong, traditional characters",tag:"zh-HK",lang:"Chinese",region:"Hond Kong"},"zh-TW":{label:"Taiwan, traditional characters",tag:"zh-TW",lang:"Chinese",region:"Taiwan"}}}};function ra(t){return la(t)||aa(t)||sa(t)||oa()}function oa(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function sa(t,e){if(t){if("string"===typeof t)return ca(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ca(t,e):void 0}}function aa(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function la(t){if(Array.isArray(t))return ca(t)}function ca(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var ua={textoverlay:{opacity:100,fontcolor:"#000000",background:"none"},buttons:{autorun:'<i class="fas fa-magic"></i>',autorunoff:'<i class="fas fa-stop-circle"></i>',overlay:'<i class="fas fa-toggle-off"></i>',overlayoff:'<i class="fas fa-toggle-on"></i>',textoverlay:'<i class="fas fa-align-justify"></i>',annooff:'<i class="fas fa-pen-nib"></i>',anno:'<i class="fas fa-file-alt"></i>',hide:'<i class="fas fa-caret-up"></i>',hideoff:'<i class="fas fa-caret-down"></i>',collapsehide:'<i class="fas fa-caret-left"></i>',collapsehideoff:'<i class="fas fa-caret-right"></i>',playpause:'<i class="fas fa-play"></i>',playpauseoff:'<i class="fas fa-pause"></i>',tags:'<i class="fas fa-tag"></i>',reload:'<i class="fas fa-redo"></i>',info:'<i class="fas fa-info-circle"></i>',layers:'<i class="fas fa-layer-group"></i>',keyboard:'<i class="fas fa-keyboard"></i>',rangeprev:'<i class="fas fa-chevron-left"></i>',rangenext:'<i class="fas fa-chevron-right"></i>',perpage:'<i class="fas fa-book-open"></i>',fullscreen:'<i class="fas fa-expand"></i>',fullscreenoff:'<i class="fas fa-compress"></i>',settings:'<i class="fas fa-cog"></i>'},booleanitems:{isexcerpt:!1,isoverlaytoggled:!1,istextoverlaytoggled:!1,annoinfoshown:!1,imageinfoshown:!1,additionalinfoshown:!1,tocshown:!1,istranscription:!1,collectioninfoshown:!1},objectToNewObject:function(t){return JSON.parse(JSON.stringify(t))},imageextensions:["jpeg","jpg","png","svg","bmp","gif","apng","avif","jfif","pjpeg","pjp","webp","ico","cur"],on_structure:function(t){return t["on"]&&"undefined"!==typeof t["on"]?"Array"===t["on"].constructor.name?t["on"]:[t["on"]]:void 0},getsettings:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.styling,r={};if(n||null===document.getElementById("config")||""==document.getElementById("config").innerHTML||(r=JSON.parse(document.getElementById("config").innerHTML)),i)for(var o=i.split(";").filter((function(t){return""!=t})),s=0;s<o.length;s++){var a=o[s].split(":"),l=o[s].substring(o[s].indexOf(":")+1).trim();l="false"!=l&&l,l="true"==l||l,l=parseInt(l)&&parseInt(l).toString().length==l.length?parseInt(l):l,l=l&&"String"==l.constructor.name?this.tryJsonParse(l):l,r[a[0].trim()]=l}if("scrollview"==r.annoview&&(r.startposition=void 0!=r.startposition?r.startposition:1,r.hide_nextbuttons=void 0==r.hide_nextbuttons||r.hide_nextbuttons),Object.keys(r).join("").indexOf("toggle")>-1&&t.booleanitems)for(var c=["overlay","textoverlay"],u=0;u<c.length;u++){var h=r["toggle"+c[u]];h&&(t.booleanitems["is"+c[u]+"toggled"]=h)}if(Object.keys(r).join("").indexOf("textoverlay")>-1&&t.textoverlay)for(var p=["opacity","fontcolor","background"],f=0;f<p.length;f++){var d=r["textoverlay"+p[f]];d&&(t.textoverlay[p[f]]=d)}return r.tagscolor&&(r.tagscolor=Object.keys(r.tagscolor).reduce((function(t,n){return t[e.tagsToClass(n)]=r.tagscolor[n],t}),{})),r},parseCharValue:function(t){try{var e=JSON.parse(t);if("Array"!=e.constructor.name||"Object"!=e.constructor.name)return t;var n=e["@context"],i="";for(var r in e)"@context"!=r&&(i+='<div class="'+(n?n[r]:r)+'">'+r+": "+e[r]+"</div>");return i}catch(o){return t}},stripHTML:function(t){var e=document.createElement("div");return e.innerHTML=t,(e.textContent||e.innerText||"").trim()},colorDict:function(t,e){var n={},i="",r=document.implementation.createHTMLDocument(""),o=document.createElement("style");o.textContent=t,r.body.appendChild(o);for(var s=o.sheet.cssRules,a=0;a<s.length;a++){var l="."+e+"[. {]",c=new RegExp(l);if(c.test(s[a].cssText)){var u=s[a].selectorText.replaceAll(".","").replace(e,"").trim();n[u]=s[a].style.color,i+=s[a].cssText}}return{colordict:n,stylesheet:i}},tagsToClass:function(t){var e="-?[_a-zA-Z]+[_a-zA-Z0-9-]*",n=t&&t.group?t.group:"";return t=t&&t.value?t.value:t,t.length>0?[].concat(ra((""+(n?n.toLowerCase():n)+t.toLowerCase()).matchAll(e))).join(""):""},groupToClass:function(t){var e="-?[_a-zA-Z]+[_a-zA-Z0-9-]*";return[].concat(ra((""+(t?t.toLowerCase():t)).matchAll(e))).join("")},getLongEdge:function(t){var e=t.world.getItemAt(0).getContentSize(),n=t.viewport.viewerElementToImageCoordinates(t.viewport.getContainerSize()),i=n["x"]/e["x"]*e["y"];return e["y"]-n["y"]>e["x"]-n["x"]&&i-n["y"]>0?"vertical":"horizontal"},chars:function(t){var e,n,i,r,o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=t.body?t.body:t.resource?t.resource:"",l=[],c=[],u=[],h=[],p=t.stylesheet?t.stylesheet.value:"",f=t.target&&t.target.styleClass?t.target.styleClass:"";if(p&&"cssstylesheet"==t.stylesheet.type.toLowerCase()){var d=this.colorDict(p,t.target.styleClass);p=d["colordict"],r=d["stylesheet"]}var g=t.label?t.label:t.resource&&t.resource.label?t.resource.label:void 0;a=[].concat(a),t.bodyValue&&l.push(t.bodyValue);for(var v=0;v<a.length;v++){var m=a[v],y=Object.keys(m)[Object.keys(m).findIndex((function(t){return t.includes("type")}))],b=m[y],w=m["value"]?m["value"]:m["@value"]?m["@value"]:m["chars"],_=m["purpose"]?m["purpose"].split("#").slice(-1)[0]:t["motivation"]&&!Array.isArray(t["motivation"])?t["motivation"]:b;if(_=_?_.toLowerCase():_,m.selector&&(e=m.selector.value),m["geometry"]&&(i=m["geometry"]),w){var x=m["@id"]?m["@id"]:m["id"]?m["id"]:"";if(w=decodeURIComponent(escape(unescape(encodeURIComponent(w)))),x&&(w='<a href="'+x+'" target="_blank">'+w+"</a?>"),w=this.parseCharValue(w),m.creator||m["annotatedBy"]||m["oa:annotatedBy"]){var S=this.getAuthor(m).split(", ");w+="tagging"!=_&&"oa:Tag"!==b?'<div class="authorship">Written by: '+[].concat(ra(new Set(S))).join(", ")+"</div>":""}"TextualBody"===b?"tagging"===_?c.push({value:w,group:""}):"transcribing"==_||"supplementing"==_?u.push(w):l.push('<div class="'+_+'">'+w+"</div>"):"oa:Tag"===b?c.push({value:w,group:""}):"dctypes:Dataset"===b||"Dataset"===b?m["@id"]?l.push('<a href="'+m["@id"]+'">Download dataset ('+m["format"]+")</a>"):"tagging"==_?c.push(m["value"]):"transcribing"==_||"supplementing"==_?u.push(m["value"]):l.push('<div class="'+_+'">'+w+"</div>"):"cnt:ContentAsText"===b&&(b.toLowerCase()===_||_.indexOf("painting")>-1)?u.push(w):l.push('<div class="'+_+'">'+w+"</div>")}else if("Choice"===b){n=m["items"].map((function(t){return'<option value="'+t["language"]+'"'+(s.indexOf(t["language"])>-1||navigator.language.indexOf(t["language"])>-1?" selected":"")+">"+ia.getLangLabel(t["language"])+"</option>"}));var T=[];m["items"].map((function(t){return T.push(o.createItemsDict(_,t))})),l=l.concat(T)}else"dctypes:Image"!==b&&"Image"!==b||l.push('<img src="'+m["@id"]+'">\n          <div class="attribution">'+m["attribution"]+'</div>\n          <div class="caption">'+m["description"]+"</div>")}return h=this.getAuthor(t),{ocr:u,textual_body:l,tags:c,type:e,languages:n,label:g,language:m?m["language"]:"",authors:h,styles:p,stylesheet:r,itemclass:f,geometry:i}},createItemsDict:function(t,e){var n=decodeURIComponent(escape(unescape(encodeURIComponent(e["value"])))),i={purpose:t,language:e["language"],value:n};return i},selectorParser:function(t){var e=t.item?t.item.value:t.default?t.default.value:t.value,n=this.getSVGoverlay(e);if(n){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.id="getBounds",i.appendChild(n);var r=document.getElementsByClassName("annonaview");r=r.length>0?r[0]:document.getElementsByTagName("body")[0],r.appendChild(i);var o=document.getElementById("getBounds").getBBox();return r.removeChild(i),{bounds:o["x"]+","+o["y"]+","+o["width"]+","+o["height"],svg:n}}return{bounds:e.split("=").slice(-1)[0],svg:void 0}},findLimits:function(t,e){for(var n=t.getTotalLength(),i=t.getPointAtLength(0),r=t.getPointAtLength(n),o={p:0,x:i["x"],y:i["y"]},s={p:n,x:r["x"],y:r["y"]},a={p:0,x:i["x"],y:i["y"]},l={p:0,x:r["x"],y:r["y"]},c={x:e[0],y:e[1]+e[3]},u={x:e[0],y:e[1]},h={x:e[0]+e[2],y:e[1]+e[3]},p={x:e[0]+e[2],y:e[1]},f=0;f<n;f++){var d=t.getPointAtLength(f),g={p:f,x:d["x"],y:d["y"]};this.diffpt(d,c)<=this.diffpt(o,c)&&(o=g),this.diffpt2(d,h)<=this.diffpt2(s,h)&&(s=g),this.diffpt2(d,u)<=this.diffpt2(a,u)&&(a=g),this.diffpt2(d,p)<=this.diffpt2(l,p)&&(l=g)}return{start:o,end:s,topleft:a,topright:l}},diffpt:function(t,e){var n=Math.sqrt(Math.pow(e["x"]-t.x,2)+Math.pow(e["y"]-t.y,2));return n},diffpt2:function(t,e){var n=Math.abs(t["x"]-e["x"])+Math.sqrt(Math.pow(e["x"]-t.x,2)+Math.pow(e["y"]-t.y,2));return n},polyToPath:function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","path"),n="M"+t.getAttribute("points");return"polygon"==t.tagName&&(n+="z"),e.setAttribute("d",n),e},findSVGcoords:function(t,e){var n,i;try{t.points&&(t=this.polyToPath(t)),n=this.findLimits(t,e)}catch(v){return{path:"M"}}var r=Math.sqrt(Math.pow(n["start"]["x"]-n["topleft"]["x"],2)+Math.pow(n["start"]["y"]-n["topleft"]["y"],2)),o=Math.sqrt(Math.pow(n["end"]["x"]-n["topright"]["x"],2)+Math.pow(n["end"]["y"]-n["topright"]["y"],2));i=r>o?r:o;var s=n["start"]["p"]-n["end"]["p"],a=n["start"]["p"],l=n["end"]["p"],c=!1;s<0&&(a=n["end"]["p"],l=n["start"]["p"],c=!0);for(var u="",h=a;h>l;h--){var p=t.getPointAtLength(h);u+=p["x"]+","+p["y"]+" "}u=c?u.split(" ").reverse().join(" ").trim():u;var f=document.createElementNS("http://www.w3.org/2000/svg","path");f.setAttribute("d","M"+u.trim());var d=f.getTotalLength(),g=t.id?t.id:Math.random().toString(36).substring(2,7);return g+="-ocrtextoverlaypath",{path:"M"+u.trim(),fontsize:1.1*i,textLength:d,pathid:g}},createPath:function(t){var e=document.createElement("path");return e.setAttribute("d",t.getAttribute("d")),e},textOverlayHTML:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="";n&&(i=this.findSVGcoords(n,t));var r=this.stripHTML(e.join("\n").replace(/<div class="authorship">[\s\S]*?<\/div>/g,"")),o=r.split("\n"),s="";if(i&&"M"!=i["path"]&&o.length<2){var a=n.getAttribute("d")?this.createPath(n):n;a.setAttribute("style","z-index:-1;"),a.setAttribute("fill","none"),a.setAttribute("stroke","none"),a.classList="svgBackground",s="\n      "+a.outerHTML+'\n      <def>\n      <path id="'+i["pathid"]+'" d="'+i["path"]+'" fill="none"  stroke-width="30" stroke="red"/>\n      </def>\n      <text class="textOverlayText" textLength="'+i["textLength"]+'" font-size="'+i["fontsize"]+'" lengthAdjust="spacingAndGlyphs">\n        <textPath textLength="'+i["textLength"]+'" font-size="'+i["fontsize"]+'" xlink:href="#'+i["pathid"]+'" text-anchor="start" lengthAdjust="spacingAndGlyphs">\n          '+r+"\n        </textPath>\n      </text>\n      "}else{var l=t[0],c=t[1]+t[3],u=t[3]/o.length>10;if(u)for(var h=0;h<o.length;h++){var p=t[3]/o.length,f=t[1]+p*(h+1);s+='<text class="textOverlayText" textLength="'+t[2]+'" font-size="'+p+'" x="'+t[0]+'" y="'+f+'" lengthAdjust="spacingAndGlyphs">\n            '+o[h]+"\n          </text>"}else s='\n        <text class="textOverlayText" x="'+l+'" y="'+c+'" textLength="'+t[2]+'" font-size="'+1.1*t[3]+'" lengthAdjust="spacingAndGlyphs">\n            '+r+"\n        </text>\n      "}return s},canvasRegion:function(t,e){var n,i,r=!1;if(e&&e.selector){var o=this.selectorParser(e.selector);n=o["bounds"],i=o["svg"]}if(t&&"string"!==typeof t){if(t.selector){var s=t.selector;if(t.selector.constructor===Array){var a=t.selector.filter((function(t){return t.value.indexOf("svg")>-1}));a=a.length>0?a:t.selector.filter((function(t){return t.value.indexOf("xywh")>-1})),s=a[0]}var l=this.selectorParser(s);n=l["bounds"],i=l["svg"]}if(t["source"]){var c="String"==t.source.constructor.name?t.source:this.getId(t.source);t="String"==c.constructor.name?t.source:t}t=this.getId(t)}return t&&t.indexOf("#xywh")>-1&&(n=t.split("#")[1].split("=")[1],t.indexOf("pct")>-1&&(r=!0),t=t.split("#")[0]),n&&""!==n.trim()||(n="full"),n&&n.indexOf("percent")>-1&&(r=!0),"full"!=n&&(n=n.split(",").map((function(t){return t.replace(/[^0-9.]/g,"")})).join(",")),r&&(n="pct:"+n),{canvasId:t.replace("/info.json",""),canvasRegion:n,svg:i}},manifestlink:function(t,e,n){var i;if(void 0===t||""===t){var r=this.on_structure(e);r=r?r[0]:r;var o=e["target"]?e["target"]:r;if(o){var s=Object.keys(o)[Object.keys(o).findIndex((function(t){return t.toLowerCase().includes("partof")}))],a=s?o[s]:"",l=Object.keys(n)[Object.keys(n).findIndex((function(t){return t.toLowerCase().includes("partof")}))];if(!a&&o["source"]){s=Object.keys(o["source"])[Object.keys(o["source"]).findIndex((function(t){return t.toLowerCase().includes("partof")}))];a=s?o["source"][s]:""}}var c=a&&Array.isArray(a)?a[0]:a||(l?n[l]:r?r["within"]:void 0);c=c||(n["within"]?n["within"]["within"]:""),i=this.getId(c)}else i=t;return i},getAnnotations:function(t){var e=t.resources?t.resources:t.items?t.items:t;return e=[].concat(e),e},getValueField:function(t){if(t)return t["@value"]?t["@value"]:t["value"]?t["value"]:t},parseMetaFields:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i="";if(t){var r=n||window.navigator.language.split("-")[0],o=r?r.split("-")[0]:"";i=Array.isArray(t)&&r?t.filter((function(t){return e.getField(t,"language")===r||e.getField(t,"language")===o})):t,i="Object"==i.constructor.name&&i[r]?i[r]:i,i=i&&i.length>0?i:t,i=Array.isArray(i)?i.map((function(t){return e.getValueField(t)})).join("/"):i,i=this.getValueField(i),i=i&&"Object"==i.constructor.name?Object.values(i).join(" "):i}return i},getField:function(t,e){return t["@"+e]?t["@"+e]:t[e]?t[e]:t},getHTMLMeta:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s="",a="",l=t.description?t.description:t.summary,c=t.attribution?t.attribution:t.requiredStatement,u=[{label:n,value:e?'<a href="'+e+'" target="_blank">'+e+"</a>":""},{label:"title",value:t.label},{label:"description",value:l},{label:"attribution",value:c},{label:"license",value:t.license},{label:"rights",value:t.rights}];u=t.metadata?u.concat(t.metadata):u,u=t.seeAlso?u.concat(t.seeAlso):u,u=t.rendering?u.concat(t.rendering):u;for(var h=0;h<u.length;h++){var p=u[h]["value"]&&u[h]["value"]["label"]?u[h]["value"]["label"]:u[h]["label"],f=(n=this.parseMetaFields(p,r),this.parseMetaFields(u[h]["value"],r));("Dataset"==u[h]["type"]||u[h]["format"])&&(f=this.getId(u[h]),f=f?'<a href="'+f+'">'+f+"</a>":""),"title"!==n||1!=h||i.title||(s=f);var d=!o||"title"!==n;f&&""!==f&&d&&(a+='<div id="'+n+'">'+(n?"<b>"+(n.charAt(0).toUpperCase()+n.slice(1))+": ":"")+"</b>"+f+"</div>")}return{title:s,text:a}},getCanvasId:function(t){var e=this.on_structure(t),n="";return t.target?n=t.target:e&&(n=e[0]&&e[0].full?e.map((function(t){return t.full})):e[0]&&e[0].source?e.map((function(t){return t.source})):this.flatten(e)),n=[].concat(n),n},getSVGoverlay:function(t){var e;if(t){var n=document.createElement("html");n.innerHTML=t;var i=n.getElementsByTagName("path")[0],r=n.getElementsByTagName("svg")[0];r&&(i=r.children[0]),e=i}return e},getAuthor:function(t){var e=[],n=t.creator?t.creator:t["annotatedBy"]?t["annotatedBy"]:t["oa:annotatedBy"]?t["oa:annotatedBy"]:"";n=n["name"]?n["name"]:n["id"]?n["id"]:n,Array.isArray(n)||(n=[n]),n=n.filter((function(t){return null!=t&&""!=t}));for(var i=0;i<n.length;i++){var r=n[i],o=r["name"]?r["name"]:r["label"]?r["label"]:r;e.push(o)}return[].concat(ra(new Set(e))).join(", ")},getTagDict:function(t,e,n){for(var i=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o={},s=0;s<t.length;s++){var a,l=t[s].value?t[s].value:t[s],c=t[s].group?this.groupToClass(t[s].group):"";if(""!=l&&l){var u=this.tagsToClass(t[s]);r&&(a=r[u],a=a?a.color:!!r[c]&&r[c].color),e.tagscolor&&(a=e.tagscolor[u],a=a||e.tagscolor[c]);var h=a||"#"+Math.random().toString(16).substr(-6);c&&!e.tagscolor[c]&&(e.tagscolor[c]=h);var p=t.filter((function(t){return i.tagsToClass(t)===u})).length;o[u]={color:h,checked:n,group:t[s]["group"],count:p,key:u,label:l.split("_").join(" ")}}}return o},groupBy:function(t,e){var n=this;return Object.values(t).reduce((function(t,i){var r="function"===typeof e?""+e(i):i[e],o=r||"",s=t[o]=t[o]||{count:0,tags:[],checked:i.checked};return s["tags"].push(i),s["tags"]=n.sortBy(s["tags"],"key"),0==i.checked&&(s["checked"]=!1),s["color"]=i.color,s["count"]+=i["count"],t}),{})},sortBy:function(t,e){return t.sort((function(t,n){return t[e]>n[e]?1:-1}))},parseObject:function(t,e){if("Object"==t.constructor.name){var n=e||Object.keys(t)[0],i=t[n];return"Array"==i.constructor.name?i.join("\n"):i}return t},createContent:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="",r="",o="",s=t?Object.values(t).filter((function(t){return t&&t.length>0})):[];if(s.length>0){var a=e||t["language"],l=a&&na().isRtlLang(a)?"rtl":"ltr",c='<span style="direction: '+l+';">',u=t["textual_body"],h=t["label"]?'<div class="title">'+this.parseObject(t["label"],e)+"</div>":"",p=t["ocr"];if(e&&u[0]&&u[0]["language"]){var f=u.filter((function(t){return t["language"]===e}));if(f.length>0)i='<div class="'+f[0]["purpose"]+'">'+f[0]["value"]+"</div>";else{var d=ia.getLangLabel(e);i='Translation not avaliable in "'+(d||e)+'"'}}else i=""+u.join("");p=p.length>0?'<div id="ocr">'+p.join("")+"</div>":"";var g=t["authors"]?'<div class="authorship">Written by: '+t["authors"]+"</div>":"",v=t["tags"].length>0?'<div class="tags">Tags: '+t["tags"].map((function(t){return t["value"]?t["value"]:t})).join(", ")+"</div>":"",m=c+(""+h)+"*replacementtext*"+g+(n?"":v)+"</span>"+(t&&t.stylesheet?"<style>"+t.stylesheet+"</style>":"").replace(/\s\s+/g," ");n&&p?i+=p:!i&&p&&(i=p);var y=c+"</span>",b=m.replace("*replacementtext*",i);r=b==y?"":b;var w=p?m.replace("*replacementtext*",p):"";o=w==y?"":w}return{anno:r,transcription:o}},getExtension:function(t){return t.split("?")[0].split(".").slice(-1)[0].toLowerCase()},getTileFormat:function(t){var e=this.getExtension(t);return this.imageextensions.includes(e)&&(t={type:"image",url:""+t}),t},isURL:function(t,e){if(t.constructor==String&&t.indexOf("base64,")>-1){var n=t.split("base64,").slice(-1)[0];t=JSON.parse(atob(n))}var i=this.parseInput(t),r=i.constructor===String,o=e.customid?e.customid:t;return r||(o=e.customid?e.customid:i["@id"]?i["@id"]:i["id"]?i["id"]:Math.random().toString(36).substring(7)),o=o.replace(/\/\s*$/,"").split("/").slice(-2).join("_").replace("-list","").replace(".json",""),{isURL:r,json:i,id:o.replace(/[~`!@#$%^&*()+={};:'"<>.,?]/g,"")}},parseInput:function(t){try{return JSON.parse(document.getElementById(t).innerHTML)}catch(e){return t}},tryJsonParse:function(t){try{return JSON.parse(t.replace(/'/g,'"'))}catch(e){return t}},flatten:function(t,e){return ia.flatten(t,e)},getCanvasTile:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.resource?t.resource:t.body?t.body:t;n=n.items?n.items:n;var i=!!(n&&JSON.stringify(n).indexOf("http://iiif.io/api/image/")>-1);n="Array"==n.constructor.name?n[0]:n;var r=n.service&&"Array"==n.service.constructor.name?this.getId(n.service[0]).split("/full/")[0]:n.service?this.getId(n.service).split("/full/")[0]:this.getId(n);return r=this.iiifOrImageCheck(r,e,i),{canvas_tile:r,img_resource:n}},iiifOrImageCheck:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(this.imageextensions.indexOf(this.getExtension(t))<0||n)&&(t+="/"!==t.slice(-1)?"/":"",e&&(t+="info.json")),t},matchCanvasData:function(t,e,n,i){for(var r=t,o=e.images?e.images:this.flatten(e.items.map((function(t){return t["items"]}))),s=o[0].body&&o[0].body.items?this.flatten(o.map((function(t){return t["body"]["items"]}))):o[0].body&&o[0].body.source?this.flatten(o.map((function(t){return t["body"]["source"]}))):o,a=0;a<o.length;a++)o[a]["body"]&&o[a]["body"]["selector"]&&(s[a]["rotation"]=o[a]["body"]["selector"]["rotation"]);if(r=e.label,r=this.getValueField(r),r&&"Object"==r.constructor.name){i=i||Object.keys(r)[0];r=r[i]}return r=Array.isArray(r)?r[0]:r,r=r&&-1==t.indexOf(r)&&1!==n.length?t+=": "+r:t,{images:s,title:r}},getAllCanvases:function(t){return t["items"]?this.flatten(t["items"]):this.flatten(t["sequences"].map((function(t){return t["canvases"]})))},getManifestAnnotations:function(t){return t["otherContent"]?t["otherContent"]:t["annotations"]},matchCanvas:function(t,e,n,i,r){var o=t.sequences?t.sequences[0].canvases:t.items,s=n;if(i)return this.matchCanvasData(n,i,o,r);for(var a=0;a<o.length;a++){var l=e.split("/canvas").slice(-1)[0],c=l?new RegExp(l+"$","g"):new RegExp(e+"$","g"),u=this.getId(o[a]).replace("https","http").replace("/info.json","");if(u===e.replace("https","http")||c.test(u))return this.matchCanvasData(n,o[a],o,r)}return{images:i,title:s}},getVersion:function(t){return t["@context"]&&-1==t["@context"].indexOf("2")?"3":"2"},getImages:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"2",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"default.jpg",o=new RegExp("/+$"),s="2"==i?"full":"max",a=n.split(",").filter(Boolean).length>1?n.split(",")[0]+",":n;t=t.replace(o,"");var l=this.getExtension(t);e.split(",").length>1&&-1==e.indexOf("pct")&&(e=e.split(",").map((function(t){return parseInt(t)})).join(",")),n="full"==n?s:n,a="full"==a?s:a;var c=this.imageextensions.indexOf(l)>-1?t:t+"/"+e+"/"+a+"/0/"+r,u=this.imageextensions.indexOf(l)>-1?t:"full"!==e?t+"/full/"+n+"/0/"+r:"";return{fullImage:u,imageurl:c}},keyboardShortcuts:function(t,e){var n=e.buttons,i={autorun:{icon:n["autorun"],label:"Start/Stop Autorun",shortcut:["b","1"],function:{function:"autoRun",args:""}},reload:{icon:n["reload"],label:"Reload",shortcut:["j","shift+1"],function:{function:"reload",args:""}},info:{icon:n["info"],label:"View source image information",shortcut:["i","2"],function:{function:"clickButton",args:"info"}},home:{icon:'<i class="fas fa-home"></i>',label:"View full image",shortcut:["h","0"],function:{function:"zoom",args:"home"}},zoomin:{icon:'<i class="fas fa-search-plus"></i>',label:"Zoom In",shortcut:["z","+","shift+ArrowUp"],function:{function:"zoom",args:"in"}},zoomout:{icon:'<i class="fas fa-search-minus"></i>',label:"Zoom Out",shortcut:["m","-","shift+ArrowDown"],function:{function:"zoom",args:"out"}},prev:{icon:'<i class="fa fa-arrow-left"></i>',label:"Previous Annotation",shortcut:["p",",","shift+ArrowLeft"],function:{function:"next",args:"prev"}},next:{icon:'<i class="fa fa-arrow-right"></i>',label:"Next Annotation",shortcut:["n",".","shift+ArrowRight"],function:{function:"next",args:"next"}},overlay:{icon:n["overlay"],label:"Toggle overlays",shortcut:["o","4"],function:{function:"createOverlay",args:""}},keyboard:{icon:n["keyboard"],label:"Toggle Keyboard Shortcuts",shortcut:["s","8"],function:{function:"clickButton",args:"keyboard"}},settings:{icon:n["settings"],label:"Change settings",shortcut:["k","q"],function:{function:"clickButton",args:"settings"}},fullscreen:{icon:n["fullscreen"],label:"Toggle Fullscreen",shortcut:["alt+f",";"],function:{function:"toggle_fullscreen",args:""}},hide:{icon:n["hide"],label:"Collapse text",shortcut:["c","7"],function:{function:"hide",args:""}},close:{icon:'<i class="fas fa-times"></i>',label:"Close",shortcut:["x","6"],function:{function:"close",args:"",run:!0}}};("storyboard"==t&&Object.keys(e.tagslist).length>0||"multistoryboard"==t&&e.tags)&&(i["tags"]={icon:n["tags"],label:"Toggle Tags",shortcut:["t","3"],function:{function:"clickButton",args:"tags"}}),("storyboard"==t&&e.layerslist.length>1||"multistoryboard"==t&&e.layerslist)&&(i["layers"]={icon:n["layers"],label:"View Avaliable Layers",shortcut:["l","5"],function:{function:"clickButton",args:"layers"}}),e.settings.tts&&(i["playpause"]={icon:n["playpause"],label:"Play/Pause",shortcut:["v","9"],function:{function:"playpause",args:""}}),e.$parent.range&&e.$parent.rangelist.length>1&&(i["prevanno"]={icon:e.$parent.buttons.rangeprev,label:"Previous Annotation",shortcut:["alt+p","alt+,","alt+ArrowLeft"],function:{function:"nextItemRange",args:"prev"},run:!0},i["nextanno"]={icon:e.$parent.buttons.rangenext,label:"Next Annotation",shortcut:["alt+n","alt+.","alt+ArrowRight"],function:{function:"nextItemRange",args:"next"},run:!0});var r="storyboard"==t?e.annotations:this.flatten(e.$children.map((function(t){return t.annotations}))),o=this.flatten(r.filter((function(t){return t&&t.ocr&&t.ocr.length>0}))),s=r.some((function(t){return t&&t.ocr&&t.ocr.length>0&&t.textual_body&&t.textual_body.length>0&&t.ocr!=t.textual_body}));o.length>0&&(i["textoverlay"]={icon:n["textoverlay"],label:"Show OCR text overlay settings box",shortcut:["g","alt+z"],function:{function:"clickButton",args:"textoverlay"}},s&&(i["transcription"]={icon:n.anno,label:"Toggle between transcription/annotation",shortcut:["e","`"],function:{function:"toggletranscription",args:""}})),e.settings.perpage&&(i["perpage"]={icon:n.perpage,label:"Switch the number of pages shown",shortcut:["y"],function:{function:"clickButton",args:"perpage"}}),0==r.length&&(delete i["prev"],delete i["next"],delete i["overlay"],delete i["autorun"]),e.settings.perpage?e.settings.perpage>1&&delete i["autorun"]:e.settings.continousboard&&delete i["autorun"];var a=e.basecompontent&&e.basecompontent.range?e.basecompontent:e;a=a.$parent&&"storyboard2"==a.$parent.$options.name?a.$parent:a;var l=a.isurl;0==l&&delete i["reload"];for(var c=Object.keys(e.settings).filter((function(t){return t.indexOf("hide_")>-1})),u=0;u<c.length;u++)if(e.settings[c[u]]){var h=c[u],p=h.split("_").slice(-1)[0].split("button")[0];delete i[p],"next"==p&&delete i["prev"]}return i},getId:function(t){return t["id"]?t["id"]:t["@id"]?t["@id"]:t}},ha=function(){var t=this,e=t._self._c;return e("div",[t.$parent.textoverlay?e("button",{staticClass:"imageViewButton",on:{click:function(e){return t.displayTextOverlay()}}},[e("span",{domProps:{innerHTML:t._s(t.textoverlaybutton)}})]):t._e(),t._l(t.annotation_items,(function(n,i){return e("div",{key:n.id,staticClass:"annotation_container",class:[n.content?n.content.itemclass:""],attrs:{id:n.id}},[t._l(n.image,(function(n,i){return e("span",{key:i},[e("span",{staticClass:"annoimage",domProps:{innerHTML:t._s(n)}})])})),!n.fullImage||t.settings.image_only||t.settings.hide_viewlarger?t._e():e("img",{staticStyle:{display:"none"},style:[void 0!==t.settings.imagesettings?t.settings.imagesettings:""],attrs:{src:n.fullImage,id:"fullimage",alt:t.manifest["label"]},on:{error:t.fullImageBackup}}),!n.before||t.settings.image_only||t.settings.hide_beforeafter?t._e():e("div",{staticClass:"beforecontent",domProps:{innerHTML:t._s(n.before)}}),n.rendered_content&&""!==n.rendered_content&&!0!==t.settings.image_only?e("div",{attrs:{id:"content"},domProps:{innerHTML:t._s(n.rendered_content)}}):t._e(),!n.after||t.settings.image_only||t.settings.hide_beforeafter?t._e():e("div",{staticClass:"aftercontent",domProps:{innerHTML:t._s(n.after)}}),n["content"]&&n["content"]["geometry"]&&!t.settings.image_only&&!t.settings.text_only?e("leaflet",{attrs:{position:i,annotation:n["content"],parent:t.$parent}}):t._e(),!t.settings.hide_tags&&n.tags?e("div",{attrs:{id:"tags"}},t._l(n.tags,(function(n){return e("div",{key:n.key,staticClass:"tags"},[e("div",{staticClass:"countkey"},[t._v(" "+t._s(n.label)+" "),e("span",{staticClass:"tagscount",style:[n.color?{background:n.color}:{}]},[!t.settings.hide_tagcount&&t.annotation_items.length>1&&n.count?e("span",[t._v(t._s(n.count))]):t._e()])])])})),0):t._e(),n.fullImage&&""!==n.fullImage&&!1!==!t.settings.hide_viewlarger?e("button",{staticClass:"togglebutton",on:{click:function(e){return t.toggle(e)}}},[t._v("View Full Image")]):t._e(),t.settings.hide_fullobject||!t.full_object||""===t.full_object||t.settings.image_only||t.settings.text_only?t._e():e("div",{attrs:{id:"link_to_object"}},[t._v(" Full object: "),e("a",{attrs:{href:t.full_object,target:"_blank"}},[t._v(t._s(t.manifest["label"]))])])],2)}))],2)},pa=[],fa=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"180px"},attrs:{id:this.mapid}})},da=[],ga={name:"leaflet",data:function(){return{mapid:"",jsonLayer:"",watcher:"",leafletloaded:!1}},props:["position","annotation","parent"],watch:{"parent.basecompontent.leaflet":function(t){this.leafletloaded=t},"parent.leaflet":function(t){this.leafletloaded=t},leafletloaded:function(t){var e=this;1==t&&this.$nextTick((function(){e.addGeometry()}))}},mounted:function(){var t=this.parent.seadragonid?this.parent.seadragonid:this.parent.annotationid;this.mapid=t+"-map-"+this.position,this.leafletloaded=this.parent.basecompontent?this.parent.basecompontent.leaflet:this.parent.leaflet,1!=this.leafletloaded&&this.addLeafletLibrary()},methods:{addLeafletLibrary:function(){var t=this,e=document.getElementsByTagName("head")[0],n="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js",i=Array.from(e.children).some((function(t){return t.src&&t.src.indexOf(n)>-1}));if(i)setTimeout((function(){t.parent.basecompontent?t.parent.basecompontent.leaflet=!0:t.parent.leaflet=!0}),1e3);else{var r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css",e.append(r);var o=document.createElement("script");o.type="text/javascript",o.src=n,o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,t.parent.basecompontent?t.parent.basecompontent.leaflet=!0:t.parent.leaflet=!0)}:o.onload=function(){t.parent.basecompontent?t.parent.basecompontent.leaflet=!0:t.parent.leaflet=!0},e.appendChild(o)}},retryAdd:function(){var t=this;setTimeout((function(){t.addGeometry()}),10)},addGeometry:function(){var t=this.parent.settings.maplayer&&this.parent.settings.mapattribution?{layer:this.parent.settings.maplayer,attribution:this.parent.settings.mapattribution}:"",e=document.getElementById(this.mapid);if(e&&0==e.classList.length){var n={type:"Feature",geometry:this.annotation["geometry"]},i=L.map(this.mapid),r=t?t["layer"]:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",o=t?t["attribution"]:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors';L.tileLayer(r,{attribution:o}).addTo(i);var s=L.geoJSON(n);this.jsonLayer=s,i.addLayer(s);var a=s.getBounds();i.fitBounds(a);var l=i.getZoom();0==l&&(this.watcher=this.$watch("parent.position",(function(t){if(this.position==t){var e=this;setTimeout((function(){s.fire("click"),e.watcher()}),10)}}))),s.on("click",(function(){i.fitBounds(s.getBounds())}));var c=new ResizeObserver((function(){i.invalidateSize()}));c.observe(e)}else e||this.retryAdd()}}},va=ga;function ma(t,e,n,i,r,o,s,a){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}var ya=ma(va,fa,da,!1,null,null,null),ba=ya.exports,wa={name:"defaultimageview",props:{compdata:{type:Object,required:!1}},components:{leaflet:ba},data:function(){return{anno:"",manifest:"",settings:{},manifestlink:"",annotation_items:[],languages:[],fielddata:[],annotationid:"",full_object:"",textoverlayicon:'<i class="fas fa-align-justify"></i>',textoverlayofficon:'\n      <span class="fa-stack">\n        <i class="fas fa-align-justify fa-stack-1x"></i>\n        <i class="fas fa-slash fa-stack-1x" style="color:Tomato"></i>\n      </span>',textoverlaybutton:""}},created:function(){for(var t in this.textoverlaybutton=this.textoverlayofficon,this.compdata)this[t]=this.compdata[t];this.getFullObject()},methods:{toggle:function(t){var e=t.target.parentElement,n=e.querySelector("#fullimage"),i=void 0!==t.srcElement?t.srcElement:t.target;"none"===n.style.display?(n.style.display="inline-block",i.innerHTML="Hide Full Image"):(n.style.display="none",i.innerHTML="View Full Image")},displayTextOverlay:function(){for(var t=document.getElementsByClassName("textOverlayText"),e=0;e<t.length;e++)"none"==t[e].style.display?(t[e].style.display="",this.textoverlaybutton=this.textoverlayofficon):(t[e].style.display="none",this.textoverlaybutton=this.textoverlayicon)},fullImageBackup:function(t){var e=t.target.src;e=e.indexOf("full/full")>-1?e.replace("full/full","full/max"):e.replace("full/max","full/full"),t.target.src=e},getFullObject:function(){var t=this.compdata["manifest"],e=Object.keys(t);e.indexOf("related")>-1?"string"===typeof t.related?this.full_object=t.related:this.full_object=t.related["@id"]:this.full_object=e.indexOf("seeAlso")>-1?t.seeAlso["@id"]:""}}},_a=wa,xa=ma(_a,ha,pa,!1,null,null,null),Sa=xa.exports,Ta=function(){var t=this,e=t._self._c;return e("div",[e("table",[e("tr",[t.settings.image_only||!t.has_sections||t.settings.text_only?t._e():e("th",[t._v("Image Section")]),!t.has_before||t.settings.image_only||t.settings.hide_beforeafter?t._e():e("th",[t._v("Before content")]),t.settings.image_only||t.settings.text_only?t._e():e("th",[t._v("Annotation Content")]),!t.has_after||t.settings.image_only||t.settings.hide_beforeafter?t._e():e("th",[t._v("After content")]),!t.settings.hide_tags&&t.has_tags?e("th",[t._v("Tags")]):t._e(),t.settings.image_only||t.settings.text_only||t.settings.hide_viewlarger?t._e():e("th",[t._v("Full Image")]),t.settings.hide_fullobject||!t.full_object||""===t.full_object||t.settings.image_only||t.settings.text_only?t._e():e("th",[t._v("Full Object")])]),t._l(t.annotation_items,(function(n){return e("tr",{key:n.id,staticClass:"annotation_container",class:[n.content?n.content.itemclass:""],attrs:{id:n.id}},[t.has_sections?e("td",t._l(n.image,(function(n){return e("span",{key:n},[e("span",{staticClass:"annoimage",domProps:{innerHTML:t._s(n)}})])})),0):t._e(),!n.before||t.settings.image_only||t.settings.hide_beforeafter?t._e():e("td",{staticClass:"beforecontent",domProps:{innerHTML:t._s(n.before)}}),n.rendered_content&&""!==n.rendered_content&&!0!==t.settings.image_only?e("td",{attrs:{id:"content"},domProps:{innerHTML:t._s(n.rendered_content)}}):t._e(),!n.after||t.settings.image_only||t.settings.hide_beforeafter?t._e():e("td",{staticClass:"aftercontent",domProps:{innerHTML:t._s(n.after)}}),!t.settings.hide_tags&&n.tags?e("td",{attrs:{id:"tags"}},[e("div",{staticClass:"table_tags"},[t._v(" "+t._s(n.tags.map((function(t){return t.label})).join(", "))+" ")])]):t._e(),!n.fullImage||t.settings.image_only||t.settings.hide_viewlarger?t._e():e("td",[e("img",{style:[void 0!==t.settings.imagesettings?t.settings.imagesettings:""],attrs:{src:n.fullImage,id:"fullimage",alt:t.manifest["label"]},on:{error:t.fullImageBackup}})]),t.settings.hide_fullobject||!t.full_object||""===t.full_object||t.settings.image_only||t.settings.text_only?t._e():e("td",{attrs:{id:"link_to_object"}},[e("a",{attrs:{href:t.full_object,target:"_blank"}},[t._v(t._s(t.manifest["label"]))])])])}))],2)])},Ca=[],Ea={name:"tableview",props:{compdata:{type:Object,required:!1}},data:function(){return{anno:"",manifest:"",settings:{},manifestlink:"",annotation_items:[],rendered:"",languages:[],fielddata:[],annotationid:"",full_object:"",has_tags:"",has_sections:"",has_before:"",has_after:""}},created:function(){for(var t in this.compdata)this[t]=this.compdata[t];for(var e={tags:"has_tags",image:"has_sections",before:"has_before",after:"has_after"},n=0;n<this.annotation_items.length;n++){var i=this.annotation_items[n];for(var r in e)i[r]&&i[r].length>0&&(this[e[r]]=!0)}this.getFullObject()},methods:{fullImageBackup:function(t){var e=t.target.src;e=e.indexOf("full/full")>-1?e.replace("full/full","full/max"):e.replace("full/max","full/full"),t.target.src=e},getFullObject:function(){var t=this.compdata["manifest"],e=Object.keys(t);e.indexOf("related")>-1?"string"===typeof t.related?this.full_object=t.related:this.full_object=t.related["@id"]:this.full_object=e.indexOf("seeAlso")>-1?t.seeAlso["@id"]:""}}},ka=Ea,Oa=ma(ka,Ta,Ca,!1,null,null,null),Aa=Oa.exports;function Pa(t){return La(t)||ja(t)||Ia(t)||Ra()}function Ra(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ia(t,e){if(t){if("string"===typeof t)return Ba(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ba(t,e):void 0}}function ja(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function La(t){if(Array.isArray(t))return Ba(t)}function Ba(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Fa={name:"iiifannotation",components:{defaultimageview:Sa,tableview:Aa},props:{annotationurl:{type:String,required:!1},annotationlist:{type:String,required:!1},manifesturl:{type:String,required:!1},styling:{type:String,required:!1}},data:function(){return{anno:"",manifest:"",settings:{},manifestlink:"",annotation_items:[],rendered:"",languages:[],annotationid:"",textoverlay:"",leaflet:!1,version:2}},created:function(){var t=this;if(this.settings=ua.getsettings(this),this.settings.height){var e=this.settings.width?this.settings.width+"px":"auto";this.settings.imagesettings={height:this.settings.height+"px",width:e}}else this.settings.width&&(this.settings.imagesettings={width:this.settings.width+"px"});this.annotationurl=this.annotationurl?this.annotationurl:this.annotationlist;var n=ua.isURL(this.annotationurl,this.settings);this.annotationid=n["id"],n["isURL"]?ta().get(this.annotationurl).then((function(e){t.parseAnnoManifest(e.data)})).catch((function(e){t.rendered=!1,console.log(e)})):this.parseAnnoManifest(n["json"])},methods:{parseAnnoManifest:function(t){this.anno=ua.getAnnotations(t),t.hits&&this.anno.map((function(e){return e["hits"]=t.hits.filter((function(t){return t.annotations.indexOf(e["@id"])>-1}))[0]})),this.manifestlink=ua.manifestlink(this.manifesturl,this.anno[0],t),0==this.anno.length&&(this.rendered="emptylist"),this.manifestlink&&!this.settings.text_only?this.getManifestData():this.annoloop(!1)},getManifestData:function(){var t=this;ta().get(this.manifestlink).then((function(e){t.manifest=e.data,t.version=ua.getVersion(t.manifest),t.annoloop(!0)})).catch((function(e){t.rendered=!1,console.log(e)}))},changeLang:function(t){for(var e=t.target?t.target.value:t,n=0;n<this.annotation_items.length;n++)this.annotation_items[n]["rendered_content"]=ua.createContent(this.annotation_items[n]["content"],e,!0)["anno"]},annoloop:function(t){for(var e=0;e<this.anno.length;e++){var n,i=this.getImageData(e),r=ua.getCanvasId(this.anno[e]),o=this.settings.width?this.settings.width:this.manifestlink.indexOf("iiif/2.0")>-1&&!this.settings.height?"1200":"",s=this.settings.height?this.settings.height:"";if(n=""+o+s!=""?o+","+s:"full",t){var a=this.getManifestCanvas(r,this.anno[e],i,n);i["image"]=i["image"].concat(a["image"]),i["fullImage"]=a["fullImage"]}else if(!this.settings.text_only)for(var l=0;l<r.length;l++){var c=r[l],u=ua.canvasRegion(c,void 0),h=ua.getImages(u["canvasId"],u["canvasRegion"],n,this.version),p=h["imageurl"];i["fullImage"]=h["fullImage"];var f=this.createimagehtml(p,u,i,l);i["image"].push(f)}0!=i["image"].length||this.settings.text_only?this.rendered=!0:this.rendered=!1,this.annotation_items.push(i)}if(!this.settings.image_only&&!this.settings.hide_tags){var d,g=ua.flatten(this.annotation_items.map((function(t){return Object.values(t["tags"])}))),v=this;if(g.length>0)(function(){var t=ua.getTagDict(g,v.settings,"");for(d=0;d<v.annotation_items.length;d++)v.annotation_items[d].tags&&(v.annotation_items[d].tags.map((function(e){return t[ua.tagsToClass(e)]})),v.annotation_items[d]["tags"]=v.annotation_items[d].tags.map((function(e){return t[ua.tagsToClass(e)]})))})()}},createimagehtml:function(t,e,n,i){var r,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];o=o||t.indexOf("img/derivatives")>-1;var s=ua.getExtension(e["canvasId"]),a=e["svg"],l=e["canvasRegion"].split(",").map((function(t){return parseFloat(t.trim())}));if(n&&n["content"]&&n["content"]["ocr"]&&n["content"]["ocr"].length>0&&(this.textoverlay=ua.textOverlayHTML(l,n["content"]["ocr"],a)),o&&(t=n["fullImage"].split("/full/")[0]+"/full/full/0/default.jpg"),!a&&!this.textoverlay||o||ua.imageextensions.includes(s)?(r=document.createElement("img"),r.setAttribute("src",t),r.setAttribute("alt",n["altText"])):r=this.createSVG(t,e,n,a,i),ua.imageextensions.includes(s)||o){var c=document.createElement("canvas");c.id=n["id"]+"_canvas_img"+i,c.onload=this.writecanvas(r,e["canvasRegion"],c.id,a),r=c}for(var u in this.settings.imagesettings)r.style[u]=this.settings.imagesettings[u];return r.outerHTML},createSVG:function(t,e,n,i,r){var o=n["id"]+"-"+r,s="",a=e["canvasRegion"].split(","),l=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var c in l.setAttribute("viewBox",a.join(" ")),l.setAttribute("aria-label",n["altText"]),this.settings.imagesettings)l.style[c]=this.settings.imagesettings[c];var u='<image href="'+t+'" width="100%" height="100%" x="'+a[0]+'" y="'+a[1]+'"/>';i&&(u='<defs><pattern patternUnits="objectBoundingBox" id="'+o+'"  width="100%" height="100%">\n      <image xlink:href="'+t+'" width="100%" height="100%" x="0" y="0" />\n      </pattern></defs>',i.setAttribute("fill","url(#"+o+")"),i.setAttribute("fill-opacity","1"),i.setAttribute("stroke","none"),s=i.outerHTML),l.innerHTML=u+s+this.textoverlay;var h=l.getElementsByTagName("image");if(h.length>0)for(var p=this,f=0;f<h.length;f++)h[f].onerror=function(){var i,o=p.annotation_items.map((function(t){return t["id"]})).indexOf(n["id"]),s=p.annotation_items[o]["image"];i=s[r].indexOf("full")?s[r].replace("full","max"):p.createimagehtml(t,e,n,r,!0),s[r]=i,p.annotation_items[o]["image"]=[],p.annotation_items[o]["image"]=s};return l},writecanvas:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];setTimeout((function(){e=e.split(",");var r=document.getElementById(n),o=r.getContext("2d");r.width=e[2],r.height=e[3];var s=new Image;s.src=t.src,s.onload=function(){i="polygon"==i.tagName?ua.polyToPath(i):i;var n=["ellipse","path","circle"];if(i&&n.indexOf(i.tagName)>-1){if(o.translate(-e[0],-e[1]),"path"!=i.tagName)o.beginPath(),"circle"==i.tagName?o.arc(i.getAttribute("cx"),i.getAttribute("cy"),i.getAttribute("r"),0,2*Math.PI):o.ellipse(i.getAttribute("cx"),i.getAttribute("cy"),i.getAttribute("rx"),i.getAttribute("ry"),0,0,2*Math.PI),o.clip();else{var r=new Path2D(i.getAttribute("d"));o.clip(r,"nonzero")}o.drawImage(t,0,0)}else o.drawImage(t,-e[0],-e[1])}}),1)},getManifestCanvas:function(t,e,n,i){for(var r,o=[],s=0;s<t.length;s++){var a=t[s],l=ua.on_structure(e);l=l?l[s]:l;var c,u=ua.canvasRegion(a,l),h=ua.matchCanvas(this.manifest,u["canvasId"],"","",this.currentlang)["images"],p=u["canvasRegion"];if(h){var f=ua.getCanvasTile(h[0]);c=f["canvas_tile"];var d=f["img_resource"]}else c=a.split("#")[0];var g=d&&d["@id"]&&ua.getId(d).includes("/full")?ua.getId(d):"",v=g?g.split("/").slice(-1)[0]:"default.jpg";i="full"!=i?i:g?g.split("/").slice(-3)[0]:"full";var m=ua.getImages(c,p,i,this.version,v);r=m["fullImage"];var y=m["imageurl"];n["fullImage"]=r;var b=this.createimagehtml(y,u,n,s);o.push(b)}return{fullImage:r,image:o}},getBeforeAfterText:function(t,e){var n=ua.stripHTML(t["rendered_content"]),i=e.hits.match.indexOf(n),r=e.hits.match.substring(0,i).trim(),o=e.hits.match.substring(i+n.length).trim();return r=e.hits.before.trim()+" "+r,o+=e.hits.after.trim(),{after:o,before:r}},getImageData:function(t){var e=this.anno[t],n={image:[]},i=ua.chars(e,this.currentlang);if(!0!==this.settings.image_only){this.languages=i["languages"]?[].concat(Pa(new Set(this.languages.concat(i["languages"])))):this.languages;var r=i["textual_body"].map((function(t){return t.language})),o=r.filter((function(t){return navigator.language.indexOf(t)>-1}));if(this.currentlang=o.length>0?o[0]:this.currentlang?this.currentlang:i["textual_body"][0]&&i["textual_body"][0]["language"],n["rendered_content"]=ua.createContent(i,this.currentlang,!0)["anno"],n["content"]=i,n["id"]=this.annotationid+t,n["altText"]=i["ocr"].length>0?i["ocr"][0]:void 0!==i["label"]?i["label"]:'Image section of "'+this.manifest["label"]+'"',n["altText"]=n["altText"].replace(/(\r\n|\n|\r)/gm," "),n["tags"]=i["tags"].length>0?i["tags"]:"",i["styles"]&&(this.settings.tagscolor=this.settings.tagscolor?Object.assign(i["styles"],this.settings.tagscolor):i["styles"]),e.hits&&e.hits.match&&!this.settings.hide_beforeafter)var s=this.getBeforeAfterText(n,e);n["before"]=s&&s["before"]?s["before"]:"",n["after"]=s&&s["after"]?s["after"]:""}else n["altText"]='Image section of "'+this.manifest["label"]+'"',n["id"]=this.annotationid+t,n["content"]=i,this.settings.hide_viewlarger=!0;return n}}},Da=Fa,Na=ma(Da,Js,Ys,!1,null,null,null),Ma=Na.exports,$a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"annonaview",class:[t.settings.fullpage||t.fullscreen?"fullpage":"storyboard_viewer"],attrs:{id:"storyboard_viewer"}},[e("div",{class:[t.settings.annoview&&0!=t.shown?"sidebyside"==t.settings.annoview||"scrollview"==t.settings.annoview?"sidebyside":"collapse":"defaultview"],staticStyle:{position:"relative"}},[e("div",{key:t.compkey,class:[t.settings.fullpage||t.fullscreen?"seadragonboxfull":"seadragonbox",t.settings.toolbarposition&&!t.$parent.multi?t.settings.toolbarposition+"_menu_container":"default_menu_container"],staticStyle:{position:"relative"},attrs:{id:t.seadragonid}},[t.$parent.multi?t._e():e("toolbar"),t.rendered?e("div",{staticStyle:{position:"relative",top:"50%","text-align":"center"},domProps:{innerHTML:t._s(t.rendered)}}):t._e(),"sidebyside"!=t.settings.annoview&&"scrollview"!=t.settings.annoview?e("annotationbox"):t._e()],1),"sidebyside"==t.settings.annoview||"scrollview"==t.settings.annoview?e("annotationbox"):t._e()],1)])},Ha=[],za=__webpack_require__(2905),qa=__webpack_require__.n(za),Ua={stripTags:!1,ellipsis:"...",decodeEntities:!1,byWords:!1,excludes:"",reserveLastWord:!1,trimTheOnlyWord:!1,keepWhitespaces:!1},Va=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]?|[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g,Wa={setup:function(t,e){switch(typeof t){case"object":e=t;break;case"number":"object"===typeof e?e.length=t:e={length:t}}var n=this.extend(e,Ua);n.excludes&&(Array.isArray(n.excludes)||(n.excludes=[n.excludes]),n.excludes=n.excludes.join(",")),this.options=n,this.limit=n.length,this.ellipsis=n.ellipsis,this.keepWhitespaces=n.keepWhitespaces,this.reserveLastWord=n.reserveLastWord,this.trimTheOnlyWord=n.trimTheOnlyWord},extend:function(t,e){for(var n in null==t&&(t={}),e){var i=e[n];null==t[n]&&(t[n]=i)}return t},isBlank:function(t){return" "===t||"\f"===t||"\n"===t||"\r"===t||"\t"===t||"\v"===t||""===t||"\u2028"===t||"\u2029"===t},truncate:function(t,e){this.keepWhitespaces||(t=t.replace(/\s+/g," "));var n,i=this.options.byWords,r=t.match(Va),o=null===r?[]:r,s=null===r?0:o.length,a=0,l=0,c=i,u=!1;while(a<s)if(u=this.isBlank(o[a++]),!i||c!==u){if(l===this.limit){if(c&&u){c=u;continue}--a;break}i?u||++l:u&&c||++l,c=u}return this.limit-=l,this.limit?t:(n=i?t.substr(0,a):this.substr(o,a),n===t?e?t:t+this.ellipsis:n+this.ellipsis)},substr:function(t,e){var n=t.slice(0,e).join("");if(!this.reserveLastWord||t.length===e)return n;var i=t.slice(e-1,e+1).join("");if(/\W/.test(i))return n;if(this.reserveLastWord<0){var r=n.replace(/\w+$/,"");if(0!==r.length||n.length!==this.options.length)return r;if(this.trimTheOnlyWord)return n}var o=!0!==this.reserveLastWord&&this.reserveLastWord>0?this.reserveLastWord:10,s=t.slice(e).join("").match(/(\w+)/),a=s?s[1]:"";return n+a.substr(0,o)}};function Ga(t){return t&&t.contains&&t.html&&t.parseHTML&&!0}var Za=function(t,e,n){if(Wa.setup(e,n),!t||isNaN(Wa.limit)||Wa.limit<=0||Wa.limit===1/0)return t;var i;i=Ga(t)?t:qa().load(""+t,{decodeEntities:Wa.options.decodeEntities});var r=i.root();if(Wa.options.excludes&&r.find(Wa.options.excludes).remove(),Wa.options.stripTags)return Wa.truncate(r.text());var o=function(t,e){void 0===e&&(e=!0);var n=t.contents(),r=n.length-1;return n.each((function(t){switch(this.type){case"text":if(!Wa.limit)return void i(this).remove();this.data=Wa.truncate(i(this).text(),e&&t===r);break;case"tag":if(Wa.limit)return o(i(this),e&&t===r);i(this).remove();break;default:return i(this).remove()}}))};return o(r),r.html()};Za.setup=function(t){return void 0===t&&(t={}),Object.assign(Ua,t)};var Xa=Za,Ka=__webpack_require__(9203),Ja=__webpack_require__.n(Ka),Ya=__webpack_require__(8651),Qa=__webpack_require__.n(Ya),tl=__webpack_require__(6809),el=__webpack_require__.n(tl),nl=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.shown&&t.show,expression:"$parent.shown && show"}],staticClass:"annotation",class:[t.$parent.booleanitems.isexcerpt?"excerpt":"fullcontent",t.$parent.textposition,t.$parent.settings.toolbarposition?t.$parent.settings.toolbarposition+"_menu_annotation":"",t.$parent.settings.hide_toolbar?"no_toolbar_annotation":""],attrs:{id:t.$parent.seadragonid+"_annotation",tabindex:"0"}},[t.$parent.settings.hide_annocontrols||!0===t.$parent.settings.hide_annocontrols?t._e():e("boxtoolbar",{attrs:{parent:t.$parent}}),"layers"==t.$parent.shown?e("div",{staticClass:"content",attrs:{id:"layers"}},t._l(t.$parent.layerslist,(function(n){return e("div",{key:n.tile},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.checked,expression:"layer.checked"}],staticClass:"tagscheck",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(n.checked)?t._i(n.checked,null)>-1:n.checked},on:{click:function(e){return t.$parent.sendMessage({function:"setOpacity",args:n})},change:function(e){var i=n.checked,r=e.target,o=!!r.checked;if(Array.isArray(i)){var s=null,a=t._i(i,s);r.checked?a<0&&t.$set(n,"checked",i.concat([s])):a>-1&&t.$set(n,"checked",i.slice(0,a).concat(i.slice(a+1)))}else t.$set(n,"checked",o)}}}),e("span",{domProps:{innerHTML:t._s(t.layerLang(n.label))}}),e("div",{staticClass:"slidecontainer"},[t._v("Opacity: "),e("input",{staticClass:"slider",attrs:{type:"range",min:"0",max:"100"},domProps:{value:100*n.opacity},on:{change:function(e){return t.$parent.sendMessage({function:"setOpacity",args:{event:e,layer:n}})}}})])])})),0):t._e(),"textoverlay"==t.$parent.shown?e("textoverlay",{attrs:{parent:t.$parent}}):t._e(),"keyboard"==t.$parent.shown?e("shortcuts",{attrs:{parent:t.$parent}}):t._e(),"tags"==t.$parent.shown?e("tags",{attrs:{parent:t.$parent}}):t._e(),"info"==t.$parent.shown?e("info",{attrs:{parent:t.$parent}}):t._e(),"settings"==t.$parent.shown?e("settings",{attrs:{parent:t.$parent}}):t._e(),"perpage"==t.$parent.shown&&t.show?e("perpage",{attrs:{parent:t.$parent}}):t._e(),"transcription"==t.$parent.shown?e("div",{staticClass:"content",class:t.$parent.currentanno.itemclass,attrs:{id:"transcription"}},[t.$parent.booleanitems.isexcerpt||t.$parent.settings.transcription||t.isscrollview?!t.$parent.booleanitems.isexcerpt&&t.$parent.settings.transcription||t.isscrollview?t._l(t.transcriptions,(function(n,i){return e("button",{key:i,staticClass:"buttonastext",class:[i==t.$parent.position&&"scrollview"!=t.$parent.settings.annoview?"activeword":"","scrollview"==t.$parent.settings.annoview?"scrolltext":"ocrlink"],on:{click:function(e){return t.$parent.sendMessage({function:"next",args:i})}}},[n?e("div",{ref:i,refInFor:!0,staticClass:"ocrtranscription",attrs:{id:"line"+i},domProps:{innerHTML:t._s(n)}}):t._e()])})):t.$parent.booleanitems.isexcerpt?e("span",{domProps:{innerHTML:t._s(t.$parent.$options.filters.truncate(t.$parent.annoContent["transcription"],t.$parent.settings.truncate_length))}}):t._e():e("span",{domProps:{innerHTML:t._s(t.$parent.annoContent["transcription"])}})],2):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:"anno"==t.$parent.shown,expression:"$parent.shown == 'anno'"}],staticClass:"content",class:t.$parent.currentanno.itemclass,attrs:{id:"annotation_text"}},[t.$parent.booleanitems.isexcerpt||t.isscrollview?t.isscrollview?!t.$parent.booleanitems.isexcerpt||t.isscrollview?t._l(t.scrollitems,(function(n,i){return e("button",{key:i,staticClass:"buttonastext scrolltext",on:{click:function(e){return t.$parent.sendMessage({function:"next",args:i})}}},[n?e("div",{ref:i,refInFor:!0,staticClass:"scrollitem",attrs:{id:"line"+i},domProps:{innerHTML:t._s(n)}}):t._e()])})):t._e():e("span",{domProps:{innerHTML:t._s(t.$parent.$options.filters.truncate(t.$parent.annoContent["anno"],t.$parent.settings.truncate_length))}}):e("span",{domProps:{innerHTML:t._s(t.$parent.annoContent["anno"])}}),t.$parent.leaflet?e("div",t._l(t.$parent.annotations,(function(n,i){return e("div",{key:i},[n.geometry?e("leaflet",{directives:[{name:"show",rawName:"v-show",value:t.$parent.position==i&&!t.$parent.booleanitems.isexcerpt,expression:"$parent.position == index && !$parent.booleanitems.isexcerpt"}],key:i,attrs:{parent:t.$parent,position:i,annotation:n}}):t._e()],1)})),0):t._e()],2),t._l(t.updated,(function(n,i){return e("span",{key:i,attrs:{id:i}},[t.$parent.settings[i]&&n?e("span",{domProps:{innerHTML:t._s(t.customCSS(i))}}):t._e()])})),t.$parent.shortcuts["textoverlay"]?e("span",{domProps:{innerHTML:t._s(t.customStyle)}}):t._e()],2)},il=[],rl=function(){var t=this,e=t._self._c;return e("span",{attrs:{id:"annotation_controls"}},[t._l(t.filterButtons,(function(n){return e("button",{key:n,staticClass:"annocontrols_button",class:{inactive:"next"==n&&t.sendparent.next_inactive||"prev"==n&&t.sendparent.prev_inactive},attrs:{"aria-label":t.parent.shortcuts[n]["label"],id:n+"_button"},on:{click:function(e){return t.sendparent.sendMessage(t.parent.shortcuts[n]["function"])}}},[t.parent.buttons[n]?e("span",{domProps:{innerHTML:t._s(t.parent.buttons[n])}}):e("span",{domProps:{innerHTML:t._s(t.parent.shortcuts[n]["icon"])}})])})),t.parent.hastranscription&&t.parent.shortcuts["transcription"]?e("button",{staticClass:"annocontrols_button",attrs:{id:"transcription_button","aria-label":"toggle transcription button"},on:{click:function(e){return t.sendparent.sendMessage(t.parent.shortcuts["transcription"]["function"])}}},[e("span",{domProps:{innerHTML:t._s(t.parent.buttons.anno)}})]):t._e(),t.parent.languages.length>0?e("span",{staticClass:"lang-icon",attrs:{id:"lang_button"}},[e("select",{staticClass:"lang_drop",attrs:{"aria-label":"change language dropdown"},domProps:{innerHTML:t._s(t.parent.languages.join(""))},on:{change:function(e){return t.sendparent.sendMessage({function:"changeLang",args:e})}}})]):t._e(),t.parent.basecompontent&&t.parent.basecompontent.langs&&t.parent.basecompontent.langs.length>1&&"info"==t.parent.shown?e("span",{staticClass:"lang-icon",attrs:{id:"lang_button"}},[e("select",{staticClass:"lang_drop",attrs:{"aria-label":"change language dropdown"},domProps:{innerHTML:t._s(t.parent.basecompontent.langs.join(""))},on:{change:function(e){return t.parent.sendMessage({function:"changeLang",args:e})}}})]):t._e()],2)},ol=[],sl={props:["parent"],name:"boxtoolbar",data:function(){return{toolbarbuttons:["close","hide","playpause","tags","info","prev","next","settings"],sendparent:""}},created:function(){this.sendparent=this.parent.$parent.multi?this.parent.$parent:this.parent},computed:{filterButtons:function(){var t=this;return this.toolbarbuttons.filter((function(e){return t.parent.shortcuts&&t.parent.shortcuts[e]}))}}},al=sl,ll=ma(al,rl,ol,!1,null,null,null),cl=ll.exports,ul=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content",attrs:{id:"textoverlay"}},[e("b",[t._v("Text Overlay")]),e("input",{key:t.parent.booleanitems.istextoverlaytoggled,staticClass:"toggletextoverlay",attrs:{id:t.parent.seadragonid+"toggletextoverly",type:"checkbox"},domProps:{checked:t.parent.booleanitems.istextoverlaytoggled},on:{change:function(e){return t.sendparent.sendMessage({function:"createOverlay",args:"textoverlay"})}}}),e("label",{staticClass:"toggletextoverlaylabel",attrs:{for:t.parent.seadragonid+"toggletextoverly"}},[t._v("Toggle text overlay")]),e("p",[e("label",{attrs:{for:"backgroundcolor"}},[t._v("Background Color: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sendparent.textoverlay.background,expression:"sendparent.textoverlay.background"}],attrs:{type:"color",id:"backgroundcolor"},domProps:{value:t.sendparent.textoverlay.background},on:{input:function(e){e.target.composing||t.$set(t.sendparent.textoverlay,"background",e.target.value)}}})]),e("p",[e("label",{attrs:{for:"fontcolor"}},[t._v("Font Color: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sendparent.textoverlay.fontcolor,expression:"sendparent.textoverlay.fontcolor"}],attrs:{type:"color",id:"fontcolor"},domProps:{value:t.sendparent.textoverlay.fontcolor},on:{input:function(e){e.target.composing||t.$set(t.sendparent.textoverlay,"fontcolor",e.target.value)}}})]),e("p",{staticClass:"slidecontainer"},[e("label",{attrs:{for:"textoverlayopacity"}},[t._v("Opacity:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sendparent.textoverlay.opacity,expression:"sendparent.textoverlay.opacity"}],staticClass:"slider",attrs:{id:"textoverlayopacity",type:"range",min:"0",max:"100"},domProps:{value:t.sendparent.textoverlay.opacity},on:{__r:function(e){return t.$set(t.sendparent.textoverlay,"opacity",e.target.value)}}})])])},hl=[],pl={props:["parent"],name:"textoverlay",data:function(){return{sendparent:""}},created:function(){this.sendparent=this.parent.$parent&&this.parent.$parent.multi?this.parent.$parent:this.parent}},fl=pl,dl=ma(fl,ul,hl,!1,null,null,null),gl=dl.exports,vl=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content",attrs:{id:"shortcuts"}},[e("p",[t._v("There are multiple possible keyboard shortcuts for each button. They are separated by an 'or'. On Macs 'alt' is the 'option' key. ")]),t.parent.booleanitems.isexcerpt?t._e():e("table",[t._m(0),t._l(t.shortcuts,(function(n,i){return e("tr",{key:i,staticClass:"keyboard",attrs:{id:i+"_tags"}},[e("td",[e("span",{staticClass:"shortcuticon",domProps:{innerHTML:t._s(n.icon+" ("+n.label+")")}})]),e("td",t._l(n.shortcut,(function(i,r){return e("span",{key:i},[e("code",[t._v(t._s(i))]),r!=n.shortcut.length-1?e("span",[t._v(" or ")]):t._e()])})),0)])}))],2)])},ml=[function(){var t=this,e=t._self._c;return e("tr",[e("th",[t._v("Icon")]),e("th",[t._v("Keyboard shortcuts")])])}],yl={props:["parent"],name:"shortcuts",data:function(){return{shortcuts:[]}},created:function(){this.shortcuts=this.parent.$parent.multi?this.parent.$parent.shortcuts:this.parent.shortcuts}},bl=yl,wl=ma(bl,vl,ml,!1,null,null,null),_l=wl.exports,xl=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content",attrs:{id:"tags"}},t._l(t.parent.groupTagDict,(function(n,i){return e("div",{key:i,staticClass:"tagslist"},[i?e("div",{staticClass:"taggroup tags",attrs:{id:i+"_tags"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.checked,expression:"groupval.checked"}],staticClass:"tagscheck",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(n.checked)?t._i(n.checked,null)>-1:n.checked},on:{click:function(e){return t.parent.sendMessage({function:"checksubgrouptags",args:i})},change:function(e){var i=n.checked,r=e.target,o=!!r.checked;if(Array.isArray(i)){var s=null,a=t._i(i,s);r.checked?a<0&&t.$set(n,"checked",i.concat([s])):a>-1&&t.$set(n,"checked",i.slice(0,a).concat(i.slice(a+1)))}else t.$set(n,"checked",o)}}}),e("div",{staticClass:"countkey"},[t._v(" "+t._s(i)+" "),e("span",{staticClass:"tagscount",style:"background: "+n.color},[t.parent.settings.hide_tagcount?t._e():e("span",[t._v(" "+t._s(n.count)+" ")])])])]):t._e(),t._l(n.tags,(function(n){return e("div",{key:n.key,staticClass:"tags",class:{subtags:i},attrs:{id:n.key+"_tags"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.checked,expression:"tagdict.checked"}],staticClass:"tagscheck",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(n.checked)?t._i(n.checked,null)>-1:n.checked},on:{click:function(e){return t.parent.sendMessage({function:"hideshowalltags",args:n.key})},change:function(e){var i=n.checked,r=e.target,o=!!r.checked;if(Array.isArray(i)){var s=null,a=t._i(i,s);r.checked?a<0&&t.$set(n,"checked",i.concat([s])):a>-1&&t.$set(n,"checked",i.slice(0,a).concat(i.slice(a+1)))}else t.$set(n,"checked",o)}}}),e("div",{staticClass:"countkey"},[t._v(" "+t._s(n.label)+" "),e("span",{staticClass:"tagscount",style:"background: "+n.color},[t.parent.settings.hide_tagcount?t._e():e("span",[t._v(" "+t._s(n.count)+" ")])])])])}))],2)})),0)},Sl=[],Tl={props:["parent"],name:"tags"},Cl=Tl,El=ma(Cl,xl,Sl,!1,null,null,null),kl=El.exports,Ol=function(){var t=this,e=t._self._c;return e("div",{staticClass:"info content",staticStyle:{height:"auto"},attrs:{id:"information"}},[e("div",{staticClass:"imagetitle"},[e("h1",{domProps:{innerHTML:t._s(t.title)}})]),t.parent.booleanitems.isexcerpt?t._e():e("span",[t.parent.settings.additionalinfo?e("button",{staticClass:"infolink buttonlink",on:{click:function(e){return t.parent.sendMessage({function:"switchShown",args:"additionalinfoshown"})}}},[t._v(t._s(t.parent.settings.additionalinfotitle))]):t._e(),t.parent.booleanitems.additionalinfoshown?e("div",{staticClass:"imageinfo",domProps:{innerHTML:t._s(t.parent.settings.additionalinfo)}}):t._e(),t.parent.basecompontent.range&&t.parent.basecompontent.collection&&t.parent.basecompontent.collection["manifests"].length>1?e("button",{staticClass:"infolink buttonlink",on:{click:function(e){return t.parent.sendMessage({function:"switchShown",args:"collectioninfoshown"})}}},[t._v(" Collection: "+t._s(t.parent.basecompontent.collection.label)+" ")]):t._e(),t.parent.booleanitems.collectioninfoshown?e("div",{staticClass:"collectioninfo"},[t.parent.basecompontent.collection.metadata?e("div",{domProps:{innerHTML:t._s(t.parent.basecompontent.collection.metadata)}}):t._e(),e("collections",{attrs:{nodes:t.parent.basecompontent.collection["manifests"],parents:t.parent.basecompontent,depth:0}})],1):t._e(),t.parent.basecompontent.range&&t.parent.basecompontent.toc.length>1?e("button",{staticClass:"infolink buttonlink",on:{click:function(e){return t.parent.sendMessage({function:"switchShown",args:"tocshown"})}}},[t._v(t._s(t.parent.basecompontent.toctitle))]):t._e(),t.parent.booleanitems.tocshown?e("div",{staticClass:"tocinfo"},t._l(t.parent.basecompontent.toc,(function(n,i){return e("div",{key:i,attrs:{id:"data_"+n.position}},[e("div",{staticClass:"title"},[e("button",{staticClass:"buttonlink",on:{click:function(e){return t.parent.basecompontent.nextItemRange(n.position)}}},[n.thumbnail?e("img",{staticStyle:{"max-width":"30px"},attrs:{src:n.thumbnail}}):t._e(),t._v(t._s(i+1)+". "+t._s(n.label)+" ")])]),n.description?e("div",{staticClass:"additionaltext",domProps:{innerHTML:t._s(n.description)}}):t._e()])})),0):t._e(),t.annotations.length>0?e("button",{staticClass:"infolink buttonlink annoinfolink",on:{click:function(e){return t.parent.sendMessage({function:"switchShown",args:"annoinfoshown"})}}},[t._v("Annotation information")]):t._e(),t.parent.booleanitems.annoinfoshown?e("div",{staticClass:"annoinfo"},t._l(t.annotations,(function(n,i){return e("span",{key:i+"_"+n.annodata.position},[n.text&&t.annotations.length>1?e("h2",{staticClass:"boardnumber"},[t._v("Board "+t._s(i+1))]):t._e(),e("span",{domProps:{innerHTML:t._s(n.text)}}),i==t.annotations.length-1?e("span",[e("b",[t._v("Number of Annotations:")]),t._v(" "+t._s(n.annodata.length))]):t._e(),e("div",{staticClass:"annotationslist"},t._l(n.annodata,(function(r){return e("div",{key:r.position,attrs:{id:"data_"+i+"_"+r.position}},[e("div",{staticClass:"title"},[e("button",{staticClass:"buttonlink",on:{click:function(t){return n.parent.sendMessage({function:"next",args:r.position})}}},[t._v(t._s(r.title))])]),e("div",{staticClass:"additionaltext",domProps:{innerHTML:t._s(r.additionaltext)}})])})),0)])})),0):t._e(),t.imageinfo.length>0?e("button",{staticClass:"infolink buttonlink imageinfolink",on:{click:function(e){return t.parent.sendMessage({function:"switchShown",args:"imageinfoshown"})}}},[t._v(t._s(t.parent.imageinfo.label))]):t._e(),t._l(t.imageinfo,(function(n,i){return t.parent.booleanitems.imageinfoshown?e("div",{key:i},[t.imageinfo.length>1?e("h2",{staticClass:"boardnumber"},[t._v("Board "+t._s(i+1))]):t._e(),e("div",{staticClass:"imageinfo",domProps:{innerHTML:t._s(n.text)}})]):t._e()}))],2)])},Al=[],Pl=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"tree-menu",class:[{toplevel:0==t.depth},"level-"+t.depth],attrs:{"data-label":t.label}},[e("li",[t.nodedata?e("div",{staticClass:"title",class:[t.active?"activecollection":t.className]},[e("button",{staticClass:"buttonlink",attrs:{id:t.nodedata.id},on:{click:function(e){return t.checkCollapse(t.nodedata)}}},[t.nodedata.thumbnail?e("img",{staticStyle:{"max-width":"30px"},attrs:{src:t.nodedata.thumbnail}}):t._e(),"collection"==t.nodedata.type&&t.showChildren?e("span",[e("i",{staticClass:"fas fa-chevron-up collectionicon"})]):"collection"!=t.nodedata.type||t.showChildren?t._e():e("span",[e("i",{staticClass:"fas fa-chevron-down collectionicon"})]),t._v(t._s(t.nodedata.label)+" "),"collection"!=t.nodedata.type?e("span",[e("i",{staticClass:"fas fa-arrow-right collectionicon"})]):t._e()])]):t._e(),t.nodedata&&t.nodedata.description?e("div",{staticClass:"additionaltext",domProps:{innerHTML:t._s(t.nodedata.description)}}):t._e(),t._l(t.nodesdata,(function(n,i){return e("collections",{directives:[{name:"show",rawName:"v-show",value:t.showChildren||0==t.depth,expression:"showChildren || depth == 0"}],key:t.depth+"-"+i,attrs:{nodes:n.manifests,label:n.label,node:n,thumbnail:n.thumbnail,parents:t.parents,index:i,depth:t.depth+1}})}))],2)])},Rl=[],Il={props:["label","index","nodes","depth","id","node","description","parents","thumbnail"],data:function(){return{showChildren:!1,currentcount:"",selected:!1,nodedata:"",nodesdata:[],caretdirection:this.showChildren?"down":"up",parentDescription:"",parentTitle:"",active:!1}},name:"collections",watch:{"parents.annotationurl":function(){this.updateActive()}},mounted:function(){this.nodedata=this.node?JSON.parse(JSON.stringify(this.node)):"",this.nodesdata=this.nodes?JSON.parse(JSON.stringify(this.nodes)):[],this.updateActive()},computed:{className:function(){var t=void 0!=this.$parent.index?this.$parent.index+1+this.index:this.index,e=t%2?"odd":"even";return e}},methods:{updateActive:function(){if(this.nodedata.id==this.parents.annotationurl["manifest"]){this.active=!0;for(var t=this.$parent,e=this.depth;e>0;e--)t.showChildren=!0,t=t.$parent}},checkCollapse:function(t){t["manifests"]||this.parents.updateCollectionManifest(t,!1,this),this.showChildren=!this.showChildren}}},jl=Il,Ll=ma(jl,Pl,Rl,!1,null,null,null),Bl=Ll.exports,Fl={props:["parent"],components:{collections:Bl},name:"info",data:function(){return{title:[],annotations:[],imageinfo:""}},watch:{"parent.imagetitle":function(){this.buildTitles()}},created:function(){this.buildTitles()},methods:{buildTitles:function(){this.title=[this.parent.imagetitle];var t=this.parent.annoinfo;if(t.text&&(t["parent"]=this.parent,this.annotations=[t]),this.imageinfo=[this.parent.imageinfo],this.parent.$parent.multi){if(this.parent.basecompontent.range){this.title=[this.parent.settings.title];var e=this.parent.basecompontent.position,n=this.parent.basecompontent.position+this.parent.basecompontent.settings.perpage;e!=n&&this.parent.settings.perpage>1&&(this.title=this.title.concat(this.parent.basecompontent.toc.slice(e,n).map((function(t){return t.label}))))}else this.title=[];var i=this.parent.$parent.boardchildren;this.imageinfo=[],this.annotations=[];for(var r=0;r<i.length;r++){if(!this.parent.basecompontent.range){var o=i[r].imagetitle;this.title.push(o)}var s=this.imageinfo.map((function(t){return t.link}));if(-1==s.indexOf(i[r].imageinfo.link)&&this.imageinfo.push(i[r].imageinfo),i[r].annoinfo){var a=i[r].annoinfo;a.text&&(a["parent"]=i[r],this.annotations.push(a))}}this.parent.$parent.isreverse&&(this.imageinfo=this.imageinfo.reverse(),this.annotations=this.annotations.reverse())}this.title=this.title.join("<br>")}}},Dl=Fl,Nl=ma(Dl,Ol,Al,!1,null,null,null),Ml=Nl.exports,$l=function(){var t=this,e=t._self._c;return e("div",[e("label",{attrs:{for:"perpage"}},[t._v("Images per page: ")]),t.arraylist?e("select",{directives:[{name:"model",rawName:"v-model",value:t.perpage,expression:"perpage"}],attrs:{id:"perpage",name:"perpage"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.perpage=e.target.multiple?n:n[0]},function(e){return t.updatePerPage()}]}},t._l(t.arraylist,(function(n){return e("option",{key:n,domProps:{value:n+1}},[t._v(t._s(n+1))])})),0):t._e()])},Hl=[],zl={props:["parent"],name:"perpage",data:function(){return{arraylist:!1,perpage:1}},created:function(){var t=this.parent.basecompontent.rangelist.length,e=this.parent.basecompontent.settings.perpage;t<this.parent.basecompontent.settings.perpage&&(e=t),this.perpage=e,this.arraylist=Array(t).keys()},methods:{updatePerPage:function(){var t=this.parent.basecompontent.position;this.parent.basecompontent.settings.perpage=this.perpage,this.parent.basecompontent.rangelist=[],this.parent.basecompontent.toc=[],this.parent.basecompontent.manifestOrRange(this.parent.basecompontent.rangecontents),this.parent.basecompontent.ready=!1;var e=this;this.parent.basecompontent.position=parseInt(t/this.perpage)*this.perpage,setTimeout((function(){e.parent.basecompontent.ready=!0}),1e3)}}},ql=zl,Ul=ma(ql,$l,Hl,!1,null,null,null),Vl=Ul.exports,Wl=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content",attrs:{id:"settings"}},t._l(t.settingfields,(function(n){return e("div",{key:n,staticClass:"setting"},["boolean"==t.settings[n]["type"]?e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings[n]["value"],expression:"settings[setting]['value']"}],staticClass:"settings",attrs:{type:"checkbox",id:n},domProps:{checked:Array.isArray(t.settings[n]["value"])?t._i(t.settings[n]["value"],null)>-1:t.settings[n]["value"]},on:{change:[function(e){var i=t.settings[n]["value"],r=e.target,o=!!r.checked;if(Array.isArray(i)){var s=null,a=t._i(i,s);r.checked?a<0&&t.$set(t.settings[n],"value",i.concat([s])):a>-1&&t.$set(t.settings[n],"value",i.slice(0,a).concat(i.slice(a+1)))}else t.$set(t.settings[n],"value",o)},function(e){return t.updateSettings(n)}]}}),e("label",{attrs:{for:n}},[t._v(" "+t._s(t.settings[n]["label"]))]),e("i",{staticClass:"fas fa-info-circle settingsinfo",on:{click:function(e){t.settings[n]["descshown"]=!t.settings[n]["descshown"]},mouseover:function(e){t.settings[n]["descshown"]=!0},mouseleave:function(e){t.settings[n]["descshown"]=!1}}},[t.settings[n]["descshown"]?e("span",{staticClass:"settingsabout"},[t._v(t._s(t.settings[n]["description"]))]):t._e()])]):"text"==t.settings[n]["type"]?e("div",[e("label",{attrs:{for:n}},[t._v(t._s(t.settings[n]["label"]))]),e("i",{staticClass:"fas fa-info-circle settingsinfo",on:{click:function(e){t.settings[n]["descshown"]=!t.settings[n]["descshown"]},mouseover:function(e){t.settings[n]["descshown"]=!0},mouseleave:function(e){t.settings[n]["descshown"]=!1}}},[t.settings[n]["descshown"]?e("span",{staticClass:"settingsabout"},[t._v(t._s(t.settings[n]["description"]))]):t._e()]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings[n]["value"],expression:"settings[setting]['value']"}],staticClass:"settings",attrs:{id:n},domProps:{value:t.settings[n]["value"]},on:{change:function(e){return t.updateSettings(n)},input:function(e){e.target.composing||t.$set(t.settings[n],"value",e.target.value)}}})]):"color"==t.settings[n]["type"]?e("div",[e("label",{attrs:{for:n}},[t._v(t._s(t.settings[n]["label"]))]),e("i",{staticClass:"fas fa-info-circle settingsinfo",on:{click:function(e){t.settings[n]["descshown"]=!t.settings[n]["descshown"]},mouseover:function(e){t.settings[n]["descshown"]=!0},mouseleave:function(e){t.settings[n]["descshown"]=!1}}},[t.settings[n]["descshown"]?e("span",{staticClass:"settingsabout"},[t._v(t._s(t.settings[n]["description"]))]):t._e()]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings[n]["value"],expression:"settings[setting]['value']"}],attrs:{type:"color",id:n},domProps:{value:t.settings[n]["value"]},on:{change:function(e){return t.updateSettings(n)},input:function(e){e.target.composing||t.$set(t.settings[n],"value",e.target.value)}}})]):"taglist"==t.settings[n]["type"]&&Object.keys(t.settings[n]["value"]).length>0?e("div",[e("h1",{staticStyle:{"font-size":"1em"}},[t._v("Change color for tags "),e("i",{staticClass:"fas fa-info-circle settingsinfo",on:{click:function(e){t.settings[n]["descshown"]=!t.settings[n]["descshown"]},mouseover:function(e){t.settings[n]["descshown"]=!0},mouseleave:function(e){t.settings[n]["descshown"]=!1}}},[t.settings[n]["descshown"]?e("span",{staticClass:"settingsabout"},[t._v(t._s(t.settings[n]["description"]))]):t._e()])]),t._l(t.settings[n]["value"],(function(i,r){return e("div",{key:r},[e("label",{attrs:{for:r}},[t._v(t._s(r)+": ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings[n]["value"][r],expression:"settings[setting]['value'][key]"}],attrs:{type:"color",id:r},domProps:{value:t.settings[n]["value"][r]},on:{change:function(e){return t.updateSettings(n)},input:function(e){e.target.composing||t.$set(t.settings[n]["value"],r,e.target.value)}}})])}))],2):"choice"==t.settings[n]["type"]?e("div",[e("label",{attrs:{for:n}},[t._v(t._s(t.settings[n]["label"]))]),e("i",{staticClass:"fas fa-info-circle settingsinfo",on:{click:function(e){t.settings[n]["descshown"]=!t.settings[n]["descshown"]},mouseover:function(e){t.settings[n]["descshown"]=!0},mouseleave:function(e){t.settings[n]["descshown"]=!1}}},[t.settings[n]["descshown"]?e("span",{staticClass:"settingsabout"},[t._v(t._s(t.settings[n]["description"]))]):t._e()]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.settings[n]["value"],expression:"settings[setting]['value']"}],staticClass:"settings",attrs:{name:n,id:n},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.settings[n],"value",e.target.multiple?i:i[0])},function(e){return t.updateSettings(n)}]}},t._l(t.settings[n]["choices"],(function(n){return e("option",{key:n["value"]?n["value"]:n,domProps:{value:n["value"]?n["value"]:n}},[t._v(t._s(n["label"]?n["label"]:n)+" ")])})),0)]):t._e()])})),0)},Gl=[],Zl={props:["parent"],name:"settings",data:function(){return{forceupdate:["toolbarposition","fontsize","annoview","textposition","tagscolor"],settings:{overlaynext:{type:"boolean",value:!1,label:"Overlay Next",description:"When overlays are toggled off, the overlay will appear for the current annotation.",descshown:!1},matchclick:{type:"boolean",value:!1,label:"Match Click",description:"When clicking on overlays, on the other boards it will go to the corresponding annotation. By default it goes to the corresponding location on the image, not the corresponding annotation.",descshown:!1},tts:{type:"choice",value:"none",choices:[{label:"Disabled",value:"none"},{label:"Autodetect",value:!0}],label:"Text to Speech",description:"Enabled Text to Speech on the board. You can choose a langague or choose autodetect which will choose the language set in the annotation.",descshown:!1},fit:{type:"choice",value:"vertical",choices:["horizontal","fill","vertical"],label:"Image Fit",description:"When hitting the home button, which edge the image fits to the viewer on. Fill will fill the viewer window.",descshown:!1},panorzoom:{type:"choice",value:"zoom",choices:["pan","zoom"],label:"Pan or Zoom",description:"When navigating to an annotation zoom to constraints of annotation, or use current zoom to pan to annotation.",descshown:!1},fontsize:{type:"text",value:"20",label:"Font size",description:"Font size of text in annotation box (what you are currently interacting with to change settings).",descshown:!1},autorun_interval:{type:"text",value:"3",label:"Autorun Interval",description:"When using the auto run button (magic wand) the time it takes between going to the next annotation.",descshown:!1},overlaycolor:{type:"color",value:"#ADD8E6",label:"Overlay Color",description:"Change the color of the overlays shown when the overlay layer is toggled.",descshown:!1},activecolor:{type:"color",value:"#FFFF00",label:"Active Color",description:"Change the color that highlights the current annotation selected.",descshown:!1},toolbarposition:{type:"choice",value:"top",choices:["top","bottom"],label:"Toolbar position",description:"Position of the toolbar",descshown:!1},textposition:{type:"choice",value:"none",choices:["none","top","bottom","left","right"],label:"Info related to image",description:"Change the position of the annotation box. By default it is in upper right hand corner. This choice will place the annotation to the top, bottom, left, right of the annotated area.",descshown:!1},annoview:{type:"choice",value:"default",choices:["default","sidebyside","collapse","scrollview"],label:"Sidebar View",descshown:!1,description:"Types of sidebar views avaliable outide of the default."},startenddisplay:{type:"choice",value:"none",choices:["none","tags","info","transcription","keyboard","settings"],label:"Start/End display",description:"When annotations are not visible set a default annotation view.",descshown:!1},tagscolor:{value:{},type:"taglist",description:"Your annotations have tags, these tags have a randomly generated color. These colors can be changed with this section.",descshown:!1}},settingfields:[]}},watch:{"parent.currentlang":function(){this.parent.settings.tts&&(this.settings["tts"]["value"]=this.parent.currentlang)}},created:function(){var t=Object.keys(ia.languages()).map((function(t){return JSON.parse('{"value": "'+t+'", "label": "'+ia.getLangLabel(t)+'"}')}));if(this.settings["tts"]["choices"]=this.settings["tts"]["choices"].concat(t),this.parent.languages)for(var e=/<option value="(.*)">(.*)<\/option>/gm,n=0;n<this.parent.languages.length;n++){var i=this.regexmatch(e,this.parent.languages[n].replace(" selected",""));this.settings["tts"]["choices"].push({value:i[1].split('"')[0],label:i[2]})}"multistoryboard"!==this.parent.basecompontent.$options.name&&delete this.settings["matchclick"];var r="multistoryboard"==this.parent.$parent.$options.name?ia.flatten(this.parent.$parent.boardchildren.map((function(t){return t.annotations}))):this.parent.annotations;for(var n in 0==r.length&&(delete this.settings["tts"],delete this.settings["overlaynext"],delete this.settings["autorun_interval"],delete this.settings["overlaycolor"],delete this.settings["activecolor"],delete this.settings["textposition"],delete this.settings["annoview"],delete this.settings["startenddisplay"],delete this.settings["panorzoom"]),this.settings)Object.keys(this.parent.settings).indexOf(n)>-1&&(n.indexOf("color")>-1&&"tagscolor"!=n&&-1==this.parent.settings[n].indexOf("rgb")&&-1==this.parent.settings[n].indexOf("#")&&(this.parent.settings[n]=this.colorToHex(this.parent.settings[n])),this.settings[n]["value"]=this.parent.settings[n]);var o=this.parent.$parent.tagslist?this.parent.$parent.tagslist:this.parent.tagslist;if(o){for(var s in o)this.settings["tagscolor"]["value"][s]=this.colorToHex(o[s]["color"]);Object.keys(o).length>0&&(this.parent.settings["tagscolor"]=this.settings["tagscolor"]["value"])}this.settingfields=Object.keys(this.settings)},methods:{regexmatch:function(t,e){var n=new RegExp(t);return n.exec(e)},colorToHex:function(t){var e=ia.hexDict();return e[t]?e[t]:t},deleteAnnoOverlay:function(t){var e=document.getElementById(t.seadragonid+"_annotation");t.viewer.removeOverlay(t.seadragonid+"_annotation"),t.textposition="corner",document.getElementById(""+t.seadragonid).appendChild(e),0==t.boardnumber&&(e.style.maxWidth="",e.style.maxHeight="",e.style.display="")},updateSettings:function(t){var e=this.parent.$parent&&"multistoryboard"==this.parent.$parent.$options.name?this.parent.$parent:this.parent,n=!1;"none"==this.settings[t]["value"]||"default"==this.settings[t]["value"]?(delete this.parent.settings[t],"textposition"==t&&(n=!0)):this.parent.settings[t]=this.settings[t]["value"],e.settings=this.parent.settings;var i=!1;if(this.parent.basecompontent)if(this.parent.basecompontent.settings=this.parent.settings,this.parent.$parent.boardchildren){i=this.parent.$parent.boardchildren,n&&this.deleteAnnoOverlay(this.parent.$parent.boardchildren[0]);for(var r=1;r<i.length;r++)this.parent.$parent.boardchildren[r].settings=this.parent.settings,n&&this.deleteAnnoOverlay(this.parent.$parent.boardchildren[r])}else n&&this.deleteAnnoOverlay(this.parent);if("color"==this.settings[t]["type"]||this.forceupdate.indexOf(t)>-1){if(e.$forceUpdate(),i)for(var o=0;o<i.length;o++)i[o].$forceUpdate();Object.keys(this.$parent.updated).indexOf(t)>-1&&(this.$parent.updated[t]=!0,"overlaycolor"==t&&(this.$parent.updated["tagscolor"]=!0,this.parent.settings["activecolor"]=this.settings["activecolor"]["value"],this.$parent.updated["activecolor"]=!0)),this.$parent.$forceUpdate()}window.annonasettings=this.parent.settings}}},Xl=Zl,Kl=ma(Xl,Wl,Gl,!1,null,null,null),Jl=Kl.exports,Yl={name:"annotationbox",data:function(){return{transcriptions:[],scrollitems:[],isscrollview:!1,updatedto:"",show:!0,updated:{tagscolor:!1,fontsize:!1,overlaycolor:!1,activecolor:!1}}},components:{leaflet:ba,boxtoolbar:cl,textoverlay:gl,shortcuts:_l,tags:kl,info:Ml,perpage:Vl,settings:Jl},watch:{"$parent.annotations":function(){this.scrollContent(0==this.$parent.annotations.length)},"$parent.currentlang":function(){this.scrollContent(!0)},"$parent.shown":function(t){var e=["perpage","textoverlay","keyboard","info","settings"];this.$parent.$parent&&this.$parent.$parent.multi&&e.indexOf(t)>-1?this.show=this.$parent.$parent.boardchildren[0].seadragonid==this.$parent.seadragonid:this.show=!0},"$parent.position":function(t){var e=this;this.updatedto.toString()!=t.toString()&&this.$refs[t]&&this.$nextTick((function(){var n=e.$refs[t][0],i=n.offsetTop-e.padding/2;e.$el.scrollTo(0,i)}))}},mounted:function(){"scrollview"==this.$parent.settings.annoview&&this.$el.addEventListener("scroll",this.handleScroll),this.scrollContent(0==this.$parent.annotations.length)},created:function(){this.isscrollview="scrollview"==this.$parent.settings.annoview},methods:{scrollContent:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.$parent.settings.transcription||this.isscrollview||this.$parent.leaflet){t&&(this.scrollitems=[],this.transcriptions=[]);for(var e=0;e<this.$parent.annotations.length;e++){var n=this.$parent.createAnnoContent(this.$parent.annotations[e]),i=n["transcription"]?n["transcription"]:n["anno"];this.transcriptions.push(i),this.scrollitems.push(n["anno"])}}},layerLang:function(t){var e=this.$parent.currentlang,n="Object"==t.constructor.name,i=t;return n&&(i=e&&-1!=Object.keys(t).indexOf(e)?t[e]:t[Object.keys(t)[0]]),i=Array.isArray(i)?i.join(" | "):i,i},customCSS:function(t){return'<style type="text/css">'+this["custom"+t]()+"</style>"},customtagkey:function(t,e){return"#"+this.cssID+" #"+t+"_tags .tagscount{\n        background: "+e+"!important;\n      }\n      "},customtagscolor:function(){var t="";for(var e in this.$parent.settings.tagscolor){var n=this.$parent.settings.tagscolor[e];t+=this.customoverlaycolor(e,n),t+=this.customtagkey(e,n)}return t},customactivecolor:function(){return"#"+this.cssID+" .active > svg .svgactive {\n        stroke: "+this.$parent.settings["activecolor"]+"!important;\n      }\n      #"+this.cssID+" .active.rect {\n        outline-color: "+this.$parent.settings["activecolor"]+"!important;\n      }\n      #"+this.cssID+" .active.pin {\n        -webkit-text-stroke: "+this.$parent.settings["activecolor"]+"!important;\n      }\n      #"+this.cssID+" .pin.overlay.active circle, rect {\n        stroke: "+this.$parent.settings["activecolor"]+"!important;\n      }\n      "},customoverlaycolor:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?"#"+this.cssID+" ."+t:"#"+this.cssID+" ",i=e||this.$parent.settings["overlaycolor"];return n+".overlay > svg > * {\n        stroke: "+i+"!important;\n      } "+n+".rect {\n        border-color: "+i+"!important;\n      } "+n+".pin {\n        color: "+i+"!important;\n      }"},customfontsize:function(){var t=this.$parent.settings.fontsize.length>2?"":"px";return"#"+this.cssID+" .content {font-size: "+this.$parent.settings.fontsize+t+"!important}"},handleScroll:function(){if("transcription"==this.$parent.shown||"anno"==this.$parent.shown)for(var t in this.$refs){var e=this.$refs[t][0],n=e.offsetTop-this.padding,i=n+e.offsetHeight+this.padding,r=parseInt(t);n<=this.$el.scrollTop&&this.$el.scrollTop<=i&&this.$parent.position!=r&&(this.$parent.$parent.multi?this.$parent.$parent.sendMessage({function:"next",args:r}):this.$parent.sendMessage({function:"next",args:r}),this.updatedto=r)}}},computed:{padding:function(){return(this.$refs["1"][0].offsetTop-this.$refs["0"][0].offsetTop)/1.1},cssID:function(){return this.$parent.$parent&&this.$parent.$parent.storyboardcontainerid?this.$parent.$parent.storyboardcontainerid:this.$parent.seadragonid},customStyle:function(){return'<style type="text/css">#'+this.cssID+" .textoverlay { fill: "+this.$parent.textoverlay.fontcolor+";\n      background: "+this.$parent.textoverlay.background+";\n      opacity: "+this.$parent.textoverlay.opacity/100+";\n      }\n      #"+this.cssID+" .textoverlaywithpath {\n        background: none;\n      }\n      #"+this.cssID+" .svgBackground { fill: "+this.$parent.textoverlay.background+";\n      opacity: "+this.$parent.textoverlay.opacity/100+";\n      }</style>\n      "}}},Ql=Yl,tc=ma(Ql,nl,il,!1,null,null,null),ec=tc.exports,nc=function(){var t=this,e=t._self._c;return!t.$parent.settings.hide_toolbar&&t.$parent.shortcuts?e("span",{class:t.menuclass,attrs:{id:"header_toolbar"}},t._l(t.filteredButtons,(function(n){return e("button",{key:n,staticClass:"toolbarButton",class:[{inactive:"next"==n&&t.$parent.next_inactive||"prev"==n&&t.$parent.prev_inactive},t.$parent.toolbardisabled?"toolbardisabled":"toolbaractive"],attrs:{id:n+"Button"},on:{click:function(e){return t.$parent.sendMessage(t.$parent.shortcuts[n]["function"])}}},[t.$parent.buttons[n]?e("span",{domProps:{innerHTML:t._s(t.$parent.buttons[n])}}):e("span",{domProps:{innerHTML:t._s(t.$parent.shortcuts[n]["icon"])}}),e("span",{staticClass:"toolbartext"},[t._v(t._s(t.$parent.shortcuts[n].label))])])})),0):t._e()},ic=[],rc={name:"toolbar",props:["parent"],data:function(){return{menuclass:"default_menu",toolbarbuttons:["autorun","reload","info","tags","overlay","textoverlay","layers","zoomin","zoomout","home","prev","next","keyboard","perpage","settings","fullscreen"]}},mounted:function(){this.$parent.$el.addEventListener("keydown",this.keydownListener)},created:function(){var t="_menu";this.$parent.multi&&(t="_multi"+t,this.$parent.settings.toolbarposition||(this.menuclass="top"+t)),this.$parent.settings.toolbarposition&&(this.menuclass=this.$parent.settings.toolbarposition+t)},computed:{filteredButtons:function(){var t=this;return this.toolbarbuttons.filter((function(e){return t.$parent.shortcuts[e]}))}},methods:{keydownListener:function(t){var e=!(!t.target.className||"settings"!=t.target.className);if(e)return 0;var n=t.code.replace("Key","").replace("Digit","").toLowerCase(),i=t.altKey?"alt+":t.shiftKey?"shift+":t.metaKey?"cmd+":"";n=i+n;var r=i+t.key;n=n.replace("period",".").replace("comma",",");var o=Object.values(this.$parent.shortcuts).filter((function(t){return t.shortcut.indexOf(n)>-1||t.shortcut.indexOf(r)>-1}));if(o.length>0){var s=o[0],a=s["function"];s["run"]?this.$parent.$parent&&this.$parent.$parent.range&&this.$parent.$parent[a["function"]](a["args"]):this.$parent.sendMessage(a)}}}},oc=rc,sc=ma(oc,nc,ic,!1,null,null,null),ac=sc.exports;function lc(t){return pc(t)||hc(t)||uc(t)||cc()}function cc(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function uc(t,e){if(t){if("string"===typeof t)return fc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fc(t,e):void 0}}function hc(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function pc(t){if(Array.isArray(t))return fc(t)}function fc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Zi.use(Qa());var dc={name:"storyboard",components:{annotationbox:ec,toolbar:ac},props:{manifesturl:String,annotationurl:String,annotationlist:String,jsonannotation:[Object,Array],styling:String,ws:String,layers:String},data:function(){return{seadragontile:"",position:-1,seadragonid:"",annotations:[],currentanno:"",compkey:0,hastranscription:!1,textposition:"corner",prev_inactive:!0,next_inactive:!1,toolbar_id:"",booleanitems:ua.objectToNewObject(ua.booleanitems),shown:!1,mapmarker:'<i class="fas fa-map-marker-alt map-marker"></i>',anno_elem:"",isautorunning:"",buttons:ua.objectToNewObject(ua.buttons),settings:{},textoverlay:ua.objectToNewObject(ua.textoverlay),currentlang:"",languages:[],fullscreen:!1,tagslist:{},annoinfo:{text:"",annodata:[]},imageinfo:{text:"",label:"Image information"},imagetitle:"",layerslist:[],shortcuts:{},basecompontent:"",rendered:"",leaflet:!1,boardnumber:0,toolbardisabled:!1,manifestinfo:"",isurl:!0}},created:function(){this.basecompontent=this.$parent.$parent&&this.$parent.$parent.range?this.$parent.$parent:this.$parent.range||this.$parent.multi?this.$parent:this,this.basecompontent&&this.basecompontent.range&&(this.$parent.multi?this.buttons.fullscreen=this.$parent.fullscreen?ua.buttons.fullscreenoff:ua.buttons.fullscreen:this.basecompontent.updateFullScreen(this.basecompontent.isfullscreen),this.textoverlay=ua.objectToNewObject(this.basecompontent.textoverlay),this.booleanitems=ua.objectToNewObject(this.basecompontent.booleanitems)),this.settings=ua.getsettings(this,this.$parent.multi);var t=!!document.documentMode;t&&(this.settings.tts=!1),this.imagetitle=this.settings.title?this.settings.title:"","collapse"==this.settings.annoview&&(this.buttons.hide='<i class="fas fa-caret-left"></i>'),this.loadAnnotation()},watch:{booleanitems:{deep:!0,handler:function(){this.basecompontent.range&&(this.basecompontent.booleanitems=ua.objectToNewObject(this.booleanitems))}},fullscreen:function(t){this.buttons.fullscreen=t?ua.buttons.fullscreenoff:ua.buttons.fullscreen},textoverlay:{deep:!0,handler:function(){this.basecompontent.range&&(this.basecompontent.textoverlay=ua.objectToNewObject(this.textoverlay))}},buttons:{deep:!0,handler:function(){this.$parent.multi&&(this.$parent.buttons=this.buttons)}}},mounted:function(){this.newSocket();var t=this.jsonannotation?this.jsonannotation:this.annotationurl?this.annotationurl:this.annotationlist,e=this.annotationurl?this.annotationurl:this.annotationlist?this.annotationlist:n["isURL"],n=ua.isURL(t,"");this.isurl=n["isURL"],n["isURL"]||this.parseAnnoData(n["json"],e,e)},methods:{otherLists:function(){if(this.basecompontent.range){var t=this.basecompontent.annotationurl.allOtherLists?this.basecompontent.annotationurl.allOtherLists[this.boardnumber]:this.basecompontent.annotationurl.otherLists;if(t&&t.length>0)for(var e=0;e<t.length;e++){var n=ua.getId(t[e]);this.loadAnnotation(!1,n)}}},loadAnnotation:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n||(this.jsonannotation?this.jsonannotation:this.annotationurl?this.annotationurl:this.annotationlist),r=ua.isURL(i,this.settings);this.isurl=r["isURL"],this.seadragonid="storyboard_"+r["id"],this.settings.index&&(this.seadragonid+="_"+this.settings.index),r["isURL"]&&ta().get(i+"?cb="+Date.now()).then((function(n){t.parseAnnoData(n.data,i,r["isURL"],e)})).catch((function(){e?t.renderError(i):t.removeSpinner()}))},reload:function(){this.basecompontent.range?this.basecompontent.compkey="reload"+(this.basecompontent.compkey+1):(this.toolbardisabled=!0,this.annotations=[],this.currentanno="",this.annoinfo={text:"",annodata:[]},this.$parent.multi&&(this.$parent.boardnumber=0,this.$parent.toolbardisabled=!0),this.next(-1),this.removeOverlay("overlay"),this.removeOverlay("textoverlay"),this.switchSpinner("block"),this.loadAnnotation(!1,this.annotationurl))},removeOverlay:function(t){for(var e=document.getElementsByClassName(t),n=0;n<e.length;n++)this.viewer.removeOverlay(e[n].id)},removeSpinner:function(){var t=document.getElementById("spinner");t&&(this.toolbardisabled=!1,this.$parent.multi&&this.$parent.boardchildren.every((function(t){return 0==t.toolbardisabled}))&&(this.$parent.toolbardisabled=!1),this.switchSpinner("none"))},switchSpinner:function(t){this.anno_elem&&(this.anno_elem.querySelector("#spinner").style.display=t)},checkForText:function(t,e){if(this.settings.startenddisplay!=t){var n=e["anno"],i=e["transcription"];this.hastranscription=n&&i&&n!=i,""!=n||""!=i||"anno"!=t&&"transcription"!=t?(0==Object.keys(this.tagslist).length&&"tags"==this.shown||this.settings.hide_annotationtext||this.layerslist.length<2&&"layers"==this.shown)&&(this.shown=!1):this.shown=!1}},checksubgrouptags:function(t){for(var e=this.groupTagDict[t],n=e.tags,i=0;i<n.length;i++)e.checked==n[i].checked&&this.sendMessage({function:"hideshowalltags",args:n[i]["key"]})},renderError:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!this.basecompontent.manifestcontents&&!this.manifesturl||e?this.rendered='There was a error with <a href="'+t+'">'+t+"</a>":this.getManifestData(this.manifesturl)},parseAnnoData:function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=ua.getAnnotations(t);this.annoinfo.text+='<div class="listinfo">'+(n?'<b>Annotation Url: </b><a href="'+e+'" target="_blank">'+e+"</a><br>":"");for(var o=ua.manifestlink(this.manifesturl,r[0],t),s=0;s<r.length;s++){for(var a=ua.on_structure(r[s]),l=ua.getCanvasId(r[s]),c=[],u=ua.chars(r[s],this.currentlang),h=u["type"]?u["type"]:"rect",p=[],f=0;f<l.length;f++){var d=a&&a[f]?a[f]:a,g=ua.canvasRegion(l[f],d),v=g["canvasRegion"];c.push(v);var m=g["canvasId"];if(g["svg"]){var y=g["svg"].getAttribute("id");h=y?y.split("_")[0]:"path"}(0==v.split(",")[0]&&0==v.split(",")[1]||0!=v.split(",")[2])&&0!=v.split(",")[3]||(h="pin"),p.push(g["svg"])}u=Object.assign({},u,{section:c,type:h,svg_path:p}),this.annotations.push(u),u["geometry"]&&(this.leaflet="true"),u["styles"]&&(u["styles"]["overlay"]&&!this.settings.overlaycolor&&(this.settings.overlaycolor=u["styles"]["overlay"]),u["styles"]["activecolor"]&&!this.settings.activecolor&&(this.settings.activecolor=u["styles"]["activecolor"]),this.settings.tagscolor=this.settings.tagscolor?Object.assign(u["styles"],this.settings.tagscolor):u["styles"]),this.getAnnoInfo(u,this.annotations.length-1)}var b=this.annotations.filter((function(t){return t.languages}));if(b.length>0){var w=ua.flatten(this.annotations.map((function(t){return t.textual_body.map((function(t){return t.language}))}))),_=w.filter((function(t){return void 0!=t&&navigator.language.indexOf(t.toLowerCase())>-1}));this.currentlang=this.currentlang?this.currentlang:_.length>0?_[0]:w[0];var x=ua.flatten(b,"languages");this.languages=Array.from(new Set(x))}i?o?this.getManifestData(o,m,l):this.buildseadragon(m):this.onSeadragonOpen(!1);var S=t["label"]?t["label"]:t["@label"];if(this.imagetitle=this.settings.title?this.imagetitle:S,this.boardnumber=this.$parent.multi&&this.$parent.boardchildren.length>0?this.$parent.boardchildren.map((function(t){return t.seadragontile})).indexOf(this.seadragontile):0,S&&this.basecompontent.range){var T=this.boardnumber+this.basecompontent.position;-1==this.basecompontent.toc[T]["label"].indexOf(S)&&(this.basecompontent.toc[T]["label"]+=": "+S)}else S&&(this.imagetitle+=": "+S);if(this.annotationurl==e){var C=this;setTimeout((function(){C.otherLists()}),"100")}},tagslistShortcuts:function(){var t=ua.flatten(this.annotations,"tags"),e=!!this.settings.toggleoverlay,n=!!this.$parent.multi&&this.$parent.tagslist;this.tagslist=ua.getTagDict(t,this.settings,e,n),this.$parent.multi&&(this.$parent.tagslist=Object.assign(this.$parent.tagslist,this.tagslist)),this.booleanitems.istranscription=!(!this.settings.transcription||this.settings.textfirst),this.$parent.multi&&(Object.keys(this.tagslist).length>0&&(this.$parent.tags=!0),this.$parent.shortcuts=ua.keyboardShortcuts("multistoryboard",this.$parent)),this.shortcuts=ua.keyboardShortcuts("storyboard",this)},createViewer:function(){var t="fill"==this.settings.fit,e=ua.getTileFormat(this.seadragontile),n={id:""+this.seadragonid,type:"image",nextButton:"next",previousButton:"previous",tileSources:e,toolbar:""+this.toolbar_id,showNavigator:!1,showNavigationControl:!1,homeFillsViewer:t,constrainDuringPan:!0,visibilityRatio:1,degrees:this.layerslist[0].rotation};this.viewer=Ja()(n);var i=this.viewer,r=this;i.addHandler("open-failed",(function(t){r.seadragontile.indexOf("info.json")>-1?r.viewerFailure("/info.json","/full/full/0/default.jpg"):r.seadragontile.indexOf("full/full")>-1&&r.viewerFailure("/full/full/","/full/max/")})),i.addHandler("zoom",(function(){window.annonazoom=r.viewer.viewport.getZoom()})),i.addHandler("canvas-click",(function(){r.reposition()})),i.addHandler("canvas-scroll",(function(){r.reposition()})),i.addHandler("canvas-drag",(function(){r.reposition()})),i.addHandler("open",(function(){r.onSeadragonOpen()}))},viewerFailure:function(t,e){this.viewer.close(),this.seadragontile=this.seadragontile.replace(t,e);var n=ua.getTileFormat(this.seadragontile);this.viewer.open(n)},onSeadragonOpen:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this;if(this.settings.fit||(this.settings.fit=ua.getLongEdge(this.viewer)),this.settings.sortannos){"longedge"==this.settings.sortannos&&(this.settings.sortannos=ua.getLongEdge(this.viewer));var n="horizontal"==this.settings.sortannos?0:1;this.annotations=this.annotations.sort((function(t,e){return parseFloat(t["section"][0].split(",")[n])>parseFloat(e["section"][0].split(",")[n])?1:-1}))}var i="fill"==this.settings.fit;if(!e.anno_elem.querySelector("#spinner")){var r=document.createElement("div");r.id="spinner",r.style="position: relative; top: 50%;text-align: center;z-index: 10000;;",r.innerHTML='<i class="fas fa-spinner fa-spin" style="font-size:3em"></i>',e.anno_elem.getElementsByClassName("openseadragon-container")[0].appendChild(r),setTimeout((function(){e.switchSpinner("none")}),"500")}if(e.settings.imagecrop&&t){var o=e.settings.imagecrop.split(",").map((function(t){return parseInt(t)})),s=e.viewer.world.getItemAt(0);s.setClip(new(Ja().Rect)(o[0],o[1],o[2],o[3])),e.zoom("home")}e.layerslist&&e.layerslist.length>0&&t&&e.addLayers(),t||e.tagslistShortcuts(),"horizontal"==e.settings.fit?e.viewer.viewport.fitHorizontally():i||e.viewer.viewport.fitVertically(),e.settings.zoom&&e.viewer.viewport.zoomTo(e.settings.zoom),e.settings.autorun_onload&&e.autoRun(e.settings.autorun_interval);for(var a=0;a<e.annotations.length;a++)if(e.annotations[a]["tags"].length>0)for(var l=0;l<e.annotations[a]["tags"].length;l++)e.createOverlayElement(a,e.annotations[a]["tags"][l]);else e.createOverlayElement(a,e.annotations[a]["tags"]);if(e.booleanitems.isoverlaytoggled&&e.createOverlay("",!0),e.booleanitems.istextoverlaytoggled&&e.createOverlay("textoverlay",!0),e.currentlang&&e.changeLang(e.currentlang),void 0!=e.settings.startposition)e.next(e.settings.startposition-1);else if(-1!=e.position){var c=e.shown;e.next(e.position),e.clickButton(c)}this.removeSpinner(),this.focusOnButton()},reposition:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t=t||this.viewer.viewport.getConstrainedBounds();var e=this.viewer.world.getItemAt(0).viewportToImageRectangle(t);this.settings.controller?this.socket.emit("broadcast",{bounds:e}):this.$parent.multi&&this.$parent.moveArea(e)},newSocket:function(){var t=this;if(this.$props.ws){var e=el()(this.$props.ws,{origins:"http://localhost:*/* http://127.0.0.1:*/*"});this.socket=e,this.socket.on("message",(function(e){if(e["function"]&&(t.position=e["position"],t.shown=e["shown"],t.booleanitems=e["booleanitems"],t[e["function"]](e["args"])),e["bounds"]){var n=t.viewer.world.getItemAt(0).imageToViewportRectangle(e["bounds"].x,e["bounds"].y,e["bounds"].width,e["bounds"].height);t.viewer.viewport.fitBoundsWithConstraints(n).ensureVisible()}}))}},getAnnoInfo:function(t,e){var n=t["label"]?e+1+". "+t["label"]:"Annotation "+(e+1),i=ua.createContent(t,this.currentlang)["anno"],r="\n        "+(i?this.$options.filters.truncate(i,5)+"<br>":"")+"\n        "+(t["authors"]?"<b>Authors:</b> "+t["authors"]+"<br>":"")+"\n        "+(t["rights"]?"<b>Rights:</b> "+t["rights"]+"<br>":"")+"\n        "+(t["tags"].length>0?"<b>Tags:</b> "+t["tags"].map((function(t){return t["value"]})).join(", ")+"<br>":"");this.annoinfo.annodata.push({title:n,position:e,additionaltext:r})},changeLang:function(t){var e=t.target?t.target.value:t;this.currentlang=e,this.annoinfo.annodata=[];var n=this.basecompontent&&this.basecompontent.manifestcontents?this.basecompontent.manifestcontents:this.manifestinfo;if(this.basecompontent.range){this.basecompontent.rangetitle=ua.parseMetaFields(n.label,this.currentlang),this.basecompontent.getTitle();var i=this.settings.title;this.settings.title=this.basecompontent.settings.title,this.imagetitle=this.imagetitle.replace(i,this.basecompontent.settings.title)}var r=ua.getHTMLMeta(n,this.imageinfo.link,"Manifest",this.settings,this.currentlang);this.imageinfo.text=r["text"]+'<div id="imageurl"><b>Image URL: </b><a href="'+this.seadragontile+'" target="_blank">'+this.seadragontile+"</a></div>",this.imagetitle=r["title"]?r["title"]:this.imagetitle;for(var o=0;o<this.annotations.length;o++)this.getAnnoInfo(this.annotations[o],o);this.settings.tts&&(this.settings.tts=e,this.ttscontent())},createOverlayElement:function(t,e){var n=this.annotations[t];e=e?ua.tagsToClass(e):"";for(var i=0;i<n["section"].length;i++){var r=n["section"][i].indexOf("pct")>-1,o=n["section"][i].replace("pct:","").split(",");if(r){var s=this.viewer.world.getItemAt(0).getContentSize();o=[parseFloat(o[1])/100*s["x"],parseFloat(o[2])/100*s["y"],parseFloat(o[3])/100*s["x"],parseFloat(o[4])/100*s["y"]],n["section"][i]=o.join(",")}var a=this.viewer.world.getItemAt(0).getBounds(),l=this.viewer.world.getItemAt(0).imageToViewportRectangle(parseInt(o[0]),parseInt(o[1]),parseInt(o[2]),parseInt(o[3]));l="full"==o[0]?a:l;var c=parseInt(o[0]*o[1]/(o[2]*o[3])*1e3);c="full"==o[0]?1:c;var u=document.createElement("div");u.style.display="none",u.id="position"+t;var h=n["section"].length>1?"multi":"",p=("overlay "+e+" "+h).trim();u.className=n["type"]+" "+p;var f=this.tagslist[e]?this.tagslist[e].color:this.settings.overlaycolor?this.settings.overlaycolor:"";if("pin"===n["type"]){u.innerHTML=this.mapmarker,u.style.fill=f;for(var d=0;d<u.children.length;d++)if("svg"==u.children[d].nodeName)for(var g=0;g<u.children[d].children.length;g++)u.children[d].children[g].style.stroke=f}else if(n["svg_path"][i]){var v=document.createElementNS("http://www.w3.org/2000/svg","svg");v.setAttribute("viewBox",o.join(" ")),v.setAttribute("style","position: absolute");var m=n["svg_path"][i];m.style.stroke=f;for(var y=document.createElement(m.tagName),b=0;b<m.attributes.length;b++){var w=m.attributes[b];"style"!=w.name&&y.setAttribute(w.name,w.value)}y.classList.add("svgactive"),this.settings.activecolor&&(y.style.stroke=this.settings.activecolor);var _=parseInt(o[0])+parseInt(o[2])/2+"px "+(parseInt(o[1])+parseInt(o[3])/2)+"px";y.style.transformOrigin=_,y.style.webkitTransformOrigin=_,v.innerHTML=y.outerHTML+m.outerHTML,u.appendChild(v)}if(f&&(u.style.borderColor=f,u.style.color=f,this.settings.activecolor&&(u.style.cssText+="outline-color: "+this.settings.activecolor+"!important"),this.settings.activecolor&&(u.style.webkitTextStrokeColor=this.settings.activecolor)),u.style.zIndex=c,this.viewer.addOverlay({element:u,location:l}),this.addTracking(u,l,t,this),n.ocr.length>0){var x;o=o.map((function(t){return parseFloat(t)}));var S=u.getElementsByTagName("svg").length>0?u.getElementsByTagName("svg")[0].childNodes[0]:"";x=ua.textOverlayHTML(o,n.ocr,S);var T=document.createElementNS("http://www.w3.org/2000/svg","svg");T.setAttribute("viewBox",o.join(" ")),T.setAttribute("style","position: absolute;z-index: "+(this.annotations.length-t)),T.id="ocr-position"+t;var C=S?"textoverlay textoverlaywithpath":"textoverlay";T.classList=C,T.style.userSelect="text",T.style.display="none",T.innerHTML+=x,this.viewer.addOverlay({element:T,location:l}),new(Ja().MouseTracker)({element:T}).setTracking(!0)}}},playpause:function(){var t=window.speechSynthesis;t.paused?(t.resume(),this.buttons.playpause=ua.buttons.playpauseoff):t.speaking?(t.pause(),this.buttons.playpause=ua.buttons.playpause):(this.ttscontent(),this.buttons.playpause=ua.buttons.playpauseoff)},ttscontent:function(){if("anno"==this.shown||"transcription"==this.shown){var t=this.annotations[this.position]?ua.createContent(this.annotations[this.position],this.currentlang):"";t&&this.tts(t[this.shown])}else this.autoRunTTS()},sendMessage:function(t){this.settings.controller&&(t["position"]=this.position,t["booleanitems"]=this.booleanitems,t["shown"]=this.shown,this.socket.emit("broadcast",t)),this[t["function"]](t["args"])},removeHeight:function(){var t=document.getElementById(this.seadragonid+"_annotation");t&&t.style.removeProperty("height")},close:function(){this.shown=!1,this.setDefaultButtons()},hide:function(){this.removeHeight();var t="collapse"==this.settings.annoview?"collapsehide":"hide";this.booleanitems.isexcerpt?(this.booleanitems.isexcerpt=!1,this.buttons.hide=ua.buttons[t]):(this.booleanitems.isexcerpt=!0,this.buttons.hide=ua.buttons[t+"off"])},clickButton:function(t){this.removeHeight(),this.booleanitems.isexcerpt&&"collapse"==this.settings.annoview&&this.hide();var e=this.shown;this.shown===t?this.switchButtons():(this.setShownData(t),this.switchButtons(t)),this.settings.tts&&("anno"==this.shown&&"transcription"==e||"anno"==e&&"transcription"==this.shown)&&this.ttscontent()},switchShown:function(t){this.booleanitems[t]=!this.booleanitems[t]},setShownData:function(t){this.shown=t,this.booleanitems.istranscription="anno"!=t&&("transcription"==t||this.booleanitems.istranscription),this.setDefaultButtons()},setDefaultButtons:function(){for(var t=["info","layers","tags","keyboard","textoverlay","perpage","settings"],e=0;e<t.length;e++)this.buttons[t[e]]=ua.buttons[t[e]];this.buttons.anno=this.booleanitems.istranscription?'<i class="fas fa-file-alt"></i>':'<i class="fas fa-pen-nib"></i>'},switchButtons:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setDefaultButtons(),t?-1==this.position||this.position>=this.annotations.length?this.buttons[t]='<i class="fas fa-window-close"></i>':this.buttons[t]=this.booleanitems.istranscription?'<i class="fas fa-pen-nib"></i>':'<i class="fas fa-file-alt"></i>':-1==this.position||this.position===this.annotations.length?(this.shown=!!this.settings.startenddisplay&&this.settings.startenddisplay,this.settings.startenddisplay&&this.buttons[this.settings.startenddisplay]&&(this.buttons[this.settings.startenddisplay]='<i class="fas fa-window-close"></i>')):""==this.currentanno||this.settings.hide_annotationtext||this.booleanitems.istranscription?!this.settings.hide_annotationtext&&this.booleanitems.istranscription?this.setShownData("transcription"):this.setShownData(!1):this.setShownData("anno")},hideshowalltags:function(t){for(var e=this.anno_elem.getElementsByClassName(t),n=this.tagslist[t].checked,i=0;i<e.length;i++){for(var r=document.querySelectorAll("#"+e[i].id),o=0;o<r.length;o++)r[o].style.zIndex=0;!0===n?(e[i].style.display="none",this.tagslist[t].checked=!1):(e[i].style.display="block",e[i].style.zIndex=1,this.tagslist[t].checked=!0)}var s=Object.values(this.tagslist).map((function(t){return t["checked"]}));-1===s.indexOf(!0)?(this.booleanitems.isoverlaytoggled=!1,this.buttons.overlay=ua.buttons.overlay):(this.booleanitems.isoverlaytoggled=!0,this.buttons.overlay=ua.buttons.overlayoff),this.shown=!1,this.shown="tags"},getManifestData:function(t,e,n){var i=this,r=!(!(Object.keys(this.settings).indexOf("index")>-1&&this.basecompontent)||isNaN(this.basecompontent.position))&&this.settings.index+this.basecompontent.position;this.basecompontent.rangelist&&this.basecompontent.rangelist[r]&&this.basecompontent.rangelist[r].images?this.manifestDataFunctions(t,this.basecompontent.manifestcontents,e,n,this.basecompontent.rangelist[r].images):this.basecompontent&&this.basecompontent.annotationurl&&this.basecompontent.annotationurl.images?this.manifestDataFunctions(t,this.basecompontent.manifestcontents,e,n,this.basecompontent.annotationurl.images):this.basecompontent.manifestcontents?this.manifestDataFunctions(t,this.basecompontent.manifestcontents,e,n):ta().get(t).then((function(r){if(!e)for(var o="",s=ua.getAllCanvases(r.data),a=0;a<s.length;a++){var l=ua.getManifestAnnotations(s[a]).map((function(t){return ua.getId(t)}));l.indexOf(i.annotationurl)>-1&&(e=s[a],o=e,n=ua.getId(s[a]))}i.manifestinfo=r.data,i.manifestDataFunctions(t,r.data,e,n,o)})).catch((function(){i.renderError(t,!0)}))},manifestDataFunctions:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=ua.getHTMLMeta(e,t,"Manifest",this.settings,this.currentlang);this.imageinfo.text=o["text"],this.imageinfo.link=t,this.imagetitle=o["title"]?o["title"]:this.imagetitle,(e.sequences&&e.sequences[0].canvases.length>1||e.items&&e.items.length>1)&&(this.imageinfo.label="Manifest information");var s=ua.matchCanvas(e,n,this.imagetitle,r,this.currentlang);this.imagetitle=s["title"];var a=s["images"];this.getLayerData(a),this.buildseadragon(i)},buildseadragon:function(t){this.settings.startenddisplay&&this.switchButtons(this.settings.startenddisplay),this.settings.startenddisplay&&(this.shown=this.settings.startenddisplay);var e=this.settings.additionalinfo?document.getElementById(this.settings.additionalinfo):"";if(e&&(this.settings.additionalinfotitle=e.title?e.title:""),e&&(this.settings.additionalinfo=e.innerHTML),e&&e.parentNode.removeChild(e),this.settings.truncate_length=this.settings.truncate_length?this.settings.truncate_length:2,""===this.seadragontile){var n=Array.isArray(t)?t[0]:t;n=n.split("#")[0],this.seadragontile=ua.iiifOrImageCheck(n,!0),this.layerslist.push({tile:this.seadragontile,label:"Layer 1",checked:!0,opacity:1}),this.getLayerData([])}this.createViewer(),this.anno_elem=document.getElementById(""+this.seadragonid),this.settings.autorun_interval=this.settings.autorun_interval?this.settings.autorun_interval:3,this.mapmarker=this.settings.mapmarker?this.settings.mapmarker:this.mapmarker,this.tagslistShortcuts(),this.imageinfo.text+='<div id="imageurl"><b>Image URL: </b><a href="'+this.seadragontile+'" target="_blank">'+this.seadragontile+"</a></div>"},getLayerData:function(t){t=t||[];for(var e=0;e<t.length;e++){var n=ua.getCanvasTile(t[e],!0),i=!!(t[e].motivation&&t[e].motivation.indexOf("painting")>-1),r=n["canvas_tile"],o=n["img_resource"],s=t[e].resource?ua.getId(t[e].resource):t[e].target?ua.getId(t[e].target):"",a=s&&"String"===s.constructor.name&&s.indexOf("xywh")>-1?s:ua.on_structure(t[e])&&"String"===ua.on_structure(t[e])[0].constructor.name?ua.on_structure(t[e])[0]:"";a=a?a.split("xywh=").slice(-1)[0].split(","):a,a=a.length>1?a:"";var l=o.label?o.label:"Layer "+(e+1),c=!(!this.settings.togglelayers&&0!=e&&!i),u=this.settings.togglelayers||0==e||i?1:0,h=t[e]["rotation"]?t[e]["rotation"]:0;this.layerslist.push({tile:r,xywh:a,label:l,checked:c,opacity:u,rotation:h})}if(this.layerslist.length>0&&(this.seadragontile=this.layerslist[0].tile),this.$props.layers){var p=this.$props.layers.replace(/'/gm,'"');p=JSON.parse(p);for(var f=0;f<p.length;f++){var d=p[f],g=d["xywh"]?d["xywh"].split(","):[0,0,0,0],v=d["section"]?d["section"].split(",").map((function(t){return parseInt(t)})):"",m=!!this.settings.togglelayers,y=this.settings.togglelayers?1:0;h=d["rotation"]?d["rotation"]:0;this.layerslist.push({tile:d["image"],xywh:g,label:d["label"],checked:m,opacity:y,section:v,rotation:h})}}this.$parent.multi&&this.layerslist.length>1&&(this.$parent.layerslist=!0)},addLayers:function(){this.layerslist[0]["object"]=this.viewer.world.getItemAt(0);for(var t=1;t<this.layerslist.length;t++)this.setLayers(this.layerslist[t],t)},setLayers:function(t,e){var n=t.xywh,i=this,r=ua.getTileFormat(t.tile),o=this.viewer.world.getItemAt(0).imageToViewportRectangle(parseInt(n[0]),parseInt(n[1]),parseInt(n[2]),parseInt(n[3])),s=t.section?new(Ja().Rect)(t.section[0],t.section[1],t.section[2],t.section[3]):0;this.viewer.addTiledImage({tileSource:r,x:o.x,y:o.y,width:o.width,opacity:t.opacity,clip:s,degrees:t.rotation,success:function(t){i.layerslist[e]["object"]=t.item}})},setOpacity:function(t){var e=t.layer?t.layer:t,n=t.event?t.event.target.value/100:e.opacity>0?0:1;e.object.setOpacity(n),e.opacity=n;var i=0!=n;e.checked=i},zoom:function(t){var e=parseFloat(this.viewer.viewport.getZoom()),n=parseFloat(this.viewer.viewport.getMinZoom())-.2,i=parseFloat(this.viewer.viewport.getMaxZoom());if("in"===t&&i>=e)this.viewer.viewport.zoomBy(1.1);else if("out"===t&&n<=e)this.viewer.viewport.zoomBy(.9);else{if("home"!==t)return 0;"fill"==this.settings.fit?this.viewer.viewport.fitBounds(this.viewer.viewport.getHomeBounds()):"horizontal"==this.settings.fit?this.viewer.viewport.fitHorizontally():this.viewer.viewport.fitVertically()}},tts:function(t){var e=window.speechSynthesis;e.cancel();var n=ua.stripHTML(t),i=new SpeechSynthesisUtterance(n),r=this.currentanno?this.currentanno["language"]:"";i.lang=r||this.settings.tts;var o=e.getVoices().filter((function(t){var e=i.lang;return 2==e.length?t.lang.split("-")[0]==e:t.lang==e}));i.voice=o?o[0]:e.getVoices()[0];var s=this;i.onstart=function(){s.buttons.playpause=ua.buttons.playpauseoff},t?i.onend=s.autoRunTTS:this.autoRunTTS(),console.log("utterance",i),e.speak(i),this.buttons.playpause=ua.buttons.playpauseoff},autoRunTTS:function(){if(this.isautorunning){var t=this,e=1e3*this.settings.autorun_interval;t.isautorunning=setTimeout((function(){t.position>=t.annotations.length&&(t.position=-1),t.next("next")}),e)}else clearTimeout(this.isautorunning);window.speechSynthesis.speaking||window.speechSynthesis.pending||(this.buttons.playpause=ua.buttons.playpause)},createOverlay:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=t||"overlay";var n,i,r=this.anno_elem.getElementsByClassName(t),o=this.booleanitems["is"+t+"toggled"];if(o&&!e?(n="none",i=!1,this.booleanitems["is"+t+"toggled"]=!1,ua.buttons[t+"off"]&&(this.buttons[t]=ua.buttons[t])):(n="block",i=!0,this.booleanitems["is"+t+"toggled"]=!0,ua.buttons[t+"off"]&&(this.buttons[t]=ua.buttons[t+"off"])),"overlay"==t)for(var s in this.tagslist)this.tagslist[s].checked=i;for(var a=0;a<r.length;a++)r[a].style.display=n},addTracking:function(t,e,n,i){new(Ja().MouseTracker)({element:t,clickHandler:function(){i.position=n,i.makeactive(n),i.sendMessage({function:"next",args:n});var t=i.annotations.map((function(t,e){return t.section.map((function(t){return i.annotations[n].section.indexOf(t)>-1})).some((function(t){return!0===t}))?e:-1}));if(t=t.filter((function(t){return-1!=t})),t.length>1&&(i.currentanno=t.map((function(t){return i.annotations[t]}))),i.goToArea(e),i.reposition(e),i.$parent.multi&&(!i.settings.continousboard||1==i.settings.perpage)){var r=i.$parent.boardchildren;i.$parent.next_inactive=i.next_inactive,i.$parent.prev_inactive=i.prev_inactive;for(var o=0;o<r.length;o++)r[o].position=n,i.settings.matchclick&&r[o].next(n)}}}).setTracking(!0)},goToArea:function(t){var e=Array.isArray(this.currentanno)?this.currentanno[0]:this.currentanno,n=e["section"][0].split(","),i="full"==n.join("");if(0==t["height"]&&0==t["width"]&&(t["height"]=.001),i)this.zoom("home");else if("pan"==this.settings.panorzoom){var r=t["x"]+t["width"]/2,o=t["y"]+t["height"]/2;this.viewer.viewport.panTo(new(Ja().Point)(r,o)).applyConstraints()}else this.viewer.viewport.fitBoundsWithConstraints(t).ensureVisible();if(this.settings.textposition){var s=i?"full":t;this.overlayPosition(s)}},toggle_fullscreen:function(){var t=this.basecompontent.range?this.basecompontent.$el:this.$el;this.$fullscreen.toggle(t,{wrap:!1,callback:this.fullscreenChange})},toggletranscription:function(){var t=this.booleanitems.istranscription?"anno":"transcription";this.setShownData(t)},makeactive:function(t){var e=this.anno_elem.getElementsByClassName("active");while(e[0])e[0].classList.remove("active");if(Number.isInteger(t))for(var n=this.anno_elem.querySelectorAll("#position"+t),i=0;i<n.length;i++)n[i].classList.add("active")},focusOnButton:function(){var t=this.basecompontent.isfullscreen||this.basecompontent.settings.fullpage;if(this.fullscreen||this.settings.fullpage||t){var e=t?this.basecompontent:this,n=e.$el.getElementsByClassName("toolbaractive");n.length>0&&n[0].focus()}},fullscreenChange:function(t){this.fullscreen=t,this.focusOnButton(),this.basecompontent.range&&this.basecompontent.updateFullScreen(t)},next:function(t){var e=this;if(this.removeHeight(),"prev"===t&&this.position>-1?this.position-=1:"next"===t&&this.position<this.annotations.length?this.position+=1:isNaN(t)?this.position=this.position:this.position=t,this.buttons.overlay==ua.buttons.overlay)for(var n=document.getElementsByClassName("multi"),i=0;i<n.length;i++)n[i].style.display="none";if(this.settings.overlaynext&&!this.booleanitems.isoverlaytoggled)for(var r=this.anno_elem.getElementsByClassName("overlay"),o=0;o<r.length;o++)r[o].style.display="none";if(this.currentanno=this.annotations[this.position],void 0===this.currentanno){if(this.zoom("home"),this.currentanno="",this.makeactive(void 0),this.settings.textposition){var s=document.getElementById(this.seadragonid+"_annotation"),a=this.viewer.viewport.getBounds(),l=new(Ja().Point)(a["x"],a["y"]);this.viewer.updateOverlay(s,l,"TOP_RIGHT"),s.style.maxHeight="",s.style.maxWidth="",this.textposition="corner"}}else{var c=this.currentanno["section"].length,u=this.currentanno["section"][0].split(",");if(this.makeactive(this.position),c<=1){var h=this.viewer.world.getItemAt(0).imageToViewportRectangle(parseInt(u[0]),parseInt(u[1]),parseInt(u[2]),parseInt(u[3]));if(this.goToArea(h),this.settings.overlaynext&&!this.booleanitems.isoverlaytoggled){var p=this.anno_elem.querySelectorAll("#position"+this.position);p[0].style.display="block"}}else{var f=this.currentanno["section"],d=f.map((function(t){return t.split(",")[0]})),g=Math.min.apply(Math,lc(d)),v=f.map((function(t){return t.split(",")[1]})),m=Math.min.apply(Math,lc(v)),y=Math.max.apply(Math,lc(f.map((function(t){return parseInt(t.split(",")[1])+parseInt(t.split(",")[3])})))),b=y-m,w=Math.max.apply(Math,lc(f.map((function(t){return parseInt(t.split(",")[0])+parseInt(t.split(",")[2])}))))-g,_=this.viewer.world.getItemAt(0).imageToViewportRectangle(g,m,w,b);this.goToArea(_);for(var x=this.anno_elem.querySelectorAll("#position"+this.position),S=0;S<x.length;S++)x[S].style.display="block"}}this.switchButtons(),this.settings.tts&&this.ttscontent(),this.position>=this.annotations.length?this.next_inactive=!0:this.next_inactive=!1,-1===this.position?this.prev_inactive=!0:this.prev_inactive=!1,this.$parent.multi&&this.isautorunning&&this.$parent.autoRunImages(),this.settings.transcription&&this.$nextTick((function(){var t=document.getElementsByClassName("activeword")[0];if(t){var n=document.getElementById(e.seadragonid+"_annotation");n.scrollTop=t.offsetTop-n.offsetTop}}))},overlayPosition:function(t){if("full"==t){var e=this.viewer.viewport.getBounds(),n={x:0,y:0,width:.99,height:e["height"]};t=e["width"]>1||e["height"]>1?n:e}var i=document.getElementById(this.seadragonid+"_annotation"),r={right:{x:t["x"]+t["width"],y:t["y"],placement:"TOP_LEFT",inverse:"left"},left:{x:t["x"],y:t["y"],placement:"TOP_RIGHT",inverse:"right"},top:{x:t["x"]+t["width"]/2,y:t["y"],placement:"BOTTOM",inverse:"bottom"},bottom:{x:t["x"]+t["width"]/2,y:t["y"]+t["height"],placement:"TOP",inverse:"top"}},o=this.getPositionData(r,i);(o["maxHeight"]<65||o["maxWidth"]<65)&&(o=this.getPositionData(r,i,!0)),(o["maxHeight"]<65||o["maxWidth"]<65)&&(o=this.getPositionData(r,i,!1,!0));var s=o["overlayrect"],a=o["maxHeight"],l=o["maxWidth"],c=o["positions"];this.textposition=o["textposition"];var u=this;i.addEventListener("mouseover",(function(){u.enableOSDmouse(!1)})),i.addEventListener("mouseout",(function(){u.enableOSDmouse(!0)})),i.style.maxHeight=a-20+"px",i.style.maxWidth=l-20+"px";var h=Ja().Placement[c["placement"]];this.viewer.getOverlayById(this.seadragonid+"_annotation")?this.viewer.updateOverlay(i.id,s,h):this.viewer.addOverlay({element:i,location:s,placement:h})},enableOSDmouse:function(t){this.viewer.setControlsEnabled(t),this.viewer.setMouseNavEnabled(t)},getPositionData:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=t[this.settings.textposition].inverse,o=n?r:this.settings.textposition,s=t[o],a=new(Ja().Point)(s["x"],s["y"]),l=this.viewer.viewport.pixelFromPoint(a),c=this.viewer.viewport.getContainerSize(),u="right"==o?c["x"]-l["x"]:l["x"],h="top"==o?l["y"]:c["y"]-l["y"];return i&&(s["placement"]=t[r].placement,u<65&&(u="100"),h<65&&(h="100")),{positions:s,overlayrect:a,maxWidth:u,maxHeight:h,textposition:o}},autoRun:function(t){t=t||this.settings.autorun_interval,t*=1e3;var e=this.annotations.length;if(""===this.isautorunning){var n=this;this.settings.tts?(this.isautorunning=!0,this.next("next")):this.isautorunning=setInterval((function(){n.position>=e&&(n.position=-1),n.next("next")}),t),this.buttons.autorun=ua.buttons.autorunoff}else clearInterval(this.isautorunning),this.isautorunning="",this.buttons.autorun=ua.buttons.autorun},createAnnoContent:function(t){var e=[],n=[];if(Array.isArray(t)){for(var i=0;i<t.length;i++){var r=ua.createContent(t[i],this.currentlang);r["anno"]&&e.push(r["anno"]),r["transcription"]&&n.push(r["transcription"])}e=e.join("<hr>"),n=n.join("<hr>")}else{var o=ua.createContent(t,this.currentlang);n=o["transcription"],e=o["anno"]}e=e||n;var s={anno:e,transcription:n};return this.checkForText(this.shown,s),s}},computed:{groupTagDict:function(){var t=ua.groupBy(this.tagslist,"group");return t},annoContent:function(){return this.createAnnoContent(this.currentanno)}},filters:{truncate:function(t,e){t=t?t.split('<div class="tags">')[0]:"",t=t?t.split('<div class="authorship">')[0]:"";var n=ua.stripHTML(t);return Xa(n,e,{byWords:!0})}}},gc=dc,vc=ma(gc,$a,Ha,!1,null,null,null),mc=vc.exports,yc={name:"app",components:{iiifannotation:Ma,storyboard:mc}},bc=yc,wc=ma(bc,Xs,Ks,!1,null,null,null);wc.exports;function _c(t,e){return t.__proto__=e,t}
/**
  * vue-custom-element v3.3.0
  * (c) 2021 Karol Fabjaczuk
  * @license MIT
  */
Object.setPrototypeOf=Object.setPrototypeOf||_c;_c.bind(Object);function xc(){return"undefined"!==typeof Symbol&&"undefined"!==typeof Reflect&&"undefined"!==typeof Proxy&&!Object.isSealed(Proxy)}var Sc=xc(),Tc=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function Cc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ec(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function kc(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Oc(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}function Ac(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"!==typeof customElements){if(Sc){var n=function(t){function n(t){var e;Cc(this,n);var i=Ec(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),o=t?HTMLElement.call(t):i;return r.call(o),e=o,Ec(i,e)}return kc(n,t),Tc(n,null,[{key:"observedAttributes",get:function(){return e.observedAttributes||[]}}]),n}(Oc);return n.prototype.connectedCallback=o,n.prototype.disconnectedCallback=s,n.prototype.attributeChangedCallback=a,l(t,n),n}var i=function(t){var e=t?HTMLElement.call(t):this;return r.call(e),e};return i.observedAttributes=e.observedAttributes||[],i.prototype=Object.create(HTMLElement.prototype,{constructor:{configurable:!0,writable:!0,value:i}}),i.prototype.connectedCallback=o,i.prototype.disconnectedCallback=s,i.prototype.attributeChangedCallback=a,l(t,i),i}function r(){!0===e.shadow&&HTMLElement.prototype.attachShadow&&this.attachShadow({mode:"open"}),"function"===typeof e.constructorCallback&&e.constructorCallback.call(this)}function o(){"function"===typeof e.connectedCallback&&e.connectedCallback.call(this)}function s(){"function"===typeof e.disconnectedCallback&&e.disconnectedCallback.call(this)}function a(t,n,i){"function"===typeof e.attributeChangedCallback&&e.attributeChangedCallback.call(this,t,n,i)}function l(t,e){var n=customElements.get(t);return"undefined"!==typeof n?n:customElements.define(t,e)}}Object.setPrototypeOf(Oc.prototype,HTMLElement.prototype),Object.setPrototypeOf(Oc,HTMLElement);var Pc=/-(\w)/g,Rc=function(t){return t.replace(Pc,(function(t,e){return e?e.toUpperCase():""}))},Ic=/([^-])([A-Z])/g,jc=function(t){return t.replace(Ic,"$1-$2").replace(Ic,"$1-$2").toLowerCase()};function Lc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t.length-e,i=new Array(n);while(n--)i[n]=t[n+e];return i}var Bc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function Fc(t,e){if(null===t||void 0===t)return e!==Boolean&&void 0;var n=t,i=["true","false"].indexOf(t)>-1,r=parseFloat(n,10),o=!isNaN(r)&&isFinite(n)&&"string"===typeof n&&!n.match(/^0+[^.]\d*$/g);return e&&e!==Boolean&&("undefined"===typeof n?"undefined":Bc(n))!==e?n=e(t):i||e===Boolean?n=""===n||("true"===n||!0===n):o&&(n=r),n}function Dc(t,e){if(t&&t.length)t.forEach((function(t){var n=Rc(t);-1===e.camelCase.indexOf(n)&&e.camelCase.push(n)}));else if(t&&"object"===("undefined"===typeof t?"undefined":Bc(t)))for(var n in t){var i=Rc(n);-1===e.camelCase.indexOf(i)&&e.camelCase.push(i),t[i]&&t[i].type&&(e.types[n]=[].concat(t[i].type)[0])}}function Nc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={camelCase:[],hyphenate:[],types:{}};if(t.mixins&&t.mixins.forEach((function(t){Dc(t.props,e)})),t.extends&&t.extends.props){var n=t.extends.props;Dc(n,e)}return Dc(t.props,e),e.camelCase.forEach((function(t){e.hyphenate.push(jc(t))})),e}function Mc(t,e){e.camelCase.forEach((function(n,i){Object.defineProperty(t,n,{get:function(){return this.__vue_custom_element__[n]},set:function(t){if("object"!==("undefined"===typeof t?"undefined":Bc(t))&&"function"!==typeof t||!this.__vue_custom_element__){var n=e.types[e.camelCase[i]];this.setAttribute(e.hyphenate[i],Fc(t,n))}else{var r=e.camelCase[i];this.__vue_custom_element__[r]=t}}})}))}function $c(t,e,n){var i=e.propsData||{};return n.hyphenate.forEach((function(e,r){var o=n.camelCase[r],s=t.attributes[e]||t[o],a=null;n.types[o]&&(a=n.types[o]),s instanceof Attr?i[o]=Fc(s.value,a):"undefined"!==typeof s&&(i[o]=s)})),i}function Hc(t){var e={};return Lc(t.attributes).forEach((function(t){e["vue-slot"===t.nodeName?"slot":t.nodeName]=t.nodeValue})),e}function zc(t){if(t.childNodes.length)return t.childNodes;if(t.content&&t.content.childNodes&&t.content.childNodes.length)return t.content.childNodes;var e=document.createElement("div");return e.innerHTML=t.innerHTML,e.childNodes}function qc(t,e,n){var i=zc(e),r=Lc(i).map((function(e){return"#text"===e.nodeName?e.nodeValue:t(e.tagName,{attrs:Hc(e),domProps:{innerHTML:e.innerHTML}})}));return n.slot=e.id,t("template",n,r)}function Uc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=[];return Lc(t).forEach((function(t){if("#text"===t.nodeName)t.nodeValue.trim()&&n.push(e("span",t.nodeValue));else if("#comment"!==t.nodeName){var i=Hc(t),r={attrs:i,domProps:{innerHTML:""===t.innerHTML?t.innerText:t.innerHTML}};i.slot&&(r.slot=i.slot,i.slot=void 0);var o="TEMPLATE"===t.tagName?qc(e,t,r):e(t.tagName,r);n.push(o)}})),n}function Vc(t,e){var n={bubbles:!1,cancelable:!1,detail:e},i=void 0;return"function"===typeof window.CustomEvent?i=new CustomEvent(t,n):(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail)),i}function Wc(t,e){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var o=Vc(e,[].concat(i));t.dispatchEvent(o)}function Gc(t,e,n,i,r){if(t.__vue_custom_element__)return Promise.resolve(t);var o=e.util.extend({},n),s=$c(t,o,i),a=e.version&&parseInt(e.version.split(".")[0],10)||0;function l(){this.$emit=function(){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];Wc.apply(void 0,[t].concat(i)),this.__proto__&&(e=this.__proto__.$emit).call.apply(e,[this].concat(i))}}if(o.beforeCreate=[].concat(o.beforeCreate||[],l),o._compiled){var c={},u=o._Ctor;u&&(c=Object.keys(u).map((function(t){return u[t]}))[0].options),c.beforeCreate=o.beforeCreate}var h=void 0;if(a>=2){var p=t.cloneNode(!0).childNodes;h={propsData:s,props:i.camelCase,computed:{reactiveProps:function(){var t=this,e={};return i.camelCase.forEach((function(n){"undefined"!==typeof t[n]&&(e[n]=t[n])})),e}},render:function(t){var e={props:this.reactiveProps};return t(o,e,Uc(p,t))}}}else if(1===a)h=o,h.propsData=s;else{h=o;var f={};Object.keys(s).forEach((function(t){f[t]={default:s[t]}})),h.props=f}var d=a>=2?"<div></div>":("<div>"+t.innerHTML+"</div>").replace(/vue-slot=/g,"slot=");if(r.shadow&&t.shadowRoot?(t.shadowRoot.innerHTML=d,h.el=t.shadowRoot.children[0]):(t.innerHTML=d,h.el=t.children[0]),r.shadow&&r.shadowCss&&t.shadowRoot){var g=document.createElement("style");g.type="text/css",g.appendChild(document.createTextNode(r.shadowCss)),t.shadowRoot.appendChild(g)}return Mc(t,i),"function"===typeof r.beforeCreateVueInstance&&(h=r.beforeCreateVueInstance(h)||h),Promise.resolve(h).then((function(n){return t.__vue_custom_element__=new e(n),t.__vue_custom_element_props__=i,t.getVueInstance=function(){var e=t.__vue_custom_element__;return e.$children.length?e.$children[0]:e},t.removeAttribute("vce-cloak"),t.setAttribute("vce-ready",""),Wc(t,"vce-ready"),t}))}function Zc(t){t.customElement=function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="function"===typeof n,o=r&&{props:i.props||[]},s=Nc(r?o:n),a=Ac(e,{constructorCallback:function(){"function"===typeof i.constructorCallback&&i.constructorCallback.call(this)},connectedCallback:function(){var o=this,a=r&&n(),l=a&&a.then&&"function"===typeof a.then;if("function"===typeof i.connectedCallback&&i.connectedCallback.call(this),r&&!l)throw new Error("Async component "+e+" do not returns Promise");this.__detached__||(l?a.then((function(e){var n=Nc(e);Gc(o,t,e,n,i).then((function(){"function"===typeof i.vueInstanceCreatedCallback&&i.vueInstanceCreatedCallback.call(o)}))})):Gc(this,t,n,s,i).then((function(){"function"===typeof i.vueInstanceCreatedCallback&&i.vueInstanceCreatedCallback.call(o)}))),this.__detached__=!1},disconnectedCallback:function(){var t=this;this.__detached__=!0,"function"===typeof i.disconnectedCallback&&i.disconnectedCallback.call(this),null!==i.destroyTimeout&&setTimeout((function(){t.__detached__&&t.__vue_custom_element__&&(t.__detached__=!1,t.__vue_custom_element__.$destroy(!0),delete t.__vue_custom_element__,delete t.__vue_custom_element_props__)}),i.destroyTimeout||3e3)},attributeChangedCallback:function(t,e,n){if(this.__vue_custom_element__&&"undefined"!==typeof n){var r=Rc(t);"function"===typeof i.attributeChangedCallback&&i.attributeChangedCallback.call(this,t,e,n);var o=this.__vue_custom_element_props__.types[r];this.__vue_custom_element__[r]=Fc(n,o)}},observedAttributes:s.hyphenate,shadow:!!i.shadow&&!!HTMLElement.prototype.attachShadow});return a}}"undefined"!==typeof window&&window.Vue&&(window.Vue.use(Zc),Zc.installed&&(Zc.installed=!1));var Xc=Zc,Kc=function(){var t=this,e=t._self._c;return e("span",[t.type&&"storyboard"==t.type?e("span",[e("storyboard",{attrs:{annotationurl:t.inputurl,jsonannotation:t.jsondata,manifesturl:t.manifesturl,styling:t.styling,ws:t.ws,layers:t.layers}})],1):t.type&&"multistoryboard"==t.type?e("span",[e("multistoryboard",{attrs:{annotationurls:t.inputurl,jsonannotation:t.jsondata,manifesturl:t.manifesturl,styling:t.styling,ws:t.ws,layers:t.layers,images:t.images}})],1):t.type&&"rangestoryboard"==t.type?e("span",[e("rangestoryboard",{attrs:{rangeurl:t.inputurl,json:t.jsondata,manifesturl:t.manifesturl,styling:t.styling,ws:t.ws,layers:t.layers}})],1):t._e()])},Jc=[],Yc=function(){var t=this,e=t._self._c;return e("div",{staticClass:"annonaview",class:[t.settings.fullpage||t.fullscreen?"multifullpage":"multistoryboard",t.settings.toolbarposition?t.settings.toolbarposition+"_menu_container":"top_menu_container"],attrs:{id:"multistoryboard"}},[e("toolbar"),e("span",{staticClass:"storyboard_containers",attrs:{id:t.storyboardcontainerid}},[t._l(t.anno_data,(function(n,i){return e("div",{key:n+i,staticStyle:{position:"relative",display:"inline-block"},style:{width:t.widthvar}},[t.annourls?e("storyboard",{attrs:{annotationurl:n,jsonannotation:t.annojson[i],styling:t.stylingstring+"index: "+t.indexNumber(i),ws:t.isws,layers:t.customlayers,manifesturl:t.manifests[i]}}):t._e()],1)})),t._l(t.allimages,(function(n){return e("div",{key:n.id,staticStyle:{position:"relative",display:"inline-block",height:"600px"},style:{width:t.widthvar}},[e("div",{staticClass:"seadragonbox",attrs:{id:n.id}})])}))],2)],1)},Qc=[],tu={components:{storyboard:mc,toolbar:ac},name:"multistoryboard",props:{manifesturl:String,annotationurls:String,annotationlists:String,styling:String,ws:String,layers:String,images:String,jsonannotation:Array},data:function(){return{tags:!1,layerslist:!1,customlayers:"[]",isws:"",prev_inactive:!0,next_inactive:!1,manifests:[],anno_data:[],buttons:JSON.parse(JSON.stringify(ua.buttons)),settings:{},stylingstring:"",storyboardcontainerid:"",widthvar:"",multi:!0,allimages:[],viewers:[],fullscreen:!1,shortcuts:{},boardchildren:{},leaflet:!1,boardnumber:0,tagslist:{},boardchildrenwithannos:[],annourls:"",textoverlay:ua.objectToNewObject(ua.textoverlay),toolbardisabled:!1,annojson:[]}},watch:{fullscreen:function(t){this.buttons.fullscreen=t?ua.buttons.fullscreenoff:ua.buttons.fullscreen},textoverlay:{deep:!0,handler:function(){for(var t=0;t<this.boardchildrenwithannos.length;t++){var e=this.boardchildrenwithannos[t];e.textoverlay=ua.objectToNewObject(this.textoverlay)}}}},mounted:function(){if(this.createViewers(),this.boardchildren=this.$children.filter((function(t){return"storyboard"==t.$options.name})),this.$parent.range)for(var t=0;t<this.boardchildren.length;t++)this.boardchildren[t].basecompontent=this.$parent},created:function(){this.$parent.range&&(this.fullscreen=this.$parent.isfullscreen,this.$parent.updateFullScreen(this.fullscreen)),this.storyboardcontainerid=Math.random().toString(36).substring(2,7),this.annourls=this.annotationurls?this.annotationurls:this.annotationlists;var t=this.annourls.split(";").map((function(t){return t.replace("repwithsemicolon",";")}));if(this.manifests=this.manifesturl?this.manifesturl.split(";"):[""],this.manifests.length<t.length)for(var e=1;e<t.length;e++)this.manifests.push(this.manifests[0]);for(var n in this.anno_data=t.filter((function(t){return null!=t&&""!=t})),this.annojson=this.jsonannotation?this.jsonannotation:[],this.isreverse=!(!this.$parent||"rtl"!=this.$parent.viewingDirection),this.isreverse&&(this.boardnumber="updateme",this.anno_data=this.anno_data.reverse()),this.settings=ua.getsettings(this),!this.settings.autorun_interval&&(this.settings.autorun_interval=3),this.$props.ws&&(this.ws=this.$props.ws),this.$props.layers&&(this.customlayers=this.$props.layers),this.settings)"fullpage"!=n&&(this.stylingstring+=n+":"+this.settings[n]+";");if(this.$props.images)for(var i=this.$props.images.split(";").filter((function(t){return null!=t&&""!=t})),r=0;r<i.length;r++)this.allimages.push({id:i[r].split("/").slice(-2)[0],tile:i[r]});this.widthvar=parseFloat(100/(this.anno_data.length+this.allimages.length))+"%"},methods:{moveArea:function(t,e){if(!this.settings.continousboard)for(var n=0;n<this.boardchildren.length;n++){var i=this.boardchildren[n].viewer;if(!this.settings.matchclick){var r=i.world.getItemAt(0).imageToViewportRectangle(t.x,t.y,t.width,t.height);i.viewport.fitBoundsWithConstraints(r).ensureVisible()}}for(var o=0;o<this.viewers.length;o++)if(o!=e){var s=this.viewers[o],a=i.world.getItemAt(0).imageToViewportRectangle(t.x,t.y,t.width,t.height);s.viewport.fitBoundsWithConstraints(a).ensureVisible()}},indexNumber:function(t){return this.isreverse?this.anno_data.length-t-1:t},fullscreenChange:function(t){this.fullscreen=t,this.$parent.range&&this.$parent.updateFullScreen(t)},toggle_fullscreen:function(){var t=this.$parent.range?this.$parent.$el:this.$el;this.$fullscreen.toggle(t,{wrap:!1,callback:this.fullscreenChange})},createViewers:function(){for(var t="fill"==this.settings.fit,e=0;e<this.allimages.length;e++){var n=this.allimages[e],i=ua.getTileFormat(n.tile),r={id:""+n.id,type:"image",nextButton:"next",previousButton:"previous",homeFillsViewer:t,tileSources:""+i,showNavigator:!1,showNavigationControl:!1,constrainDuringPan:!0,visibilityRatio:1},o=Ja()(r);this.viewers.push(o);var s=this;o.addHandler("open",(function(){for(var e=0;e<s.viewers.length;e++){var n=s.settings.fit?s.settings.fit:ua.getLongEdge(s.viewers[e]);"horizontal"==n?s.viewers[e].viewport.fitHorizontally():t||s.viewers[e].viewport.fitVertically()}}));var a=this.allimages.map((function(t){return t.id}));o.addHandler("canvas-click",(function(t){var e=t.eventSource.id,n=a.indexOf(e),i=t.eventSource.world.getItemAt(0).viewportToImageRectangle(t.eventSource.viewport.getConstrainedBounds());s.moveArea(i,n)})),o.addHandler("canvas-scroll",(function(t){var e=t.eventSource.id,n=a.indexOf(e),i=t.eventSource.world.getItemAt(0).viewportToImageRectangle(t.eventSource.viewport.getConstrainedBounds());s.moveArea(i,n)})),o.addHandler("canvas-drag",(function(t){var e=t.eventSource.id,n=a.indexOf(e),i=t.eventSource.world.getItemAt(0).viewportToImageRectangle(t.eventSource.viewport.getConstrainedBounds());s.moveArea(i,n)}))}},autoRunImages:function(){for(var t=0;t<this.viewers.length;t++)this.viewers[t].viewport.fitBounds(this.boardchildren[0].viewer.viewport.getConstrainedBounds());this.updateData()},updateData:function(){var t=this.isreverse?0:this.boardchildrenwithannos.length-1,e=this.isreverse?this.boardchildrenwithannos.length-1:0,n=this.boardchildrenwithannos[e]._data;this.buttons=n.buttons,this.prev_inactive=n.prev_inactive,this.next_inactive=this.boardchildrenwithannos[t].next_inactive},addBoardNumber:function(){this.boardchildrenwithannos=this.boardchildren.filter((function(t){return t.annotations.length>0}));for(var t=0;t<this.boardchildrenwithannos.length;t++)this.boardchildrenwithannos[t].boardnumber=t},sendMessageSeperate:function(t){"next"!=t["args"]&&"prev"!=t["args"]||this.boardchildrenwithannos[this.boardnumber].sendMessage(t);var e=this.isreverse?-1:1,n=this.isreverse?0==this.boardnumber:this.boardchildrenwithannos.length-1==this.boardnumber,i=this.isreverse?this.boardchildrenwithannos.length-1==this.boardnumber:0==this.boardnumber;this.boardchildrenwithannos.length>0&&this.boardchildrenwithannos[this.boardnumber].next_inactive&&!n?this.boardnumber+=e:this.boardchildrenwithannos.length>0&&this.boardchildrenwithannos[this.boardnumber].prev_inactive&&!i&&(this.boardnumber-=e)},sendMessage:function(t){this.boardchildrenwithannos.length<1&&this.addBoardNumber(),"updateme"==this.boardnumber&&(this.boardnumber=this.boardchildrenwithannos.length-1);var e=["next"];if("toggle_fullscreen"==t["function"])this.toggle_fullscreen();else if(this.settings.continousboard&&e.indexOf(t["function"])>-1)this.sendMessageSeperate(t);else for(var n=this.boardchildren.some((function(e){return e.shown==t["args"]})),i=0;i<this.boardchildren.length;i++)"clickButton"!=t["function"]||this.boardchildren[i].shortcuts[t["args"]]||n&&(this.boardchildren[i].shown=t["args"]),this.boardchildren[i].sendMessage(t);for(var r=0;r<this.viewers.length;r++)this.viewers[r].viewport.fitBounds(this.boardchildren[0].viewer.viewport.getConstrainedBounds());this.boardchildrenwithannos.length>0&&this.updateData()}}},eu=tu,nu=ma(eu,Yc,Qc,!1,null,null,null),iu=nu.exports,ru=function(){var t=this,e=t._self._c;return e("div",{staticClass:"rangestoryboard annonaview",class:[t.settings.fullpage||t.isfullscreen?"rangefullpage":"rangestoryboardview"],attrs:{id:t.rangeid}},["storyboardlist"==t.listtype?e("span",{key:t.position,staticStyle:{width:"100vw"}},["iiif-storyboard"==t.rangelist[t.position]["tag"]?e("span",[e("storyboard",{key:t.compkey,attrs:{annotationurl:t.annotationurl.annotationurl,jsonannotation:t.annotationurl.jsonanno,manifesturl:t.annotationurl.manifesturl,styling:t.stylingstring,ws:t.annotationurl.ws,layers:t.annotationurl.layers}})],1):"iiif-multistoryboard"==t.rangelist[t.position]["tag"]?e("span",[e("multistoryboard",{key:t.compkey,attrs:{annotationurls:t.annotationurl.annotationurls,jsonannotation:t.annotationurl.jsonanno,manifesturl:t.annotationurl.manifesturl,styling:t.stylingstring,ws:t.annotationurl.ws,layers:t.annotationurl.layers,images:t.annotationurl.images}})],1):"iiif-annotation"==t.rangelist[t.position]["tag"]?e("span",[e("iiifannotation",{key:t.compkey,attrs:{annotationurl:t.annotationurl.annotationurl,jsonannotation:t.annotationurl.jsonanno,manifesturl:t.annotationurl.manifesturl,styling:t.stylingstring}})],1):t._e()]):t.settings.perpage?e("span",{staticStyle:{width:"100vw"}},[t.ready?e("multistoryboard",{key:t.compkey,attrs:{annotationurls:t.annotationurl.annotationurls,styling:t.stylingstring,manifesturl:t.annotationurl.allmanifests,jsonannotation:t.annotationurl.alljsons}}):t._e()],1):e("span",{staticStyle:{width:"100vw"}},[t.ready?e("storyboard",{key:t.compkey,attrs:{jsonannotation:t.annotationurl.jsonanno,annotationurl:t.annotationurl.anno,manifesturl:t.annotationurl.manifest,styling:t.stylingstring,ws:t.isws,layers:t.customlayers}}):t._e()],1),t.ready?e("button",{staticClass:"pageButton toolbarButton",class:[{pageinactive:t.prevPageInactive},{imageview:t.rangelist[t.position]&&"iiif-annotation"==t.rangelist[t.position]["tag"]},t.viewingDirection],attrs:{id:"previousPageButton"},on:{click:function(e){return t.nextItemRange("prev")}}},[e("span",{domProps:{innerHTML:t._s(t.buttons.rangeprev)}}),e("span",{staticClass:"toolbartext"},[t._v("Previous page")])]):t._e(),t.ready?e("button",{staticClass:"pageButton toolbarButton",class:[{pageinactive:t.nextPageInactive},{imageview:t.rangelist[t.position]&&"iiif-annotation"==t.rangelist[t.position]["tag"]},t.viewingDirection],attrs:{id:"nextPageButton"},on:{click:function(e){return t.nextItemRange("next")}}},[e("span",{domProps:{innerHTML:t._s(t.buttons.rangenext)}}),e("span",{staticClass:"toolbartext"},[t._v("Next Page")])]):t._e()])},ou=[];function su(t){return uu(t)||cu(t)||lu(t)||au()}function au(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function lu(t,e){if(t){if("string"===typeof t)return hu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hu(t,e):void 0}}function cu(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function uu(t){if(Array.isArray(t))return hu(t)}function hu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var pu={components:{storyboard:mc,multistoryboard:iu,iiifannotation:Ma},props:{rangeurl:String,styling:String,ws:String,layers:String,json:Object},name:"rangestoryboard",data:function(){return{tags:!1,layerslist:!1,isws:"",range:!0,toctitle:"Range Pages",buttons:ua.objectToNewObject(ua.buttons),settings:{},stylingstring:"",annotationurl:"",rangelist:[],position:0,prevPageInactive:!0,nextPageInactive:!1,rangeid:"",compkey:0,customlayers:"",isfullscreen:!1,manifestcontents:"",toc:[],viewingDirection:"ltr",rangetitle:"",ready:!1,listtype:"",startCanvas:"",textoverlay:ua.objectToNewObject(ua.textoverlay),booleanitems:ua.objectToNewObject(ua.booleanitems),leaflet:!1,rangecontents:"",collection:"",langs:[],isurl:!0}},watch:{fullscreen:function(t){this.buttons.fullscreen=t?ua.buttons.fullscreenoff:ua.buttons.fullscreen},position:function(){this.checkNextRange()}},created:function(){var t=this;this.rangeid="rangestoryboard_"+this.$props.rangeurl.split("/").slice(-1)[0],this.settings=ua.getsettings(this);var e=this.json?this.json:this.rangeurl,n=ua.isURL(e,this.settings);this.isurl=n["isURL"],n["isURL"]?ta().get(this.$props.rangeurl).then((function(e){t.rangecontents=e.data,t.manifestOrRange(e.data)})):(this.rangecontents=n["json"],this.manifestOrRange(n["json"])),this.settings.perpage&&(this.settings.continousboard=!0)},methods:{manifestOrRange:function(t){var e=t["@type"]?t["@type"]:t["type"];if(this.listtype=e,e.toLowerCase().indexOf("manifest")>-1)this.getManifestData(t);else if("storyboardlist"==e){for(var n=0;n<t["items"].length;n++){var i=t["items"][n],r=document.createElement("div");r.innerHTML=i["board"];for(var o={tag:r.children[0].localName},s=r.children[0].attributes,a=0;a<s.length;a++)o[s[a].name]=s[a].nodeValue;i["annotation"]&&(o["jsonanno"]=i["annotation"],o["annotationurl"]="");var l=i["title"]?i["title"]:"Page "+(n+1);l=ua.parseMetaFields(l),o["title"]=l,this.rangelist.push(o),this.toc.push({position:n,label:l,thumbnail:i["thumbnail"],description:i["description"]})}this.setDefaults(t)}else e.toLowerCase().indexOf("collection")>-1?(this.collection=this.getCollectionList(t),this.updateCollectionManifest(this.collection["manifests"][0],!0)):this.getRangeData(t)},getCollectionList:function(t){for(var e={label:ua.parseMetaFields(this.getLabel(t)),manifests:[],metadata:ua.getHTMLMeta(t,this.$props.rangeurl,"Collection",this.settings)["text"]},n=t["manifests"]?t["manifests"]:t["members"]?t["members"]:t["items"]?t["items"]:t["collections"],i=[],r=0;r<n.length;r++){var o=n[r],s=ua.getId(o);if(-1==i.indexOf(s)){var a=Array.isArray(o["thumbnail"])?o["thumbnail"][0]:o["thumbnail"];a=a?ua.getId(a):"";var l=ua.getField(o,"type");l=l&&l.toLowerCase().indexOf("collection")>-1?"collection":l;var c={id:s,thumbnail:a,label:ua.parseMetaFields(this.getLabel(o)),type:l};i.push(s),e["manifests"].push(c)}}return e},updateCollectionManifest:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ua.getId(t),o=document.getElementById("spinner");o&&"collection"!=t["type"]&&(o.style.display="block"),ta().get(r).then((function(o){if("collection"==t["type"]){var s=e.getCollectionList(o.data)["manifests"];if(t["manifests"]=s,n&&(t=t["manifests"][0],e.updateCollectionManifest(t,n)),i){i.nodedata["manifests"]=t["manifests"],i.$parent&&0!=i.$parent.depth&&(i.$parent.nodedata["manifests"][i.index]["manifests"]=t["manifests"]),i.nodesdata=s;var a=i;if(1!=a.depth)while(1!=a.depth)a=a.$parent;e.collection["manifests"][a.index]=a.nodedata}}else e.rangelist=[],e.toc=[],e.position=0,e.rangecontents=o.data,e.manifestOrRange(o.data),e.compkey="reload"+r}))},checkNextRange:function(){this.prevPageInactive=!1,this.nextPageInactive=!1,this.position<=0&&(this.prevPageInactive=!0);var t=this.settings.perpage&&1!=this.settings.perpage?this.position+this.settings.perpage:this.position+1;t>=this.rangelist.length&&(this.nextPageInactive=!0)},getManifestData:function(t){var e=[];if(t.metadata&&t.metadata.length>0){var n=this.getLabel(t.metadata[0]),i=[];i=n&&Array.isArray(n)?n.map((function(t){return ua.getField(t,"language")})):n&&"String"==n.constructor.name?[]:"String"==ua.getField(n,"language").constructor.name?[ua.getField(n,"language")]:Object.keys(n);var r="Object"!=n.constructor.name?[]:Object.keys(ua.getValueField(t.metadata[0])),o="0"==r[0]?i:i.concat(r);o=[].concat(su(new Set(o))).filter((function(t){return t&&"none"!=t})),this.langs=o.map((function(t){return'<option value="'+t+'"'+(navigator.language.indexOf(t)>-1?" selected":"")+">"+ia.getLangLabel(t)+"</option>"}))}if(t["sequences"]||t["items"]){var s=t["start"]?t["start"]:t["items"]?t["items"]["start"]:t["sequences"][0]["startCanvas"];this.startCanvas=s?ua.getId(s):s;for(var a=ua.getAllCanvases(t),l=0;l<a.length;l++){var c=a[l],u=ua.getManifestAnnotations(c);u?e.push({oc:u,canvas:c}):e.push({oc:"https://noannotation/"+Math.random(),canvas:c})}}e.length>1&&(this.settings.perpage=this.settings.perpage?this.settings.perpage:1,this.settings.continousboard=!this.settings.continousboard||this.settings.continousboard);for(var h=""!=this.collection?ua.getId(t):this.$props.rangeurl,p=0;p<e.length;p++){var f=e[p]["oc"];if("Array"==f.constructor.name)if(this.settings.listnumber){var d=this.settings.listnumber-1,g=f[d]?f[d]:"https://nolist.com";this.addToLists(g,h,e[p]["canvas"],f)}else this.addToLists(f[0],h,e[p]["canvas"],f.slice(1));else this.addToLists(f,h,e[p]["canvas"])}this.setDefaults(t),this.manifestcontents=t},addToLists:function(t,e,n){var i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t.resources||t.items||t.body){var o=!!(t.resources&&t.resources[0].motivation&&t.resources[0].motivation.indexOf("painting")>-1);if(!o)var s=t}var a=ua.getId(t);if(n){var l=ua.getId(n);if("String"===l.constructor.name&&l.indexOf("#xywh")>-1)var c=l.split("#xywh=").length>1?l.split("#xywh=").slice(-1)[0]:"";var u=n.images?n.images[0]:n.items?n.items[0].items[0]:void 0;if(n["thumbnail"]){var h=Array.isArray(n["thumbnail"])?n["thumbnail"][0]:n["thumbnail"];i=ua.getId(h)}else if(u){var p=ua.getVersion(this.rangecontents);i=ua.getImages(ua.getCanvasTile(u)["canvas_tile"],"full","30,",p)["imageurl"]}}var f=this.rangelist.length;if(l==this.startCanvas){var d=this.settings.perpage?parseInt(f/this.settings.perpage)*this.settings.perpage:f;this.position=d,this.compkey=f}var g=ua.parseMetaFields(this.getLabel(t)),v=[];if(n){var m=ua.parseMetaFields(this.getLabel(n));m&&"String"==m.constructor.name&&v.push(m)}if(g){if(r)for(var y=0;y<r.length;y++){var b=ua.parseMetaFields(this.getLabel(r[y]));b&&(g+=" / "+b)}v.push(g)}0==v.length&&v.push("Page "+(f+1)),v=v.join(": ");var w=n&&n.metadata?ua.getHTMLMeta(n,"","",this.settings,this.currentlang,!0):{text:""},_=t["description"]?t["description"]+w["text"]:w["text"]?w["text"]:"";if(this.toc.push({position:f,label:v,thumbnail:i,description:_}),this.rangelist.push({canvas:l,images:u?n:"",anno:a.replace(";","repwithsemicolon"),jsonanno:s,manifest:e,section:c,title:v,otherLists:r}),this.settings.perpage)for(var x=parseInt(f/this.settings.perpage)*this.settings.perpage,S=x+this.settings.perpage,T=x;T<S;T++)this.rangelist[T]&&(this.rangelist[T].annotationurls=this.rangelist.slice(x,S).map((function(t){return t.anno})).join(";"),this.rangelist[T].alljsons=this.rangelist.slice(x,S).map((function(t){return t.jsonanno})),this.rangelist[T].allmanifests=this.rangelist.slice(x,S).map((function(t){return t.manifest})).join(";"),this.rangelist[T].allOtherLists=this.rangelist.slice(x,S).map((function(t){return t.otherLists})))},getLabel:function(t){return t["label"]?t["label"]:t["@label"]?t["@label"]:""},setDefaults:function(t){var e=t.viewingDirection;"right-to-left"===e?(this.viewingDirection="rtl",this.buttons.rangeprev=ua.buttons.rangenext,this.buttons.rangenext=ua.buttons.rangeprev):"top-to-bottom"==e?(this.viewingDirection="ttb",this.buttons.rangeprev='<i class="fa fa-chevron-up"></i>',this.buttons.rangenext='<i class="fa fa-chevron-down"></i>'):"bottom-to-top"==e&&(this.viewingDirection="btt",this.buttons.rangeprev='<i class="fa fa-chevron-down"></i>',this.buttons.rangenext='<i class="fa fa-chevron-up"></i>'),this.annotationurl=this.rangelist[this.position],this.rangetitle=ua.parseMetaFields(t.label),!this.settings.autorun_interval&&(this.settings.autorun_interval=3),this.updateFullScreen(this.isfullscreen),this.getTitle(),this.$props.ws&&(this.isws=this.$props.ws),this.customlayers=this.$props.layers?this.$props.layers:this.annotationurl.layers?this.annotationurl.layers:"",this.annotationurl.section&&(this.settings.imagecrop=this.annotationurl.section),this.getStylingString(),this.ready=!0,this.checkNextRange()},getRangeData:function(t){for(var e=t.contentLayer?t.contentLayer.otherContent:t.items,n=t.canvases?t.canvases:[],i=0;i<e.length;i++){var r=n[i],o=e[i],s=r?r["within"]:"";s=ua.getId(s),this.addToLists(o,s,r)}this.setDefaults(t)},nextItemRange:function(t){var e=this.settings.perpage?this.settings.perpage:1;"prev"==t?this.position-=e:"next"==t?this.position+=e:(this.settings.perpage&&(t=parseInt(t/this.settings.perpage)*this.settings.perpage),this.position=t),this.compkey=this.position,this.annotationurl=this.rangelist[this.position],this.annotationurl.section&&(this.settings.imagecrop=this.annotationurl.section),this.getTitle(),this.getStylingString()},getStylingString:function(){for(var t in this.stylingstring="",this.settings)this.stylingstring+=t+":"+this.settings[t]+";";this.annotationurl.styling&&(this.stylingstring+=this.annotationurl.styling)},getTitle:function(){var t=this.rangetitle?this.rangetitle:"",e=!0;(this.rangelist.length>1||"Page"!=this.annotationurl.title.substring(0,4))&&(!this.settings.perpage||this.settings.perpage<2)&&(this.rangetitle&&this.annotationurl.title&&this.rangetitle.indexOf(this.annotationurl.title)>-1&&(e=!1),this.rangetitle&&this.annotationurl.title&&e&&(t+=": "),t+=this.annotationurl.title&&e?this.annotationurl.title:""),this.settings.title=t},updateFullScreen:function(t){this.isfullscreen=t;for(var e=0;e<this.$children.length;e++)this.$children[e].$options.name.indexOf("storyboard")>-1&&(this.$children[e].fullscreen=t)}}},fu=pu,du=ma(fu,ru,ou,!1,null,null,null),gu=du.exports,vu={name:"storyboard2",props:{manifesturl:String,annotationurl:String,annotationlist:String,jsonannotation:Object,url:String,json:Object,styling:String,ws:String,layers:String,images:String},components:{storyboard:mc,multistoryboard:iu,rangestoryboard:gu},data:function(){return{jsondata:void 0,type:"",inputurl:"",isurl:!1}},methods:{getType:function(t){t="Array"===t.constructor.name?t[0]:t;var e=t["type"]?t["type"]:t["@type"];e=e?e.toLowerCase():e,e.indexOf("annotation")>-1?this.type="storyboard":this.type="rangestoryboard",window.annonatype=this.type}},created:function(){var t=this.json?this.json:this.jsonannotation?this.jsonannotation:this.url?this.url:this.annotationurl?this.annotationurl:this.annotationlist;this.inputurl=this.url?this.url:this.annotationurl?this.annotationurl:this.annotationlist;var e=ua.isURL(t,""),n=this;this.isurl=e["isURL"],this.inputurl.split(";").length>1&&this.isurl||this.images?(this.type="multistoryboard",window.annonatype=this.type):e["isURL"]?ta().get(t+"?cb="+Date.now()).then((function(t){n.jsondata=t.data,n.getType(t.data)})).catch((function(t){console.log(t),n.type="multistoryboard"})):(this.jsondata=this.json?JSON.parse(this.json):this.jsonannotation?JSON.parse(this.jsonannotation):e["json"],this.getType(this.jsondata))}},mu=vu,yu=ma(mu,Kc,Jc,!1,null,null,null),bu=yu.exports,wu=function(){var t=this,e=t._self._c;return e("div",{staticClass:"searchapiview annonaview"},[t.rendered?e("div",{staticClass:"searchview"},[t._l(t.fielddata,(function(n,i){return e("input",{directives:[{name:"model",rawName:"v-model",value:t.fielddata[i].param,expression:"fielddata[index].param"}],key:i,attrs:{placeholder:n.name},domProps:{value:t.fielddata[i].param},on:{change:function(e){return t.search()},input:function(e){e.target.composing||t.$set(t.fielddata[i],"param",e.target.value)}}})})),t.renderurl?e("iiifannotation",{key:t.renderurl,attrs:{annotationurl:t.renderurl,styling:t.stylingstring,manifesturl:t.manifesturl}}):t._e()],2):e("div",[t._v(" Error with "+t._s(t.manifesturl)+" ")])])},_u=[],xu={name:"searchapi",components:{iiifannotation:Ma},props:{fields:{type:String,required:!1},manifesturl:{type:String,required:!0},searchapi:{type:String,required:!1},styling:{type:String,required:!1}},data:function(){return{renderurl:"",stylingstring:"",apiurl:"",manifest:"",rendered:!0,fielddata:[]}},created:function(){var t=this;for(var e in this.fielddata=this.fields?JSON.parse(this.fields.replace(/'/g,'"')):[{name:"Query",key:"q"}],this.settings=ua.getsettings(this),0!=this.settings.table_view&&(this.settings.table_view=!0),this.settings)this.stylingstring+=e+":"+this.settings[e]+";";this.searchapi?this.apiurl=this.searchapi:ta().get(this.manifesturl).then((function(e){if(t.manifest=e.data,e.data&&e.data.service){var n=e.data.service.filter((function(t){return t["@context"].indexOf("http://iiif.io/api/search/0/context.json")>-1}));t.apiurl=n[0]["@id"]}else t.rendered=!1})).catch((function(e){t.rendered=!1,console.log(e)}))},methods:{search:function(){for(var t=new URL(this.apiurl),e=0;e<this.fielddata.length;e++){var n=this.fielddata[e];t.searchParams.append(n.key,n.param)}this.renderurl=t.href}}},Su=xu,Tu=ma(Su,wu,_u,!1,null,null,null),Cu=Tu.exports;Zi.use(Xc),Zi.customElement("iiif-annotation",Ma),Zi.customElement("iiif-storyboard",bu),Zi.customElement("iiif-multistoryboard",iu),Zi.customElement("iiif-rangestoryboard",gu),Zi.customElement("iiif-searchapi",Cu)}()})();
//# sourceMappingURL=annona.js.map