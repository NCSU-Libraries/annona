(function(t){function i(i){for(var n,s,r=i[0],l=i[1],c=i[2],p=0,d=[];p<r.length;p++)s=r[p],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(i);while(d.length)d.shift()();return a.push.apply(a,c||[]),e()}function e(){for(var t,i=0;i<a.length;i++){for(var e=a[i],n=!0,r=1;r<e.length;r++){var l=e[r];0!==o[l]&&(n=!1)}n&&(a.splice(i--,1),t=s(s.s=e[0]))}return t}var n={},o={app:0},a=[];function s(i){if(n[i])return n[i].exports;var e=n[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=n,s.d=function(t,i,e){s.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,i){if(1&i&&(t=s(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)s.d(e,n,function(i){return t[i]}.bind(null,n));return e},s.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(i,"a",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.p="/iiif-tag-builder/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=i,r=r.slice();for(var c=0;c<r.length;c++)i(r[c]);var u=l;a.push([0,"chunk-vendors"]),e()})({0:function(t,i,e){t.exports=e("56d7")},"034f":function(t,i,e){"use strict";var n=e("64a9"),o=e.n(n);o.a},3282:function(t,i,e){},"44d3":function(t,i,e){"use strict";var n=e("3282"),o=e.n(n);o.a},"56d7":function(t,i,e){"use strict";e.r(i);e("cadf"),e("551c"),e("f751"),e("097d");var n=e("2b0e"),o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"app"}},[e("tagbuilder")],1)},a=[],s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"form"},[e("a",{on:{click:function(i){t.url=["https://dnoneill.github.io/annotate/annotations/fullbayeux-list.json"],t.viewtype="iiif-storyboard",t.listtype="annotationlist",t.updateListType(),t.settings["fit"]="horizontal"}}},[t._v("\nBayeux Example")]),e("br"),e("a",{on:{click:function(i){t.url=["https://dnoneill.github.io/annotate/annotations/wh234bz9013-0001-list.json"],t.viewtype="iiif-annotation",t.updateListType()}}},[t._v("\nExample with tags")]),e("br"),e("a",{on:{click:function(i){t.url=["https://dnoneill.github.io/annotate/annotations/ba-obj-722-conservation-list.json"],t.viewtype="iiif-storyboard",t.listtype="annotationlist",t.updateListType()}}},[t._v("\nExample with layers")]),e("br"),e("a",{on:{click:function(i){t.url=["https://dnoneill.github.io/annotate/annotations/131424-list.json"],t.viewtype="iiif-storyboard",t.updateListType(),t.props.layers[0]["label"]="<a href='https://www.wikidata.org/wiki/Q4792194'>View from Arles</a>",t.props.layers[0]["xywh"]="200,200,4750,6513",t.props.layers[0]["image"]="https://tools.wmflabs.org/zoomviewer/iipsrv.fcgi/?iiif=cache/8937e1777945b722457fac2cde0cf61b.tif/info.json",t.buildTags()}}},[t._v("\nExample with custom layers")]),e("br"),e("a",{on:{click:function(i){t.viewtype="iiif-multistoryboard",t.listtype="annotationlist",t.updateListType(),t.url=["https://ncsu-libraries.github.io/iiif-annotation/webannotations/mc00084-001-te0159-000-001-0001-list.json","https://ncsu-libraries.github.io/iiif-annotation/webannotations/ua023-015-003-bx0002-004-026-list.json"],t.buildTags()}}},[t._v("\nMultistoryboard Example")]),e("br"),e("a",{on:{click:function(i){t.viewtype="iiif-multistoryboard",t.listtype="annotationlist",t.updateListType(),t.url=["https://dnoneill.github.io/annotate/annotations/131424-list.json;"],t.props.images[0]="https://tools.wmflabs.org/zoomviewer/iipsrv.fcgi/?iiif=cache/8937e1777945b722457fac2cde0cf61b.tif/info.json",t.buildTags()}}},[t._v("\nMultistoryboard Example with custom image")]),e("br"),e("a",{on:{click:function(i){t.url=["https://dnoneill.github.io/annotate/ranges/range.json"],t.viewtype="iiif-rangestoryboard",t.updateListType()}}},[t._v("\nExample with range. Storyboards have layers.")]),e("br"),t._l(t.urllength,(function(i,n){return e("span",{key:n+"_urls"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.url[n],expression:"url[index]"}],attrs:{value:"",placeholder:"Annotation URL ",id:n+"_link"},domProps:{value:t.url[n]},on:{change:function(i){return t.buildTags()},input:function(i){i.target.composing||t.$set(t.url,n,i.target.value)}}})])})),"iiif-multistoryboard"==t.viewtype?e("span",[e("button",{on:{click:function(i){t.urllength+=1}}},[t._v("\n    Add Annotation URL\n  ")])]):t._e(),e("input",{directives:[{name:"model",rawName:"v-model",value:t.props["manifesturl"],expression:"props['manifesturl']"}],attrs:{placeholder:"Manifest URL (OPTIONAL)"},domProps:{value:t.props["manifesturl"]},on:{change:function(i){return t.buildTags()},input:function(i){i.target.composing||t.$set(t.props,"manifesturl",i.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.viewtype,expression:"viewtype"}],on:{change:[function(i){var e=Array.prototype.filter.call(i.target.options,(function(t){return t.selected})).map((function(t){var i="_value"in t?t._value:t.value;return i}));t.viewtype=i.target.multiple?e:e[0]},function(i){return t.updateListType()}]}},[e("option",{attrs:{disabled:"",value:""}},[t._v("Please select one")]),e("option",{attrs:{value:"iiif-storyboard"}},[t._v("Storyboard")]),e("option",{attrs:{value:"iiif-annotation"}},[t._v("Image Viewer")]),e("option",{attrs:{value:"iiif-multistoryboard"}},[t._v("Multistoryboard Viewer")]),e("option",{attrs:{value:"iiif-rangestoryboard"}},[t._v("Range Storyboard")])]),this.listoptions.length>0?e("select",{directives:[{name:"model",rawName:"v-model",value:t.listtype,expression:"listtype"}],on:{change:[function(i){var e=Array.prototype.filter.call(i.target.options,(function(t){return t.selected})).map((function(t){var i="_value"in t?t._value:t.value;return i}));t.listtype=i.target.multiple?e:e[0]},function(i){return t.buildTags()}]}},t._l(t.listoptions,(function(i){return e("option",{key:i.value,domProps:{value:i.value}},[t._v("\n    "+t._s(i.text)+"\n  ")])})),0):t._e(),t.viewtype?e("h2",[t._v("Settings")]):t._e(),t.viewtype?e("div",{class:t.viewtype,attrs:{id:"settings"}},[t.booleanoptions.length>0?e("div",{staticClass:"groupings"},[e("h2",[t._v("Boolean Settings")]),t._l(t.booleanoptions,(function(i){return e("div",{key:i},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings[i],expression:"settings[option]"}],attrs:{type:"checkbox",id:"option"},domProps:{value:i,checked:Array.isArray(t.settings[i])?t._i(t.settings[i],i)>-1:t.settings[i]},on:{change:[function(e){var n=t.settings[i],o=e.target,a=!!o.checked;if(Array.isArray(n)){var s=i,r=t._i(n,s);o.checked?r<0&&t.$set(t.settings,i,n.concat([s])):r>-1&&t.$set(t.settings,i,n.slice(0,r).concat(n.slice(r+1)))}else t.$set(t.settings,i,a)},function(i){return t.buildTags()}]}}),e("label",{attrs:{for:i}},[t._v(t._s(i))])])}))],2):t._e(),e("div",{staticClass:"groupings"},[e("h2",[t._v("Free Text fields")]),t._l(t.textsettings,(function(i){return e("div",{key:i},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings[i],expression:"settings[setting]"}],attrs:{placeholder:i},domProps:{value:t.settings[i]},on:{change:function(i){return t.buildTags()},input:function(e){e.target.composing||t.$set(t.settings,i,e.target.value)}}})])})),t.viewtype&&"iiif-annotation"!=t.viewtype?e("input",{directives:[{name:"model",rawName:"v-model",value:t.props["ws"],expression:"props['ws']"}],attrs:{placeholder:"websocket"},domProps:{value:t.props["ws"]},on:{change:function(i){return t.buildTags()},input:function(i){i.target.composing||t.$set(t.props,"ws",i.target.value)}}}):t._e(),t.viewtype&&"iiif-annotation"!=t.viewtype?e("span",{attrs:{id:"additionalinfo"}},t._l(t.additionalinfo,(function(i,n){return e("span",{key:n+"_additionalinfo"},[e("h3",[t._v("Additional Info")]),t._l(i,(function(i,o){return e("input",{directives:[{name:"model",rawName:"v-model",value:t.additionalinfo[n][o],expression:"additionalinfo[index][key]"}],key:o,attrs:{placeholder:"Additional Info "+o},domProps:{value:t.additionalinfo[n][o]},on:{input:function(i){i.target.composing||t.$set(t.additionalinfo[n],o,i.target.value)}}})}))],2)})),0):t._e(),t.viewtype&&"iiif-storyboard"==t.viewtype?e("span",{attrs:{id:"additionalinfo"}},[t._l(t.layers,(function(i,n){return e("div",{key:n+"_layers"},[e("h4",[t._v("Layer "+t._s(n+1))]),t._l(i,(function(i,o){return e("input",{directives:[{name:"model",rawName:"v-model",value:t.props.layers[n][o],expression:"props.layers[index][key]"}],key:o,attrs:{placeholder:"Layer "+(n+1)+" "+o},domProps:{value:t.props.layers[n][o]},on:{change:function(i){return t.buildTags()},input:function(i){i.target.composing||t.$set(t.props.layers[n],o,i.target.value)}}})}))],2)})),e("button",{on:{click:t.addLayer}},[t._v("\n     Add Additional Layer\n    ")])],2):t._e(),t.viewtype&&"iiif-multistoryboard"==t.viewtype?e("span",{attrs:{id:"additionalinfo"}},[t._l(t.props.images,(function(i,n){return e("div",{key:n+"_images"},[e("h4",[t._v("Image "+t._s(n+1))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.props.images[n],expression:"props.images[index]"}],attrs:{placeholder:"Image "+(n+1)+" "},domProps:{value:t.props.images[n]},on:{change:function(i){return t.buildTags()},input:function(i){i.target.composing||t.$set(t.props.images,n,i.target.value)}}})])})),e("button",{on:{click:function(i){return t.addListField("props","images","")}}},[t._v("\n     Add Additional Image\n    ")])],2):t._e()],2),t.viewtype&&"iiif-annotation"!=t.viewtype?e("div",{staticClass:"groupings"},[e("h2",[t._v("CSS")]),t._l(t.cssfields,(function(i,n){return e("div",{key:n+"_css"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.css,expression:"css"}],attrs:{type:"checkbox",id:"style.tag"},domProps:{value:i.tag,checked:Array.isArray(t.css)?t._i(t.css,i.tag)>-1:t.css},on:{change:[function(e){var n=t.css,o=e.target,a=!!o.checked;if(Array.isArray(n)){var s=i.tag,r=t._i(n,s);o.checked?r<0&&(t.css=n.concat([s])):r>-1&&(t.css=n.slice(0,r).concat(n.slice(r+1)))}else t.css=a},function(i){return t.buildTags()}]}}),e("label",{attrs:{for:i.tag}},[t._v("Hide "),e("span",{domProps:{innerHTML:t._s(i.icon)}})])])}))],2):t._e(),t.viewtype&&"iiif-annotation"!=t.viewtype?e("div",{staticClass:"groupings"},[e("h2",[t._v("Dropdowns")]),e("p",[t._v("Choose from one of the options")]),t._l(t.dropdowns,(function(i){return e("div",{key:i.field},[t._v("\n    "+t._s(i.field)+": "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.settings[i.field],expression:"settings[dropdown.field]"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var i="_value"in t?t._value:t.value;return i}));t.$set(t.settings,i.field,e.target.multiple?n:n[0])},function(i){return t.buildTags()}]}},[e("option",{attrs:{value:""}}),t._l(i.options,(function(i){return e("option",{key:i},[t._v(t._s(i))])}))],2)])}))],2):t._e(),t.viewtype&&"iiif-annotation"!=t.viewtype?e("div",{staticClass:"groupings"},[e("h2",[t._v("Color Choosers")]),t._l(t.colorpickers,(function(i){return e("div",{key:i.field},[e("span",{staticClass:"headerblock"},[t._v(t._s(i.field))]),t.viewtype&&"iiif-annotation"!=t.viewtype?e("color-picker",{attrs:{startColor:i.default,width:100,height:100},on:{"color-change":function(i){return t.buildTags()}},model:{value:t.settings[i.field],callback:function(e){t.$set(t.settings,i.field,e)},expression:"settings[colorfield.field]"}}):t._e()],1)}))],2):t._e(),t.viewtype&&"iiif-annotation"!=t.viewtype?e("div",{staticClass:"groupings"},[e("h2",[t._v("Tag Color Coding")]),t._l(t.settings.tagscolor,(function(i,n){return e("div",{key:n+"_tagscolor"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.tagscolor[n].tagvalue,expression:"settings.tagscolor[index].tagvalue"}],attrs:{placeholder:"tag field"},domProps:{value:t.settings.tagscolor[n].tagvalue},on:{change:function(i){return t.buildTags()},input:function(i){i.target.composing||t.$set(t.settings.tagscolor[n],"tagvalue",i.target.value)}}}),e("color-picker",{attrs:{width:100,height:100,startColor:t.colorpickers[0].default},on:{"color-change":function(i){return t.buildTags()}},model:{value:t.settings.tagscolor[n].color,callback:function(i){t.$set(t.settings.tagscolor[n],"color",i)},expression:"settings.tagscolor[index].color"}})],1)})),t.viewtype&&"iiif-annotation"!=t.viewtype?e("button",{on:{click:function(i){return t.addListField("settings","tagscolor",{tagvalue:"",color:""})}}},[t._v("\n   New Tag\n  ")]):t._e()],2):t._e()]):t._e(),t.tag?e("div",{staticClass:"tagfield"},[e("div",[t._v(t._s(t.tag))]),e("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.tag,expression:"tag"}]},[t._v("Copy Tag")])]):t._e(),e("span",{domProps:{innerHTML:t._s(t.tag)}})],2)},r=[],l=(e("28a5"),e("a481"),e("ac6a"),e("456d"),e("1e8a")),c={name:"tagbuilder",components:{ColorPicker:l["a"]},data:function(){return{url:[],manifesturl:"",viewtype:"",props:{},listoptions:[],listtype:"",settings:{},tag:"",booleanoptions:[],textsettings:[],dropdowns:[],overlay:"",colorpickers:[],additionalinfo:[{title:"",content:""}],cssfields:[],css:[],urllength:1,layers:[{label:"",xywh:"",image:"",section:"",rotation:""}]}},created:function(){},methods:{addListField:function(t,i,e){this[t][i].push(e),this.buildTags()},addLayer:function(){this.layers.push({label:"",xywh:"",image:"",section:"",rotation:""}),this.props.layers.push({label:"",xywh:"",image:"",section:"",rotation:""})},addImage:function(){this.props.images.push("")},updateListType:function(){this.css=[],this.props={},this.urllength=1,this.url=this.url.length>0?[this.url[0]]:[],this.settings={tagscolor:[{tagvalue:"",color:""}]},this.additionalinfo=[{title:"",content:""}],"iiif-annotation"!=this.viewtype&&"iiif-storyboard"!=this.viewtype||(this.listoptions=[{value:"annotationlist",text:"Annotation List",selected:!0},{value:"annotationurl",text:"Single Annotation"}]),"iiif-multistoryboard"==this.viewtype&&(this.listoptions=[{value:"annotationlists",text:"Annotation List",selected:!0},{value:"annotationurls",text:"Single Annotation"}]),"iiif-rangestoryboard"==this.viewtype&&(this.listoptions=[{value:"rangeurl",text:"Range URL",selected:!0}]),this.listtype=this.listoptions[0]["value"],this.booleanoptions="iiif-annotation"==this.viewtype?["hide_viewlarger","hide_fullobject","hide_tags","image_only","text_only","hide_tagcount"]:["autorun_onload","hide_toolbar","fullpage","hide_annocontrols","toggleoverlay","hide_tags","controller","togglelayers","hide_tagcount"],this.textsettings="iiif-annotation"==this.viewtype?["height","width"]:["autorun_interval","mapmarker","tts","truncate_length","customid","imagecrop","title"],this.dropdowns="iiif-annotation"==this.viewtype?[]:[{field:"fit",options:["fill","horizontal"]},{field:"panorzoom",options:["pan"]},{field:"textposition",options:["top","bottom","right","left"]},{field:"startenddisplay",options:["tags","info"]},{field:"annoview",options:["sidebyside","collapse"]}],this.colorpickers="iiif-annotation"==this.viewtype?[]:[{field:"overlaycolor",default:"#add8e6"},{field:"activecolor",default:"#90ee90"}],this.props.layers="iiif-storyboard"==this.viewtype?[{label:"",xywh:"",image:"",section:"",rotation:""}]:[],this.props.images="iiif-multistoryboard"==this.viewtype?[""]:[],this.cssfields="iiif-annotation"==this.viewtype?[]:[{tag:"#header_toolbar",icon:"Toolbar"},{tag:"#autoRunButton",icon:'<i class="fas fa-magic"></i>'},{tag:"#infoButton",icon:'<i class="fas fa-info-circle"></i>'},{tag:"#overlayButton",icon:'<i class="fas fa-toggle-on"></i>'},{tag:"#zoomInButton",icon:'<i class="fas fa-search-plus"></i>'},{tag:"#zoomOutButton",icon:'<i class="fas fa-search-minus"></i>'},{tag:"#homeZoomButton",icon:'<i class="fas fa-home"></i>'},{tag:"#previousButton",icon:'<i class="fa fa-arrow-left"></i>'},{tag:"#nextButton",icon:'<i class="fa fa-arrow-right"></i>'},{tag:"#fullScreenButton",icon:'<i class="fas fa-expand"></i>'},{tag:"#layerButton",icon:'<i class="fas fa-layer-group"></i>'},{tag:".annotation",icon:"Annotation Box"}],this.buildTags()},getsettings:function(){for(var t=this,i=this.colorpickers.map((function(t){return t.default})),e=Object.keys(this.settings).filter((function(e){return""!=t.settings[e]&&-1==i.indexOf(t.settings[e])})),n="",o=0;o<e.length;o++){var a=e[o],s=this.settings[a];if("tagscolor"===a){for(var r={},l=0;l<s.length;l++){var c=s[l];""!=c["tagvalue"]&&(r[c["tagvalue"]]=c["color"])}Object.keys(r).length>0&&(n+="".concat(a,": ").concat(JSON.stringify(r),";"))}else n+="".concat(a,": ").concat(s,";")}return n},getAdditionalInfo:function(){for(var t="",i=this.url?this.url[0].split("/").slice(-1)[0].replace(".json",""):"",e="",n=0;n<this.additionalinfo.length;n++){var o=this.additionalinfo[n],a="".concat(i,"_").concat(n,"_additionalinfo");o["content"]&&o["title"]&&(e+="".concat(a,";"),t+='<div id="'.concat(a,'" title="').concat(o["title"],'">').concat(o["content"],"</div>"))}return this.settings["additionalinfo"]=e.slice(0,-1),t},getpropstring:function(){var t="";for(var i in this.props){var e=this.props[i];e="images"==i?e.join(";"):e;var n="layers"==i&&e.length>0?e[0].image:"images"==i&&e.length>0?e[0]:e;e="layers"==i?JSON.stringify(e).replace(/'/g,'\\"'):e,n&&n.length>0&&(t+=" ".concat(i,"='").concat(e,"'"))}return t},buildCSS:function(){for(var t="",i=0;i<this.css.length;i++)t+=0==i?"<style>":"",t+="".concat(this.css[i]," {display: none;}"),t+=i==this.css.length-1?"</style>":"";return t},buildTags:function(){if(this.url.length>0&&this.listoptions.length>0){var t=this.getAdditionalInfo(),i=this.buildCSS(),e="".concat(t?t+"\n":"","\n          ").concat(i?i+"\n":"","<").concat(this.viewtype," ").concat(this.listtype,"='").concat(this.url.join(";"),"'"),n=this.getsettings(),o=this.getpropstring();o&&(e+="".concat(o)),n&&(e+=" styling='".concat(n,"'")),e+="></".concat(this.viewtype,">"),this.tag="",this.tag=e.trim()}}}},u=c,p=(e("44d3"),e("2877")),d=Object(p["a"])(u,s,r,!1,null,"0a01f9e2",null),g=d.exports,f={name:"app",components:{tagbuilder:g}},v=f,h=(e("034f"),Object(p["a"])(v,o,a,!1,null,null,null)),y=h.exports,m=e("af88");n["a"].use(m["a"]),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(y)}}).$mount("#app")},"64a9":function(t,i,e){}});
//# sourceMappingURL=app.0e840c82.js.map