(function(t){function e(e){for(var i,s,r=e[0],l=e[1],c=e[2],h=0,d=[];h<r.length;h++)s=r[h],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,r=1;r<n.length;r++){var l=n[r];0!==a[l]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={app:0},o=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/annona/tools/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("64a9"),a=n.n(i);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],s={name:"app"},r=s,l=(n("034f"),n("2877")),c=Object(l["a"])(r,a,o,!1,null,null,null),u=c.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("tagbuilder",{attrs:{apiurl:"/saveannonaview",collectionurl:"/createcollections"}})],1)},d=[],p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["/display"!=this.$route.path?n("div",[n("div",{staticClass:"form"},["flask"!=t.env.NODE_ENV?n("div",{staticClass:"examples"},[n("a",{attrs:{href:t.baseurl+"#/tag-builder?url=https://dnoneill.github.io/annotate/annotations/wh234bz9013-0001-list.json&viewtype=iiif-storyboard"}},[t._v("\n          Example with tags")]),n("br"),n("a",{attrs:{href:t.baseurl+"#/tag-builder?url=https%3A%2F%2Fdnoneill.github.io%2Fannotate%2Franges%2Frange.json&viewtype=iiif-storyboard"}},[t._v("\n          Example with range. Storyboards have layers.")]),n("br")]):t._e()]),n("div",{staticClass:"requiredfields"},[t._l(t.urllength,(function(e,i){return n("span",{key:i+"_urls"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.url[i],expression:"url[index]"}],key:i+"_link",attrs:{"aria-label":"Annotation URL "+i,value:"",placeholder:"Annotation URL or Manifest"},domProps:{value:t.url[i]},on:{change:function(e){return t.updateListType()},input:function(e){e.target.composing||t.$set(t.url,i,e.target.value)}}}),0!=i?n("button",{on:{click:function(e){return t.deleteField("url",i,"urllength")}}},[t._v("\n            Delete Annotation URL\n          ")]):t._e()])})),"iiif-storyboard"==t.viewtype?n("span",[n("button",{attrs:{"aria-label":"Add Annotation URL"},on:{click:function(e){t.urllength+=1}}},[t._v("\n            Add Annotation URL\n          ")])]):t._e(),n("select",{directives:[{name:"model",rawName:"v-model",value:t.viewtype,expression:"viewtype"}],attrs:{"aria-label":"dropdown for storyboard, imageviewer, multistoryboard, range storyboard"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.viewtype=e.target.multiple?n:n[0]},function(e){return t.updateListType()}]}},[n("option",{attrs:{disabled:"",value:""}},[t._v("Please select one")]),n("option",{attrs:{value:"iiif-storyboard"}},[t._v("Storyboard")]),n("option",{attrs:{value:"iiif-annotation"}},[t._v("Image Viewer")])]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.annotationtext,expression:"annotationtext"}],attrs:{"aria-label":"Annotation JSON to be used instead of annotation URL; Will convert to data URI.",type:"text",placeholder:"Annotation JSON to be used instead of annotation URL; Will convert to data URI."},domProps:{value:t.annotationtext},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.buildTags()},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:void e.preventDefault()},input:function(e){e.target.composing||(t.annotationtext=e.target.value)}}}),t.tag&&t.apiurl?n("div",{staticClass:"savebutton"},[t._m(0),n("input",{directives:[{name:"model",rawName:"v-model",value:t.apifilename,expression:"apifilename"}],attrs:{id:"savetoapi",placeholder:"filename for created file"},domProps:{value:t.apifilename},on:{input:function(e){e.target.composing||(t.apifilename=e.target.value)}}}),n("button",{on:{click:function(e){return t.savetoapi()}}},[t._v("Save")])]):t._e(),t.tag&&t.collectionurl&&"iiif-rangestoryboard"!=t.viewtype?n("div",{staticClass:"savecollection"},[t._m(1),n("select",{directives:[{name:"model",rawName:"v-model",value:t.savecollection["title"],expression:"savecollection['title']"}],attrs:{"aria-label":"collection"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.savecollection,"title",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[t._v("New Collection")]),t._l(t.parsecollections,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],2),n("input",{directives:[{name:"model",rawName:"v-model",value:t.savecollection["annotitle"],expression:"savecollection['annotitle']"}],attrs:{placeholder:"Annotation title","aria-label":"annotation title"},domProps:{value:t.savecollection["annotitle"]},on:{input:function(e){e.target.composing||t.$set(t.savecollection,"annotitle",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.savecollection["description"],expression:"savecollection['description']"}],attrs:{placeholder:"Annotation description","aria-label":"annotation title"},domProps:{value:t.savecollection["description"]},on:{input:function(e){e.target.composing||t.$set(t.savecollection,"description",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.savecollection["thumbnail"],expression:"savecollection['thumbnail']"}],attrs:{placeholder:"Annotation Thumbnail","aria-label":"annotation title"},domProps:{value:t.savecollection["thumbnail"]},on:{input:function(e){e.target.composing||t.$set(t.savecollection,"thumbnail",e.target.value)}}}),n("button",{on:{click:function(e){return t.savetocollection()}}},[t._v("Add to Collection")])]):t._e()],2),t.booleanoptions.length>0&&"iiif-annotation"==t.viewtype?n("div",{staticClass:"groupings"},t._l(t.booleanoptions,(function(e){return n("div",{key:e.name},[e.type?t._e():n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings[e.name],expression:"settings[option.name]"}],attrs:{type:"checkbox",id:e.name},domProps:{value:e.name,checked:Array.isArray(t.settings[e.name])?t._i(t.settings[e.name],e.name)>-1:t.settings[e.name]},on:{change:function(n){var i=t.settings[e.name],a=n.target,o=!!a.checked;if(Array.isArray(i)){var s=e.name,r=t._i(i,s);a.checked?r<0&&t.$set(t.settings,e.name,i.concat([s])):r>-1&&t.$set(t.settings,e.name,i.slice(0,r).concat(i.slice(r+1)))}else t.$set(t.settings,e.name,o)}}}),n("label",{attrs:{for:e.name}},[t._v(t._s(e.description)+"\n        ")])])})),0):t._e(),t.tag&&!t.apiurl?n("div",{staticClass:"tagfield",attrs:{"aria-label":"copy tag button"}},[n("div",{staticClass:"tagfieldline"},[t.tag?n("input",{attrs:{id:"tagdata"},domProps:{value:t.tag}}):t._e(),n("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.tag,expression:"tag"}]},[t._v("Copy Tag")])]),n("hr"),n("div",{staticClass:"tagfieldline"},[n("a",{attrs:{href:t.displayURL,target:"_blank"}},[t._v("Static URL")]),n("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.displayURL,expression:"displayURL"}]},[t._v("Copy URL")])])]):t._e(),n("div",{staticClass:"boardbuttons",staticStyle:{float:"right","padding-bottom":"20px"}},[n("button",{staticClass:"undobuttons",on:{click:function(e){return t.undo("reset")}}},[t._v("Reset")])])]):t._e(),n("div",{attrs:{id:"livedemo"}},[t.removebuttons.length>0?n("span",{staticStyle:{width:"100%",display:"flex",height:"22px"}},t._l(t.removebuttons,(function(e){return n("span",{key:e,staticStyle:{"font-size":"14px","background-color":"#f0f0f0",color:"red",height:"20px",border:"2px solid #d3d3d3",width:"100%","margin-right":"2px",position:"relative",padding:"0"},attrs:{id:"remove"+e}},[n("span",{on:{click:function(n){return t.removeItem(e)}}},[n("i",{staticClass:"fas fa-times"})])])})),0):t._e(),n("span",{domProps:{innerHTML:t._s(t.comptagcss)}}),"iiif-annotation"!=t.viewtype?n("span",{key:t.initialtag,domProps:{innerHTML:t._s(t.initialtag)}}):n("span",{key:t.tag,domProps:{innerHTML:t._s(t.tag)}})])])},f=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{attrs:{for:"savetoapi"}},[n("b",[t._v("Filename:")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{attrs:{for:"savecollection"}},[n("b",[t._v("Collection:")])])}],g=(n("8e6e"),n("7f7f"),n("a481"),n("ac6a"),n("456d"),n("28a5"),n("bd86")),v=(n("6b54"),{createScriptTag:function(t){var e=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),n=document.createElement("script");return n.setAttribute("type","application/json"),n.id=e,n.innerHTML=t,{id:e,outerHTML:n.outerHTML}},redirect:function(){var t=window.location.href;t.indexOf("/iiif-annotation/")>-1&&(location.href=t.replace(/\/iiif-annotation\//g,"/annona/"))}}),b=n("bc3a"),m=n.n(b),y={iiifstoryboard:function(){return[{name:"autorun_onload",description:"When enabled, this function has the storyboard auto run through\n         the annotations when the storyboard loads on the page. \n         The autorun functionality is avaliable through the toolbar, so this functionality should only be\n         enabled if you want the functionality to start on page load."},{name:"fullpage",description:"This will only fill the browser window. \n        It will only work with a single storyboard. \n        This will not display the storyboard full screen, due to the basic structure of the internet this can not be automated.\n         This will only fill the browser window"},{name:"toggleoverlay",description:"This setting shows the overlays on load.\n        The overlays are the shape of the annotations on the image."},{name:"controller",description:"Should only be instantiated if property of ws is also used.\n        The ws property can be seen in the Free text field section. \n        This setting sets the storyboard with the setting enabled \n        as being able to control other storyboards connected to the web socket server."},{name:"togglelayers",description:'This setting only works if there are layers in your storyboard.\n        If there are layers in your storyboard a <i class="fas fa-layer-group"></i> button\n        will appear in the toolbar. When enabled all the layers will automatically be loaded \n        in the viewer. By default the user has to toggle these layers.'},{name:"hide_tagcount",description:'This only works if there are tags in your annotation (<i class="fas fa-tags"></i> in toolbar).\n        By default, the viewer will the show the number of times each tag appears in the tag box.\n        This setting removes that count from view.\n        ',icon:"Tag count (in tag box)"},{name:"overlaynext",description:"When overlays have not been toggled, this will toggle only the overlay of the current annotation.\n        This feature is extremely useful for highlighting the specific feature of the annotation.\n        "},{name:"hide_annocontrols",description:'This setting hides <i class="fas fa-times close_button"></i>, <i class="fas fa-caret-square-up close_button"></i> \n        and any other icons in annotation box.',icon:"<i class='fas fa-times close_button'></i><i class='fas fa-caret-square-up close_button'></i>"},{name:"hide_toolbar",description:"This setting will hide the toolbar. \n        If you enable this setting it is recommended you enable toggle_overlays so users can interact with the storyboard.",icon:"entire toolbar"},{name:"hide_tagsbutton",description:'If there are tags in the annotation, \n        this will hide the tags button (<i class="fas fa-tags"></i>) in the toolbar\n        and stop keyboard shortcuts from rendering.',icon:"<i class='fas fa-tags'></i> button"},{name:"hide_autorunbutton",description:'Will stop the autorun button (<i class="fas fa-magic"></i>) from rendering and\n         will not allow the keyboard shortcuts to render.',icon:'<i class="fas fa-magic"></i>'},{name:"hide_infobutton",description:'Will stop the info button (<i class="fas fa-info"></i>) from rendering and\n        will not allow the keyboard shortcuts to render.',icon:'<i class="fas fa-info"></i>'},{name:"hide_overlaybutton",description:'Will stop the info button (<i class="fas fa-toggle-on"></i>) from rendering and\n        will not allow the keyboard shortcuts to render.',icon:'<i class="fas fa-toggle-on"></i>'},{name:"hide_reloadbutton",description:"Hides the reload button",icon:'<i class="fas fa-redo"></i>'},{name:"hide_layersbutton",description:'Will stop the info button (<i class="fas fa-layer-group"></i>) from rendering and\n        will not allow the keyboard shortcuts to render.',icon:'<i class="fas fa-layer-group"></i>'},{name:"hide_nextbuttons",description:'Will stop the prev (<i class="fas fa-arrow-left"></i>) \n        and next buttons (<i class="fas fa-arrow-right"></i>) from rendering \n        and will not allow the keyboard shortcuts to render.',icon:'<i class="fas fa-arrow-left"></i><i class="fas fa-arrow-right"></i>'},{name:"hide_fullscreenbutton",description:'Will stop the fullscreen button (<i class="fas fa-expand"></i>) from rendering and\n        will not allow the keyboard shortcuts to render.',icon:'<i class="fas fa-expand"></i>'},{name:"hide_shortcutbutton",description:'Will stop the shortcuts button (<i class="fas fa-keyboard"></i>) from rendering and\n        will not allow the keyboard shortcuts to render.',icon:'<i class="fas fa-keyboard"></i>'},{name:"hide_textoverlaybutton",description:'Will stop the textoverlay button (<i class="fas fa-align-justify"></i>) from rendering and\n        will not allow the keyboard shortcuts to render.',icon:'<i class="fas fa-align-justify"></i>'},{name:"hide_annotationtext",description:"This will hide the annotation text \n        associated with annotation while still allowing for the box to\n        appear for overlays and tags",icon:"annotation text"},{name:"transcription",description:"For annotations that contain transcriptions. \n        This will combine all annotations that the annotation recognizes as a transcription. \n        This requires a purpose of transcribing in W3 annotations \n        or a type of cnt:ContentAsText in OpenAnnotation standards. \n        If there are multiple annotations the transcription will display \n        first with this setting. \n        Enable the textfirst setting to set the comments first."},{name:"textfirst",description:"Will show the commenting annotations before the transcription. \n        Is only effective if used when the transcription setting is enabled."},{name:"toggletextoverlay",description:"Will have the text overlay toggled on the storyboard load. \n        This only works with Annotations that have a OCR text annotations. In OpenAnnotation \n        it is Cnt:ContentAsText with sc:paiting.\n        In W3 web annotations it is anything with a purpose of transcribing or supplementing.\n        \n        "}]},iiifmultistoryboard:function(){var t=this.iiifstoryboard();return t.push({name:"matchclick",description:"When clicking overlays the default is the match\n       the position on the image. \n       If you would like to match position in annotation set this to true."}),t.push({name:"continousboard",description:"Instead of having annotations being tabbed together, this setting allows\n      the users to view all annotations in order (based on board order). All of the annotaitons \n      in the first board will be run through, then the next board, etc.\n      "}),t},iiifrangestoryboard:function(){return this.iiifstoryboard()},iiifannotation:function(){return[{name:"hide_viewlarger",description:"Hides the “View Full Image” button"},{name:"hide_fullobject",description:"Hides the full object url"},{name:"hide_tags",description:"Hides the tags if they exists in the annotation."},{name:"image_only",description:"Will only show the annotated image."},{name:"text_only",description:"Will only show the text and tags"},{name:"hide_tagcount",description:"Will hide the count number in the tag."},{name:"hide_beforeafter",description:"Will hide the before and after results from search views."},{name:"table_view",description:"Displays annotations in a table. \n        tagscolor, hide_tagcount do not work with this view"}]}};function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){Object(g["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var x={name:"tagbuilder",props:["apiurl","collectionurl","collections"],data:function(){return{url:"",env:Object({NODE_ENV:"production",BASE_URL:"/annona/tools/"}),baseurl:"",annotationtext:"",booleanoptions:[],removebuttons:[],settings:{},tag:"",tagcss:"",tagshown:!1,savecollection:{title:"",annotitle:"",description:"",thumbnail:""}}},created:function(){v.redirect(),"/display"!=this.$route.path&&(window.addEventListener("change",this.changeInSettings),window.addEventListener("click",this.changeInSettings),window.addEventListener("wheel",this.changeInSettings)),this.collections&&(this.parsecollections=this.parseJSON(this.collections));var t=document.getElementById("collections");t&&(this.parsecollections=this.parseJSON(t.innerHTML)),this.baseurl="/annona/tools/",this.initialtag=this.buildTags()},watch:{settings:{deep:!0,handler:function(){this.tag=this.buildTags(),this.updateRouter()}},url:{deep:!0,handler:function(t,e){JSON.stringify(t)!=JSON.stringify(e)&&(this.initialtag=this.buildTags())}},"$route.query":{handler:function(t,e){JSON.stringify(t)!=JSON.stringify(e)&&this.setParams()},immediate:!0,deep:!0}},computed:{comptagcss:function(){return"<style>".concat(this.tagcss,"</style>")},displayURL:function(){var t=JSON.parse(JSON.stringify(this.settings));t["fullpage"]=!0;var e={url:this.url.join(";"),viewtype:this.viewtype,manifesturl:this.manifesturl,apiurl:this.apiurl,settings:JSON.stringify(t)},n=window.location.protocol+"//"+location.hostname+(location.port?":"+location.port:""),i="flask"!=this.env.NODE_ENV?"".concat(n).concat(this.$router.resolve({name:"display",query:e}).href):"https://ncsu-libraries.github.io/annona/tools/#/tag-builder".concat(this.$router.resolve({name:"display",query:e}).href);return i}},methods:{changeInSettings:function(t){if(window.annonasettings){var e=_({},this.settings,{},JSON.parse(JSON.stringify(window.annonasettings))),n=this.cleanSettings(e);this.settings=n}},updateListType:function(){this.props={},this.settings={},this.url=this.url.length>1&&"iiif-storyboard"==this.viewtype?this.url:[this.url[0]],!(this.url.length>1&&"iiif-storyboard"==this.viewtype)||this.url.length,this.initialtag=this.buildTags()},cleanSettings:function(t){var e={toggletextoverlay:[!1],toggleoverlay:[!1],truncate_length:[2],autorun_interval:[3],startposition:[0],zoom:[!1],startenddisplay:[!1,"anno"],title:[t["title"]]};for(var n in e)e[n].indexOf(t[n])>-1&&delete t[n];return t},savetoapi:function(){m.a.post(this.apiurl,{tag:this.tag,slug:this.apifilename,url:this.$route.fullPath}).then((function(t){console.log(t),alert(t.statusText)})).catch((function(t){alert(t)}))},savetocollection:function(){var t={add:!0,annotations:[{board:this.tag,description:this.savecollection["description"],thumbnail:this.savecollection["thumbnail"],title:this.savecollection["annotitle"],url:this.url.join(";"),viewtype:this.viewtype,annotation:""}],title:this.savecollection["title"]};this.annotationtext&&(t["annotations"][0]["annotation"]=this.annotationtext,t["annotations"][0]["board"]=this.tag.split("<\/script>")[1]),this.savecollection["title"]?m.a.post(this.collectionurl,t).then((function(t){console.log(t),alert("Success!")})).catch((function(t){alert(t)})):location.href="".concat(this.collectionurl,"?tag=").concat(t["annotations"][0]["board"],"&viewtype=").concat(this.viewtype,"&url=").concat(this.url.join(";"),"&desc=").concat(this.savecollection["description"],"&annotitle=").concat(this.savecollection["annotitle"],"&annotation=").concat(this.annotationtext)},undo:function(t){var e=this.parseJSON(JSON.stringify(this.settings));if("last"==t){var n=Object.keys(this.settings).slice(-1)[0];delete e[n],this.settings=e}else"reset"==t&&(this.settings={},this.tagcss="",window.annonasettings={},this.initialtag=this.buildTags())},setParams:function(){var t=this.$route.query;this.url=t.url?t.url.split(";"):[],this.urllength=this.url.length>1?this.url.length:1;var e=t.viewtype?t.viewtype:"";e=e.replace("range","").replace("multi",""),this.viewtype=e,this.booleanoptions="iiif-annotation"==e?y.iiifannotation():[],console.log(this.booleanoptions),this.manifesturl=t.manifesturl?t.manifesturl:"";var n=t.settings?JSON.parse(t.settings):{};t.apiurl&&(this.apiurl=t.apiurl),this.settings=n,t.props&&(this.props=JSON.parse(t.props)),t.css&&(this.css=Object.assign(this.css,JSON.parse(t.css)))},parseJSON:function(t){try{return JSON.parse(t)}catch(e){return[]}},removeItem:function(t){var e=this.parseJSON(JSON.stringify(this.settings));"prev"==t||"next"==t?(e["hide_nextbuttons"]=!0,this.settings=e,this.tagcss+="#prevButton, #removeprev, #nextButton, #removenext {display: none;}"):(e["hide_".concat(t,"button")]=!0,this.settings=e,this.tagcss+="#".concat(t,"Button, #remove").concat(t," {display: none;}"))},getsettings:function(){var t="";for(var e in this.settings){var n=Object.keys(this.settings[e]);n.length>0&&"0"!=n[0]?t+="".concat(e,": ").concat(JSON.stringify(this.settings[e]),";"):t+="".concat(e,": ").concat(this.settings[e],";")}return t},updateRouter:function(){var t=JSON.stringify(this.settings),e={url:this.url.join(";"),viewtype:this.viewtype,manifesturl:this.manifesturl,apiurl:this.apiurl,settings:t};if(JSON.stringify(this.$route.query)==JSON.stringify(e))return!1;this.$router.push({name:this.$route.name,query:e}).catch((function(t){console.log("router error"),console.log(t)}))},buildTags:function(){if((this.url.length>0||this.annotationtext.length>0)&&""!=this.viewtype){if(this.annotationtext){var t="base64,"+btoa(unescape(encodeURIComponent(this.annotationtext)));this.url=[t]}this.apiurl&&!this.apifilename&&(this.apifilename=this.url[0].split("/").slice(-1)[0].replace(".json",""));var e="annotationurl";"iiif-storyboard"==this.viewtype&&(e="url");var n="<".concat(this.viewtype," ").concat(e,"='").concat(this.url.join(";"),"'"),i=this.getsettings();console.log(i),this.manifesturl&&(n+=" manifesturl='".concat(this.manifesturl,"'")),i&&(n+=" styling='".concat(i,"'")),n+="></".concat(this.viewtype,">");var a=this;return setTimeout((function(){var t=document.getElementsByClassName("toolbaractive");a.removebuttons=[];for(var e=0;e<t.length;e++)a.removebuttons.push(t[e].id.replace("Button",""))}),"220"),n.trim()}}}},O=x,k=(n("5eea"),Object(l["a"])(O,p,f,!1,null,"3702a63b",null)),S=k.exports,T={name:"flaskapp",components:{tagbuilder:S}},N=T,j=(n("fb7f"),Object(l["a"])(N,h,d,!1,null,null,null)),P=(j.exports,n("8c4f")),A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.items,(function(e){return n("div",{key:e.path},[n("router-link",{attrs:{to:e.path}},[t._v("\n        "+t._s(e.name)+"\n    ")]),n("p",[t._v(t._s(e.blurb))])],1)})),0)},J=[],L={created:function(){var t=this;v.redirect(),this.$router.options.routes.forEach((function(e){t.items.push({name:e.title,path:e.path,blurb:e.blurb})}))},data:function(){return{items:[]}}},E=L,$=Object(l["a"])(E,A,J,!1,null,null,null),C=$.exports,I=n("af88"),R=n("6018");i["a"].use(R["b"]),i["a"].component("tippy",R["a"]),i["a"].use(P["a"]),i["a"].use(I["a"]),i["a"].config.productionTip=!1;var W=[{path:"/",component:C,name:"index"},{path:"/display",component:S,alias:"/display",name:"display",title:"Display Annona items",blurb:"Static URL to display Annona views"},{path:"/tag-builder",component:S,name:"tagbuilder",title:"Tag Builder",blurb:"The Tag Builder is a user interface for creating tags to be used with this library. It provides a more user friendly way of implementing settings."}];var U=new P["a"]({base:"/annona/tools/",routes:W});new i["a"]({render:function(t){return t(u)},router:U}).$mount("#app")},"5eea":function(t,e,n){"use strict";var i=n("a7d4"),a=n.n(i);a.a},"64a9":function(t,e,n){},a7d4:function(t,e,n){},b498:function(t,e,n){},fb7f:function(t,e,n){"use strict";var i=n("b498"),a=n.n(i);a.a}});
//# sourceMappingURL=app.js.map